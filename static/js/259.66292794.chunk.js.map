{"version":3,"file":"static/js/259.66292794.chunk.js","mappings":";yGAgBA,SAASA,EAAMC,EAAGC,GACdC,KAAKF,EAAIA,EACTE,KAAKD,EAAIA,EAhBbE,EAAOC,QAAUL,EAmBjBA,EAAMM,UAAY,CAOdC,MAAO,WAAa,OAAO,IAAIP,EAAMG,KAAKF,EAAGE,KAAKD,IAQlDM,IAAS,SAASC,GAAK,OAAON,KAAKI,QAAQG,KAAKD,IAQhDE,IAAS,SAASF,GAAK,OAAON,KAAKI,QAAQK,KAAKH,IAQhDI,YAAgB,SAASJ,GAAK,OAAON,KAAKI,QAAQO,aAAaL,IAQ/DM,WAAgB,SAASN,GAAK,OAAON,KAAKI,QAAQS,YAAYP,IAQ9DQ,KAAS,SAASC,GAAK,OAAOf,KAAKI,QAAQY,MAAMD,IAQjDE,IAAS,SAASF,GAAK,OAAOf,KAAKI,QAAQc,KAAKH,IAQhDI,OAAS,SAASC,GAAK,OAAOpB,KAAKI,QAAQiB,QAAQD,IASnDE,aAAe,SAASF,EAAEd,GAAK,OAAON,KAAKI,QAAQmB,cAAcH,EAAEd,IAOnEkB,QAAS,SAASC,GAAK,OAAOzB,KAAKI,QAAQsB,SAASD,IASpDE,KAAS,WAAa,OAAO3B,KAAKI,QAAQwB,SAQ1CC,KAAS,WAAa,OAAO7B,KAAKI,QAAQ0B,SAO1CC,MAAS,WAAa,OAAO/B,KAAKI,QAAQ4B,UAQ1CC,IAAK,WACD,OAAOC,KAAKC,KAAKnC,KAAKF,EAAIE,KAAKF,EAAIE,KAAKD,EAAIC,KAAKD,IASrDqC,OAAQ,SAASC,GACb,OAAOrC,KAAKF,IAAMuC,EAAMvC,GACjBE,KAAKD,IAAMsC,EAAMtC,GAQ5BuC,KAAM,SAAShC,GACX,OAAO4B,KAAKC,KAAKnC,KAAKuC,QAAQjC,KAUlCiC,QAAS,SAASjC,GACd,IAAIkC,EAAKlC,EAAER,EAAIE,KAAKF,EAChB2C,EAAKnC,EAAEP,EAAIC,KAAKD,EACpB,OAAOyC,EAAKA,EAAKC,EAAKA,GAQ1BC,MAAO,WACH,OAAOR,KAAKS,MAAM3C,KAAKD,EAAGC,KAAKF,IAQnC8C,QAAS,SAASC,GACd,OAAOX,KAAKS,MAAM3C,KAAKD,EAAI8C,EAAE9C,EAAGC,KAAKF,EAAI+C,EAAE/C,IAQ/CgD,UAAW,SAASD,GAChB,OAAO7C,KAAK+C,aAAaF,EAAE/C,EAAG+C,EAAE9C,IAUpCgD,aAAc,SAASjD,EAAGC,GACtB,OAAOmC,KAAKS,MACR3C,KAAKF,EAAIC,EAAIC,KAAKD,EAAID,EACtBE,KAAKF,EAAIA,EAAIE,KAAKD,EAAIA,IAG9B2B,SAAU,SAASD,GACf,IAAI3B,EAAI2B,EAAE,GAAKzB,KAAKF,EAAI2B,EAAE,GAAKzB,KAAKD,EAChCA,EAAI0B,EAAE,GAAKzB,KAAKF,EAAI2B,EAAE,GAAKzB,KAAKD,EAGpC,OAFAC,KAAKF,EAAIA,EACTE,KAAKD,EAAIA,EACFC,MAGXO,KAAM,SAASD,GAGX,OAFAN,KAAKF,GAAKQ,EAAER,EACZE,KAAKD,GAAKO,EAAEP,EACLC,MAGXS,KAAM,SAASH,GAGX,OAFAN,KAAKF,GAAKQ,EAAER,EACZE,KAAKD,GAAKO,EAAEP,EACLC,MAGXgB,MAAO,SAASD,GAGZ,OAFAf,KAAKF,GAAKiB,EACVf,KAAKD,GAAKgB,EACHf,MAGXkB,KAAM,SAASH,GAGX,OAFAf,KAAKF,GAAKiB,EACVf,KAAKD,GAAKgB,EACHf,MAGXW,aAAc,SAASL,GAGnB,OAFAN,KAAKF,GAAKQ,EAAER,EACZE,KAAKD,GAAKO,EAAEP,EACLC,MAGXa,YAAa,SAASP,GAGlB,OAFAN,KAAKF,GAAKQ,EAAER,EACZE,KAAKD,GAAKO,EAAEP,EACLC,MAGX4B,MAAO,WAEH,OADA5B,KAAKkB,KAAKlB,KAAKiC,OACRjC,MAGX8B,MAAO,WACH,IAAI/B,EAAIC,KAAKD,EAGb,OAFAC,KAAKD,EAAIC,KAAKF,EACdE,KAAKF,GAAKC,EACHC,MAGXqB,QAAS,SAASqB,GACd,IAAIM,EAAMd,KAAKc,IAAIN,GACfO,EAAMf,KAAKe,IAAIP,GACf5C,EAAIkD,EAAMhD,KAAKF,EAAImD,EAAMjD,KAAKD,EAC9BA,EAAIkD,EAAMjD,KAAKF,EAAIkD,EAAMhD,KAAKD,EAGlC,OAFAC,KAAKF,EAAIA,EACTE,KAAKD,EAAIA,EACFC,MAGXuB,cAAe,SAASmB,EAAOpC,GAC3B,IAAI0C,EAAMd,KAAKc,IAAIN,GACfO,EAAMf,KAAKe,IAAIP,GACf5C,EAAIQ,EAAER,EAAIkD,GAAOhD,KAAKF,EAAIQ,EAAER,GAAKmD,GAAOjD,KAAKD,EAAIO,EAAEP,GACnDA,EAAIO,EAAEP,EAAIkD,GAAOjD,KAAKF,EAAIQ,EAAER,GAAKkD,GAAOhD,KAAKD,EAAIO,EAAEP,GAGvD,OAFAC,KAAKF,EAAIA,EACTE,KAAKD,EAAIA,EACFC,MAGXgC,OAAQ,WAGJ,OAFAhC,KAAKF,EAAIoC,KAAKH,MAAM/B,KAAKF,GACzBE,KAAKD,EAAImC,KAAKH,MAAM/B,KAAKD,GAClBC,OAefH,EAAMqD,QAAU,SAAU9B,GACtB,OAAIA,aAAavB,EACNuB,EAEP+B,MAAMC,QAAQhC,GACP,IAAIvB,EAAMuB,EAAE,GAAIA,EAAE,IAEtBA,kCCpTX,IAAIiC,EAAMC,OAAOnD,UAAUoD,eACvBC,EAAS,IASb,SAASC,KA4BT,SAASC,EAAGC,EAAIC,EAASC,GACvB7D,KAAK2D,GAAKA,EACV3D,KAAK4D,QAAUA,EACf5D,KAAK6D,KAAOA,IAAQ,EActB,SAASC,EAAYC,EAASC,EAAOL,EAAIC,EAASC,GAChD,GAAkB,oBAAPF,EACT,MAAM,IAAIM,UAAU,mCAGtB,IAAIC,EAAW,IAAIR,EAAGC,EAAIC,GAAWG,EAASF,GAC1CM,EAAMX,EAASA,EAASQ,EAAQA,EAMpC,OAJKD,EAAQK,QAAQD,GACXJ,EAAQK,QAAQD,GAAKR,GAC1BI,EAAQK,QAAQD,GAAO,CAACJ,EAAQK,QAAQD,GAAMD,GADhBH,EAAQK,QAAQD,GAAKE,KAAKH,IADlCH,EAAQK,QAAQD,GAAOD,EAAUH,EAAQO,gBAI7DP,EAUT,SAASQ,EAAWR,EAASI,GACI,MAAzBJ,EAAQO,aAAoBP,EAAQK,QAAU,IAAIX,SAC5CM,EAAQK,QAAQD,GAU9B,SAASK,IACPxE,KAAKoE,QAAU,IAAIX,EACnBzD,KAAKsE,aAAe,EAxElBhB,OAAOmB,SACThB,EAAOtD,UAAYmD,OAAOmB,OAAO,OAM5B,IAAIhB,GAASiB,YAAWlB,GAAS,IA2ExCgB,EAAarE,UAAUwE,WAAa,WAClC,IACIC,EACAC,EAFAC,EAAQ,GAIZ,GAA0B,IAAtB9E,KAAKsE,aAAoB,OAAOQ,EAEpC,IAAKD,KAASD,EAAS5E,KAAKoE,QACtBf,EAAI0B,KAAKH,EAAQC,IAAOC,EAAMT,KAAKb,EAASqB,EAAKG,MAAM,GAAKH,GAGlE,OAAIvB,OAAO2B,sBACFH,EAAMI,OAAO5B,OAAO2B,sBAAsBL,IAG5CE,GAUTN,EAAarE,UAAUgF,UAAY,SAAmBnB,GACpD,IAAIG,EAAMX,EAASA,EAASQ,EAAQA,EAChCoB,EAAWpF,KAAKoE,QAAQD,GAE5B,IAAKiB,EAAU,MAAO,GACtB,GAAIA,EAASzB,GAAI,MAAO,CAACyB,EAASzB,IAElC,IAAK,IAAI0B,EAAI,EAAGC,EAAIF,EAASG,OAAQC,EAAK,IAAIrC,MAAMmC,GAAID,EAAIC,EAAGD,IAC7DG,EAAGH,GAAKD,EAASC,GAAG1B,GAGtB,OAAO6B,GAUThB,EAAarE,UAAUsF,cAAgB,SAAuBzB,GAC5D,IAAIG,EAAMX,EAASA,EAASQ,EAAQA,EAChCmB,EAAYnF,KAAKoE,QAAQD,GAE7B,OAAKgB,EACDA,EAAUxB,GAAW,EAClBwB,EAAUI,OAFM,GAYzBf,EAAarE,UAAUuF,KAAO,SAAc1B,EAAO2B,EAAIC,EAAIC,EAAIC,EAAIC,GACjE,IAAI5B,EAAMX,EAASA,EAASQ,EAAQA,EAEpC,IAAKhE,KAAKoE,QAAQD,GAAM,OAAO,EAE/B,IAEI6B,EACAX,EAHAF,EAAYnF,KAAKoE,QAAQD,GACzB8B,EAAMC,UAAUX,OAIpB,GAAIJ,EAAUxB,GAAI,CAGhB,OAFIwB,EAAUtB,MAAM7D,KAAKmG,eAAenC,EAAOmB,EAAUxB,QAAIyC,GAAW,GAEhEH,GACN,KAAK,EAAG,OAAOd,EAAUxB,GAAGoB,KAAKI,EAAUvB,UAAU,EACrD,KAAK,EAAG,OAAOuB,EAAUxB,GAAGoB,KAAKI,EAAUvB,QAAS+B,IAAK,EACzD,KAAK,EAAG,OAAOR,EAAUxB,GAAGoB,KAAKI,EAAUvB,QAAS+B,EAAIC,IAAK,EAC7D,KAAK,EAAG,OAAOT,EAAUxB,GAAGoB,KAAKI,EAAUvB,QAAS+B,EAAIC,EAAIC,IAAK,EACjE,KAAK,EAAG,OAAOV,EAAUxB,GAAGoB,KAAKI,EAAUvB,QAAS+B,EAAIC,EAAIC,EAAIC,IAAK,EACrE,KAAK,EAAG,OAAOX,EAAUxB,GAAGoB,KAAKI,EAAUvB,QAAS+B,EAAIC,EAAIC,EAAIC,EAAIC,IAAK,EAG3E,IAAKV,EAAI,EAAGW,EAAO,IAAI7C,MAAM8C,EAAK,GAAIZ,EAAIY,EAAKZ,IAC7CW,EAAKX,EAAI,GAAKa,UAAUb,GAG1BF,EAAUxB,GAAG0C,MAAMlB,EAAUvB,QAASoC,OACjC,CACL,IACIM,EADAf,EAASJ,EAAUI,OAGvB,IAAKF,EAAI,EAAGA,EAAIE,EAAQF,IAGtB,OAFIF,EAAUE,GAAGxB,MAAM7D,KAAKmG,eAAenC,EAAOmB,EAAUE,GAAG1B,QAAIyC,GAAW,GAEtEH,GACN,KAAK,EAAGd,EAAUE,GAAG1B,GAAGoB,KAAKI,EAAUE,GAAGzB,SAAU,MACpD,KAAK,EAAGuB,EAAUE,GAAG1B,GAAGoB,KAAKI,EAAUE,GAAGzB,QAAS+B,GAAK,MACxD,KAAK,EAAGR,EAAUE,GAAG1B,GAAGoB,KAAKI,EAAUE,GAAGzB,QAAS+B,EAAIC,GAAK,MAC5D,KAAK,EAAGT,EAAUE,GAAG1B,GAAGoB,KAAKI,EAAUE,GAAGzB,QAAS+B,EAAIC,EAAIC,GAAK,MAChE,QACE,IAAKG,EAAM,IAAKM,EAAI,EAAGN,EAAO,IAAI7C,MAAM8C,EAAK,GAAIK,EAAIL,EAAKK,IACxDN,EAAKM,EAAI,GAAKJ,UAAUI,GAG1BnB,EAAUE,GAAG1B,GAAG0C,MAAMlB,EAAUE,GAAGzB,QAASoC,IAKpD,OAAO,GAYTxB,EAAarE,UAAUoG,GAAK,SAAYvC,EAAOL,EAAIC,GACjD,OAAOE,EAAY9D,KAAMgE,EAAOL,EAAIC,GAAS,IAY/CY,EAAarE,UAAU0D,KAAO,SAAcG,EAAOL,EAAIC,GACrD,OAAOE,EAAY9D,KAAMgE,EAAOL,EAAIC,GAAS,IAa/CY,EAAarE,UAAUgG,eAAiB,SAAwBnC,EAAOL,EAAIC,EAASC,GAClF,IAAIM,EAAMX,EAASA,EAASQ,EAAQA,EAEpC,IAAKhE,KAAKoE,QAAQD,GAAM,OAAOnE,KAC/B,IAAK2D,EAEH,OADAY,EAAWvE,KAAMmE,GACVnE,KAGT,IAAImF,EAAYnF,KAAKoE,QAAQD,GAE7B,GAAIgB,EAAUxB,GAEVwB,EAAUxB,KAAOA,GACfE,IAAQsB,EAAUtB,MAClBD,GAAWuB,EAAUvB,UAAYA,GAEnCW,EAAWvE,KAAMmE,OAEd,CACL,IAAK,IAAIkB,EAAI,EAAGT,EAAS,GAAIW,EAASJ,EAAUI,OAAQF,EAAIE,EAAQF,KAEhEF,EAAUE,GAAG1B,KAAOA,GACnBE,IAASsB,EAAUE,GAAGxB,MACtBD,GAAWuB,EAAUE,GAAGzB,UAAYA,IAErCgB,EAAOP,KAAKc,EAAUE,IAOtBT,EAAOW,OAAQvF,KAAKoE,QAAQD,GAAyB,IAAlBS,EAAOW,OAAeX,EAAO,GAAKA,EACpEL,EAAWvE,KAAMmE,GAGxB,OAAOnE,MAUTwE,EAAarE,UAAUqG,mBAAqB,SAA4BxC,GACtE,IAAIG,EAUJ,OARIH,GACFG,EAAMX,EAASA,EAASQ,EAAQA,EAC5BhE,KAAKoE,QAAQD,IAAMI,EAAWvE,KAAMmE,KAExCnE,KAAKoE,QAAU,IAAIX,EACnBzD,KAAKsE,aAAe,GAGftE,MAMTwE,EAAarE,UAAUsG,IAAMjC,EAAarE,UAAUgG,eACpD3B,EAAarE,UAAU2D,YAAcU,EAAarE,UAAUoG,GAK5D/B,EAAakC,SAAWlD,EAKxBgB,EAAaA,aAAeA,EAM1BvE,EAAOC,QAAUsE,2ECvJPmC,gFCjLZ,EAAiB,SAASC,EAAMxF,EAAGyB,GACjC,GAAIzB,IAAMyB,EAAG,OAAO,EAEpB,GAAIzB,GAAKyB,GAAiB,iBAALzB,GAA6B,iBAALyB,EAAe,CAC1D,GAAIzB,EAAEyF,cAAgBhE,EAAEgE,YAAa,OAAO,EAE5C,IAAItB,EAAQF,EAAGyB,EACf,GAAI3D,MAAMC,QAAQhC,GAAI,CAEpB,IADAmE,EAASnE,EAAEmE,SACG1C,EAAE0C,OAAQ,OAAO,EAC/B,IAAKF,EAAIE,EAAgB,IAARF,KACf,IAAKuB,EAAMxF,EAAEiE,GAAIxC,EAAEwC,IAAK,OAAO,EACjC,OAAO,EAKT,GAAIjE,EAAEyF,cAAgBE,OAAQ,OAAO3F,EAAE4F,SAAWnE,EAAEmE,QAAU5F,EAAE6F,QAAUpE,EAAEoE,MAC5E,GAAI7F,EAAE8F,UAAY5D,OAAOnD,UAAU+G,QAAS,OAAO9F,EAAE8F,YAAcrE,EAAEqE,UACrE,GAAI9F,EAAE+F,WAAa7D,OAAOnD,UAAUgH,SAAU,OAAO/F,EAAE+F,aAAetE,EAAEsE,WAIxE,IADA5B,GADAuB,EAAOxD,OAAOwD,KAAK1F,IACLmE,UACCjC,OAAOwD,KAAKjE,GAAG0C,OAAQ,OAAO,EAE7C,IAAKF,EAAIE,EAAgB,IAARF,KACf,IAAK/B,OAAOnD,UAAUoD,eAAewB,KAAKlC,EAAGiE,EAAKzB,IAAK,OAAO,EAEhE,IAAKA,EAAIE,EAAgB,IAARF,KAAY,CAC3B,IAAI+B,EAAMN,EAAKzB,GAEf,IAAKuB,EAAMxF,EAAEgG,GAAMvE,EAAEuE,IAAO,OAAO,EAGrC,OAAO,EAIT,OAAOhG,IAAIA,GAAKyB,IAAIA,GDjBTwE,EAAa,wBA4J1B,SAAYV,GACVA,EAAAA,EAAAA,YAAAA,GAAAA,cACAA,EAAAA,EAAAA,QAAAA,GAAAA,UACAA,EAAAA,EAAAA,QAAAA,GAAAA,UACAA,EAAAA,EAAAA,QAAAA,GAAAA,UAJF,CAAYA,IAAAA,EAKX,SAqBYW,EAAAA,WA4EX,cAcgB,IAbdC,EAac,EAbdA,OACAC,EAYc,EAZdA,mBACAC,EAWc,EAXdA,QACAC,EAUc,EAVdA,OAUc,IATdC,GAAAA,OASc,MATTN,EASS,EARdO,EAQc,EARdA,SAQc,IAPdC,UAAAA,OAOc,MAPF,GAOE,EANdC,EAMc,EANdA,OACAC,EAKc,EALdA,MACAC,EAIc,EAJdA,OAIc,IAHdC,QAAAA,OAGc,MAHJ,EAGI,MAFdC,IAAAA,OAEc,MAFR,0CAEQ,EADdC,EACc,EADdA,QAgBA,IAfc,eA9BR,KAAQC,SAAG,uBACX,KAASC,UAAgC,GACzC,KAAIC,MAAG,EACP,KAAOC,SAAG,EAEV,KAAMC,OAAiB,GA0B7BxI,KAAKuH,OAASA,EACdvH,KAAKwH,mBAAqBA,EAC1BxH,KAAKyH,QAAUA,EACfzH,KAAK0H,OAASA,EACd1H,KAAK2H,GAAKA,GAAMN,EAChBrH,KAAK4H,SAAWA,EAChB5H,KAAK6H,UAAYA,EACjB7H,KAAK8H,OAASA,EACd9H,KAAK+H,MAAQA,EACb/H,KAAKgI,OAASA,EACdhI,KAAKiI,QAAUA,EACfjI,KAAKkI,IAAMA,EACXlI,KAAKmI,QAAUA,EAEXb,EAAOmB,SAAU,CACnB,IAAKC,EAAQ1I,KAAK2I,QAASrB,EAAOmB,SAASE,SACzC,MAAM,IAAIC,MAAJ,kEACuDC,KAAKC,UAC9D9I,KAAK2I,SAFH,gBAGKE,KAAKC,UAAUxB,EAAOmB,SAASE,WAI5C,OAAOrB,EAAOmB,SAGhBnB,EAAOmB,SAAWzI,yCAGpB,WACE,MAAO,CACLmI,QAASnI,KAAKmI,QACdZ,OAAQvH,KAAKuH,OACbE,QAASzH,KAAKyH,QACdC,OAAQ1H,KAAK0H,OACbC,GAAI3H,KAAK2H,GACTE,UAAW7H,KAAK6H,UAChBD,SAAU5H,KAAK4H,SACfI,OAAQhI,KAAKgI,OACbF,OAAQ9H,KAAK8H,OACbC,MAAO/H,KAAK+H,MACZG,IAAKlI,KAAKkI,IACVV,mBAAoBxH,KAAKwH,wCAI7B,WACE,OAAIxH,KAAKwI,OAAOjD,OACPoB,EAAaoC,QAElB/I,KAAKsI,KACA3B,EAAaqC,QAElBhJ,KAAKuI,QACA5B,EAAasC,QAEftC,EAAauC,gCAGtB,WACE,OAAOlJ,KAAKsI,OAAStI,KAAKuI,SAAWvI,KAAKwI,OAAOjD,QAAUvF,KAAKiI,QAAU,2BAQrE,WACL,IAAIC,EAAMlI,KAAKkI,IAwCf,OAtCAA,GAAO,aAAJ,OAAiBlI,KAAKoI,UAErBpI,KAAKuH,SACPW,GAAO,QAAJ,OAAYlI,KAAKuH,SAGlBvH,KAAKyH,UACPS,GAAO,YAAJ,OAAgBlI,KAAKyH,UAGtBzH,KAAK0H,SACPQ,GAAO,WAAJ,OAAelI,KAAK0H,SAGrB1H,KAAK6H,UAAUtC,OAAS,IAC1B2C,GAAO,cAAJ,OAAkBlI,KAAK6H,UAAUsB,KAAK,OAGvCnJ,KAAK4H,WACPM,GAAO,aAAJ,OAAiBlI,KAAK4H,WAGvB5H,KAAKgI,SACPE,GAAO,WAAJ,OAAelI,KAAKgI,SAGrBhI,KAAKmI,UACPD,GAAO,MAAJ,OAAUlI,KAAKmI,UAGhBnI,KAAK8H,SACPI,GAAO,YAAJ,OAAgBlI,KAAK8H,OAAOqB,KAAK,OAGlCnJ,KAAKwH,qBACPU,GAAO,yBAAJ,OAA6BlI,KAAKwH,qBAGhCU,8BAGF,WACL,IAAMkB,EAASC,SAASC,eAAetJ,KAAK2H,IACxCyB,GACFA,EAAOG,6BAOJ,WACL,OAAOvJ,KAAKwJ,yCAQP,WAAW,WAChB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,EAAKC,cAAa,SAACC,GACZA,EAGHF,EAAOE,EAAIC,OAFXJ,EAAQK,OAAOC,0CAWhB,SAAarG,GAClB3D,KAAKqI,UAAUhE,KAAKV,GACpB3D,KAAKiK,mCAMC,WACN,GAAIZ,SAASC,eAAetJ,KAAK2H,IAE/B3H,KAAKkK,eAFP,CAMA,IAAMhC,EAAMlI,KAAKmK,YACXf,EAASC,SAASe,cAAc,UACtChB,EAAOzB,GAAK3H,KAAK2H,GACjByB,EAAOiB,KAAO,kBACdjB,EAAOkB,IAAMpC,EACbkB,EAAOmB,QAAUvK,KAAKwK,kBAAkBC,KAAKzK,MAC7CoJ,EAAOsB,OAAQ,EACftB,EAAOuB,OAAQ,EAEX3K,KAAK+H,QACPqB,EAAOrB,MAAQ/H,KAAK+H,OAGtBsB,SAASuB,KAAKC,YAAYzB,yBAMpB,WACNpJ,KAAK8K,eACL9K,KAAKsI,MAAO,EACZtI,KAAKuI,SAAU,EACfvI,KAAKwI,OAAS,GACdxI,KAAK+K,aAAe,0CAGd,WACF/K,KAAKgL,QACPhL,KAAKiL,yCAID,SAAkBC,GAAa,WAGrC,GAFAlL,KAAKwI,OAAOnE,KAAK6G,GAEblL,KAAKwI,OAAOjD,QAAUvF,KAAKiI,QAAS,CACtC,IAAMkD,EAAQnL,KAAKwI,OAAOjD,OAASrD,KAAAA,IAAAA,EAAKlC,KAAKwI,OAAOjD,QAEpD6F,QAAQC,IAAR,yDACoDF,EADpD,SAIAG,YAAW,WACT,EAAKR,eACL,EAAKS,cACJJ,QAEHnL,KAAK+K,aAAeG,EACpBlL,KAAKkK,sCAID,WACNH,OAAOyB,qBAAuBxL,KAAKkK,SAASO,KAAKzK,8BAG3C,WAAQ,WACdA,KAAKsI,MAAO,EACZtI,KAAKuI,SAAU,EAEfvI,KAAKqI,UAAUoD,SAAQ,SAACC,GACtBA,EAAG,EAAKX,iBAGV/K,KAAKqI,UAAY,0BAGX,WAGN,GAFArI,KAAK2L,wBAED3L,KAAKsI,KACPtI,KAAKkK,eACA,CAEL,GAAIH,OAAOC,QAAUD,OAAOC,OAAO4B,MAAQ7B,OAAOC,OAAO4B,KAAKzD,QAM5D,OALAiD,QAAQS,KACN,6JAGF7L,KAAKkK,WAIHlK,KAAKuI,UAGPvI,KAAKuI,SAAU,EACfvI,KAAK8L,cACL9L,KAAKuL,oBArVAjE,+bE/Mb,IAAMyE,EAAQ,CACZC,MAAO,OACPC,OAAQ,OACRC,KAAM,EACNC,IAAK,EACLC,OAAQ,EACRC,QAAS,EACTC,SAAU,YAGSC,EAAAA,SAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,YAAAA,KAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,UAAAA,OAAAA,EACnBC,sBAAA,WACE,UAAAC,EAGFC,OAAA,WAEE,OAAOC,EAAAA,cAAAA,MAAAA,CAAKC,IADc5M,KAAK6M,MAAvBC,cACwBf,MAAOA,KAAAA,EAPtBQ,CAAqBQ,EAAAA,WCVrBC,EAAAA,SAAAA,GACnB,WAAYC,GAAAA,IAAAA,EAAc,OACxBC,EAAAA,EAAAA,KAAAA,OAAAA,MACKD,aAAeA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,UAAAA,OAAAA,EAGtBE,YAAA,WACE,YAAYF,aAAaJ,MAAMO,UAAAA,EAGjCC,iBAAA,WACE,YAAYJ,aAAaK,QAAAA,EAG3BC,iBAAA,WACE,YAAYN,aAAaO,gBAAAA,EAG3BC,QAAA,WACEzN,KAAKiN,aAAe,KACpBjN,KAAKwG,sBAAAA,EApBYwG,CAAyBxI,KCDxCkJ,EAAO,SAACC,EAAK7G,GAEjB,QADW8G,EAAAA,EAAAA,GAASD,GACXtI,EAAI,EAAGA,EAAIyB,EAAKvB,OAAQF,IAAK,CACpC,IAAM+B,EAAMN,EAAKzB,GACb+B,KAAOwG,UACFA,EAAKxG,GAGhB,OAAOwG,GCEHrK,EAAiBD,OAAOnD,UAAUoD,eAMxC,SAASsK,EAAG/N,EAAGC,GAEb,OAAID,IAAMC,EAIK,IAAND,GAAiB,IAANC,GAAW,EAAID,GAAM,EAAIC,EAItCD,GAAMA,GAAKC,GAAMA,EAQ1B,SAAS+N,EAAaC,EAAMC,GAC1B,GAAIH,EAAGE,EAAMC,GACX,OAAO,EAGT,GACkB,iBAATD,GACE,OAATA,GACgB,iBAATC,GACE,OAATA,EAEA,OAAO,EAGT,IAAMC,EAAQ3K,OAAOwD,KAAKiH,GACpBG,EAAQ5K,OAAOwD,KAAKkH,GAE1B,GAAIC,EAAM1I,SAAW2I,EAAM3I,OACzB,OAAO,EAIT,IAAK,IAAIF,EAAI,EAAGA,EAAI4I,EAAM1I,OAAQF,IAChC,IACG9B,EAAewB,KAAKiJ,EAAMC,EAAM5I,MAChCwI,EAAGE,EAAKE,EAAM5I,IAAK2I,EAAKC,EAAM5I,KAE/B,OAAO,EAIX,SC3DF,IAAM8I,EAAY,CAChBnC,MAAO,OACPC,OAAQ,OACRC,KAAM,EACNC,IAAK,EACLC,OAAQ,EACRC,QAAS,EACTC,SAAU,YAGNP,EAAQ,CACZC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,IAAK,EACLiC,gBAAiB,cACjB9B,SAAU,YAGS+B,EAAAA,SAAAA,GAsBnB,WAAYxB,GAAAA,IAAAA,EAAO,OACjBK,EAAAA,EAAAA,KAAAA,KAAML,IAAAA,MAiDRyB,UAAY,iBAAO,CACjBlB,SAAUF,EAAKL,MAAM0B,WAAWpB,cAChCqB,cAAetB,EAAKL,MAAM0B,WAAWhB,qBAAAA,EAGvCkB,iBAAmB,WACjB,GAAKvB,EAAKwB,iBAAV,CAIA,IAAMC,GAAkBzB,EAAK0B,MAAMxB,UAAY,IAAI7H,OAC7CqJ,EAAQ1B,EAAKoB,YAEnBpB,EAAK2B,SACHD,GACA,kBACGA,EAAMxB,UAAY,IAAI7H,SAAWoJ,GAClCzB,EAAK4B,6BAAAA,EAIXC,cAAgB,WACV7B,EAAKL,MAAMmC,cACT9B,EAAK+B,kBAIP/B,EAAKL,MAAMmC,aAHM9B,EAAKgC,UACHhC,EAAK+B,mBAAAA,EAO9BE,kBAAoB,WACdjC,EAAKL,MAAMuC,kBACTlC,EAAK+B,kBAIP/B,EAAKL,MAAMuC,iBAHMlC,EAAKgC,UACHhC,EAAK+B,mBAAAA,EAO9BI,mBAAqB,SAACC,EAAUC,GACzBrC,EAAKwB,mBAINxB,EAAKL,MAAM2C,mBACbtC,EAAKL,MAAM2C,kBAAkBF,EAAUC,GAGzCrC,EAAK+B,iBAAmBM,EACxBrC,EAAKgC,UAAYI,EACjBpC,EAAK2B,SAAS,CAAES,SAAAA,MAAAA,EAGlBG,mBAAqB,WACnB,GAAKvC,EAAKwB,iBAAV,CAIA,IAAMY,EAAWpC,EAAKgC,UAGlBI,MAAAA,IACEpC,EAAKL,MAAM6C,mBACbxC,EAAKL,MAAM6C,kBAAkBJ,EAJdpC,EAAK+B,kBAOtB/B,EAAKgC,UAAY,KACjBhC,EAAK+B,iBAAmB,KACxB/B,EAAK2B,SAAS,CAAES,SAAU,UAAA7C,EAI9BkD,cAAgB,SAACC,GACVA,GACH1C,EAAKuC,qBAGPvC,EAAK2C,YAAcD,GAAAA,EAGrBd,sBAAwB,WAClB5B,EAAK2C,aACP3C,EAAK4C,4BAAAA,EAITA,yBAA2B,WACzB,GAAK5C,EAAKwB,iBAAV,CAIA,IAAMqB,EAAK7C,EAAKL,MAAM0B,WAAWlB,mBAEjC,GAAI0C,EAAI,CACN,IAAMC,EAAY,GACZC,EAAgB/C,EAAKL,MAAMqD,mBA+BjC,GA7BAvD,EAAAA,SAAAA,QAAuBO,EAAK0B,MAAMxB,UAAU,SAAC+C,EAAOC,GAClD,GAAKD,SAAAA,IAGHA,EAAMtD,MAAMwD,aAAAA,IACZF,EAAMtD,MAAMyD,UAAAA,IACZH,EAAMtD,MAAM0D,KAHd,CAQA,IAAMC,EACJL,MAAAA,EAAM/I,IACF+I,EAAM/I,IACNgJ,EACA9N,EAAO4K,EAAKL,MAAM4D,gBACtBvD,EAAKwB,iBAAiB8B,GACtBT,EACAI,EAAMtD,OAEJvK,EAAO2N,GACTD,EAAU3L,KAAK,CACb+C,IAAKoJ,EACLlO,KAAAA,EACAuK,MAAOsD,EAAMtD,YAKfmD,EAAUzK,OAAQ,CACpByK,EAAUU,MAAK,SAACtP,EAAGyB,GAAAA,OAAMzB,EAAEkB,KAAOO,EAAEP,QACpC,IAAMgN,EAAWU,EAAU,GAAG5I,IACxBmI,EAAaS,EAAU,GAAGnD,MAE5BK,EAAKgC,YAAcI,IACrBpC,EAAKuC,qBAELvC,EAAKmC,mBAAmBC,EAAUC,SAGpCrC,EAAKuC,0BAGPvC,EAAKuC,uBAAAA,EAITkB,eAAiB,SAACvJ,GAEhB,SAAYsH,iBADKtH,IApMjB8F,EAAKwB,iBAAmB,GACxBxB,EAAKgC,UAAY,KACjBhC,EAAK+B,iBAAmB,KACxB/B,EAAK2C,aAAAA,EAEL3C,EAAK0B,MAAAA,EAAAA,GAAa1B,EAAKoB,YAAAA,CAAagB,SAAU,OAAA7C,EAAAnM,EAAAA,EAAAA,GAAA,IAAAmM,EAAA,mBAAAA,EAGhDmE,kBAAA,WACE5Q,KAAK6M,MAAM0B,WAAWhI,GAAG,aAAcvG,KAAKyO,kBAC5CzO,KAAK6M,MAAM0B,WAAWhI,GACpB,4BACAvG,KAAK8O,uBAEP9O,KAAK6M,MAAM0B,WAAWhI,GAAG,YAAavG,KAAK+O,eAC3C/O,KAAK6M,MAAM0B,WAAWhI,GAAG,YAAavG,KAAKmP,oBAAAA,EAG7C3C,sBAAA,SAAsBqE,EAAWC,GAC/B,WAAI9Q,KAAK6M,MAAMkE,cAEVjD,EAAa9N,KAAK6M,MAAOgE,KACzB/C,EACCJ,EAAK1N,KAAK4O,MAAO,CAAC,aAClBlB,EAAKoD,EAAW,CAAC,eAMpBhD,EAAa9N,KAAK6M,MAAOgE,KACzB/C,EAAa9N,KAAK4O,MAAOkC,IAAAA,EAI9BE,qBAAA,WACEhR,KAAK6M,MAAM0B,WAAWpI,eAAe,aAAcnG,KAAKyO,kBACxDzO,KAAK6M,MAAM0B,WAAWpI,eACpB,4BACAnG,KAAK8O,uBAEP9O,KAAK6M,MAAM0B,WAAWpI,eAAe,YAAanG,KAAK+O,eACvD/O,KAAK6M,MAAM0B,WAAWpI,eAAe,YAAanG,KAAKmP,mBAEvDnP,KAAK0O,iBAAmB,MAAAjC,EA4J1BC,OAAA,sBACQuE,EAAmBjR,KAAK6M,MAAMd,OAASoC,EAC7CnO,KAAK0O,iBAAmB,GAExB,IAAMwC,EAAUvE,EAAAA,SAAAA,IACd3M,KAAK4O,MAAMxB,UACX,SAAC+C,EAAOC,GACN,GAAKD,EAAL,CACA,YACEA,EAAMtD,MAAMwD,aAAAA,IACZF,EAAMtD,MAAMyD,UAAAA,IACZH,EAAMtD,MAAM0D,IAEZ,OAAO5D,EAAAA,aAAmBwD,EAAO,CAC/BgB,YAAaC,EAAKvE,MAAMwE,WACxBC,cAAeF,EAAKzB,cACpB4B,WAAYH,EAAKvE,MAAM2E,YAI3B,IAAMnB,OAAAA,IACJF,EAAMtD,MAAMwD,OACRF,EAAMtD,MAAMwD,OACZ,CAAEC,IAAKH,EAAMtD,MAAMyD,IAAKC,IAAKJ,EAAMtD,MAAM0D,KAEzCkB,EAAKL,EAAKvE,MAAM6E,eAClBN,EAAKvE,MAAMwE,WAAWM,qBAAqBtB,GAC3Ce,EAAKvE,MAAMwE,WAAWO,wBAAwBvB,GAE5CwB,EAAa,CACjB3F,KAAMuF,EAAG3R,EACTqM,IAAKsF,EAAG1R,GAMV,YACEoQ,EAAMtD,MAAMiF,eAAAA,IACX3B,EAAMtD,MAAMkF,YAAAA,IAAuB5B,EAAMtD,MAAMmF,MAChD,CACA,IAAMF,OAAAA,IACJ3B,EAAMtD,MAAMiF,SACR3B,EAAMtD,MAAMiF,SACZ,CAAExB,IAAKH,EAAMtD,MAAMkF,MAAOxB,IAAKJ,EAAMtD,MAAMmF,OAE3CC,EAAOb,EAAKvE,MAAM6E,eACpBN,EAAKvE,MAAMwE,WAAWM,qBAAqBG,GAC3CV,EAAKvE,MAAMwE,WAAWO,wBAAwBE,GAElDD,EAAW7F,MAAQiG,EAAKnS,EAAI2R,EAAG3R,EAC/B+R,EAAW5F,OAASgG,EAAKlS,EAAI0R,EAAG1R,EAGlC,IAAMmS,EAAcd,EAAKvE,MAAMwE,WAAWc,2BACxC9B,GAKIG,EACJL,MAAAA,EAAM/I,IACF+I,EAAM/I,IACNgJ,EAQN,OANAgB,EAAK1C,iBAAiB8B,GAAAA,EAAAA,CACpB1Q,EAAGoS,EAAYpS,EACfC,EAAGmS,EAAYnS,GACZsQ,GAIH1D,EAAAA,cAAAA,MAAAA,CACEvF,IAAKoJ,EACLzE,MAAAA,EAAAA,GAAYA,EAAU8F,GACtBO,UAAWjC,EAAMtD,MAAMwF,wBAEtB1F,EAAAA,aAAmBwD,EAAO,CACzBmC,OAAQ9B,IAAaY,EAAKxC,MAAMU,SAChCiD,eAAgBnB,EAAKT,eACrB6B,cAAehC,EACfW,YAAaC,EAAKvE,MAAMwE,WACxBC,cAAeF,EAAKzB,cACpB4B,WAAYH,EAAKvE,MAAM2E,iBAOjC,OAAO7E,EAAAA,cAAAA,MAAAA,CAAKZ,MAAOkF,GAAmBC,IAAAA,EA3TrB7C,CAAyBtB,EAAAA,WAAzBsB,EAEZoE,UAAY,CACjBpB,WAAYqB,IAAAA,IACZ3G,MAAO2G,IAAAA,IACPjC,gBAAiBiC,IAAAA,KACjBnE,WAAYmE,IAAAA,IACZ1D,aAAc0D,IAAAA,KACdtD,iBAAkBsD,IAAAA,KAClBhD,kBAAmBgD,IAAAA,KACnBlD,kBAAmBkD,IAAAA,KACnBxC,iBAAkBwC,IAAAA,KAClBhB,eAAgBgB,IAAAA,KAChBlB,UAAWkB,IAAAA,MAbMrE,EAiBZsE,aAAe,CACpBjB,gBAAAA,EACAF,WAAAA,GC1CJ,IAAMzF,EAAQ,CACZC,MAAO,MACPC,OAAQ,MACRC,KAAM,MACNC,IAAK,MAELC,OAAQ,EACRC,QAAS,EACTC,SAAU,YAIZ,WAAyBO,GACvB,OACEF,EAAAA,cAAAA,MAAAA,CAAKZ,MAAOA,GACVY,EAAAA,cAAC0B,EAAAA,EAAAA,GAAqBxB,EAAAA,CAAO2E,WAAAA,MAAAA,IChB/BoB,EACAC,EACAC,EAEEC,EAAiB,IAAItJ,SAAQ,SAACC,GAClCoJ,EAAwBpJ,KAAAA,EAAAA,SAIVsJ,EAAkBC,GAGhC,IAAKD,EACH,OAAOD,EAIT,GAAIF,EACF,OAAOA,EAGJG,EAAiBnL,YACpBmL,EAAiBnL,UAAY,IAG/B,IAAMA,EAAAA,GAAAA,OAAgBmL,EAAiBnL,WA0BvC,GAvBIoL,IAGuB,IAArBpL,EAAUtC,QAAiBsC,EAAUqL,SAAS,kBAGhDrL,EAAUxD,KAAK,iBAEjB+G,QAAQS,KACN,sIAckB,oBAAX9B,OACT,MAAM,IAAInB,MAAM,mDA3CiC,IA8C3CxB,EAAqB4L,EAArB5L,IAAQ+L,EAAAA,SAAAA,EAAAA,GAAAA,GAAAA,MAAAA,EAAAA,MAAAA,GAAAA,IAAAA,EAAAA,EAAAA,EAAAA,GAAAA,EAAAA,OAAAA,KAAAA,GAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAAAA,EAAAA,QAAAA,EAAAA,EAAAA,KAAAA,IAAAA,EAAAA,GAAAA,EAAAA,IAAAA,OAAAA,EAAAA,CAAaH,EAAAA,CAAAA,QAmB7B,OAhBKJ,IACHA,EAAU,IAAItL,EAAAA,EAAAA,CAEZC,OAAQH,GAAO,IACZ+L,EAAAA,CACHtL,UAAAA,MAIJgL,EAAeD,EAAQQ,OAAOC,MAAK,WAEjC,OADAP,EAAsB/I,OAAOC,OAAO4B,MAC7B7B,OAAOC,OAAO4B,QAGvBkH,EAAsBD,GAEfA,GAAAA,SC1EOS,EAAK7G,EAAG8G,EAAKC,GAC3B,IAAMC,EAAID,EAAMD,EAChB,OAAO9G,IAAM+G,EAAM/G,IAAQA,EAAI8G,GAAOE,EAAKA,GAAKA,EAAKF,EAAAA,ICFlCG,EAAAA,WAiBnB,WAAYpD,EAAKC,GACf,GAAIoD,MAAMrD,IAAQqD,MAAMpD,GACtB,MAAM,IAAI3H,MAAAA,2BAAiC0H,EAAAA,KAAQC,EAAAA,KAErDvQ,KAAKsQ,KAAOA,EACZtQ,KAAKuQ,KAAOA,EAAAA,OAAAA,EAAAA,UAGd+C,KAAA,WACE,WAAWI,EAAO1T,KAAKsQ,IAAKgD,EAAKtT,KAAKuQ,KAAM,IAAK,OAAArF,EA1BhCwI,GAAAA,EACZxQ,QAAU,SAAC9B,GAChB,OAAIA,aAAasS,EACRtS,EAGL+B,MAAMC,QAAQhC,GAAAA,IACLsS,EAAOtS,EAAE,GAAIA,EAAE,IAGxB,QAASA,GAAK,QAASA,EAAAA,IACdsS,EAAOtS,EAAEkP,IAAKlP,EAAEmP,KAGtBnP,GAAAA,ICVUwS,EAAAA,WACnB,WAAYC,EAAUC,EAASC,GAC7B/T,KAAK6T,SAAWA,GAAY,IAE5B7T,KAAKgU,SAAWF,GAAW,EAC3B9T,KAAKiU,SAAWF,GAAW,GAE3B/T,KAAKkU,SAAW,EAAE,SAAU,UAE5BlU,KAAKgM,MAAQ,EACbhM,KAAKiM,OAAS,EACdjM,KAAKmU,KAAO,EACZnU,KAAKoU,OAAS,IAAIV,EAAO,EAAG,GAC5B1T,KAAK0C,MAAQ,+BAqDf2R,UAAA,SAAUF,GACR,OAAOjS,KAAKoS,IAAI,EAAGH,IAAAA,EAGrBI,UAAA,SAAUC,GACR,OAAOtS,KAAKmJ,IAAImJ,GAAStS,KAAKuS,KAAAA,EAGhCC,QAAA,SAAQC,EAAQC,GACd,WAAW/U,IAAX,CACEG,KAAK6U,KAAKF,EAAOpE,IAAKqE,GACtB5U,KAAK8U,KAAKH,EAAOrE,IAAKsE,KAAAA,EAI1BG,UAAA,SAAUC,EAAOJ,GACf,WAAWlB,EACT1T,KAAKiV,KAAKD,EAAMjV,EAAG6U,GACnB5U,KAAKkV,KAAKF,EAAMlV,EAAG8U,KAAAA,EAiBvBC,KAAA,SAAKM,EAAKP,GACR,OAAS,IAAMO,IAAQP,GAAa5U,KAAK4U,WAAc,KAAAQ,EAIzDN,KAAA,SAAKxE,EAAKsE,GAGR,OAAS,IADN,IAAM1S,KAAKmT,GAAMnT,KAAKmJ,IAAInJ,KAAKoT,IAAIpT,KAAKmT,GAAK,EAAK/E,EAAMpO,KAAKmT,GAAM,QACjDT,GAAa5U,KAAK4U,WAAc,KAAAQ,EAGvDF,KAAA,SAAKpV,EAAG8U,GACN,OAAY,IAAJ9U,GAAY8U,GAAa5U,KAAK4U,WAAa,KAAAQ,EAGrDH,KAAA,SAAKlV,EAAG6U,GAEN,WAAc1S,KAAKmT,GAAMnT,KAAKqT,KAAKrT,KAAKsT,KAD7B,IAAW,IAAJzV,GAAY6U,GAAa5U,KAAK4U,YACE1S,KAAKmT,GAAM,MAAQ,IAAAD,EAGvEK,cAAA,SAAcd,GACZ,IAAMrU,EAAIN,KAAK0U,QAAQC,GACvB,YAAYe,YAAYjV,KAAKT,KAAKgV,MAAMvU,KAAKH,GAAGe,QAAQrB,KAAK0C,SAAAA,EAG/DiT,cAAA,SAAcrV,GACZ,IAAMsV,EAAK5V,KAAK0V,YAAYjV,KAAKH,GAAGe,SAASrB,KAAK0C,OAClD,YAAYqS,UAAU/U,KAAKgV,MAAMxU,IAAIoV,MAAAA,EAAAA,CAAAA,CAAAA,IAAAA,UAAAA,IAAAA,WA/GrC,YAAY5B,UAAAA,IAAAA,SAGFG,GACVnU,KAAKgU,SAAWG,EAChBnU,KAAKmU,KAAOjS,KAAKsR,IAAIxT,KAAKmU,KAAMA,KAAAA,CAAAA,IAAAA,UAAAA,IAAAA,WAIhC,YAAYF,UAAAA,IAAAA,SAGFE,GACVnU,KAAKiU,SAAWE,EAChBnU,KAAKmU,KAAOjS,KAAKqR,IAAIvT,KAAKmU,KAAMA,KAAAA,CAAAA,IAAAA,YAAAA,IAAAA,WAIhC,YAAYN,SAAW7T,KAAKwU,QAAAA,CAAAA,IAAAA,cAAAA,IAAAA,WAI5B,WAAW3U,IAAX,CAAiB,EAAG,MAAAuH,IAAAA,OAAAyO,IAAAA,WAIpB,WAAWhW,IAAX,CAAiBG,KAAKgM,MAAOhM,KAAKiM,UAAAA,CAAAA,IAAAA,UAAAA,IAAAA,WAIlC,OAASjM,KAAK0C,MAAQR,KAAKmT,GAAM,KAAAS,IAAAA,SAGvBC,GACV/V,KAAK0C,OAAU4Q,EAAKyC,GAAU,IAAK,KAAO7T,KAAKmT,GAAM,OAAAjO,IAAAA,OAAAyO,IAAAA,WAIrD,YAAYG,OAAAA,IAAAA,SAGL7B,GACP,IAAM8B,EAAQ/T,KAAKqR,IAAIrR,KAAKsR,IAAIW,EAAMnU,KAAK8T,SAAU9T,KAAK+T,SAC1D/T,KAAKgW,MAAQC,EACbjW,KAAKwU,MAAQxU,KAAKqU,UAAU4B,GAC5BjW,KAAKkW,SAAWhU,KAAKiU,MAAMF,GAC3BjW,KAAKoW,aAAeH,EAAQjW,KAAKkW,WAAAA,CAAAA,IAAAA,IAAAA,IAAAA,WA0BjC,YAAYrB,KAAK7U,KAAKoU,OAAO7D,OAAAA,CAAAA,IAAAA,IAAAA,IAAAA,WAI7B,YAAYuE,KAAK9U,KAAKoU,OAAO9D,OAAAA,CAAAA,IAAAA,QAAAA,IAAAA,WAI7B,WAAWzQ,IAAX,CAAiBG,KAAKF,EAAGE,KAAKD,QAAAA,SAAAA,EAAAA,GAAAA,IAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAAAA,CAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,WAAAA,EAAAA,aAAAA,EAAAA,EAAAA,cAAAA,EAAAA,UAAAA,IAAAA,EAAAA,UAAAA,GAAAA,OAAAA,eAAAA,EAAAA,EAAAA,IAAAA,IAAAA,CAAAA,EAAAA,UAAAA,GAAAA,EAjGb6T,GCDAyC,EAAAA,WACnB,WAAYxC,GAGV7T,KAAKsW,UAAAA,EACLtW,KAAKuW,UAAAA,EACLvW,KAAKwW,WAAa,IAAI5C,EAAUC,GAAY,gCAG9C4C,QAAA,SAAQrC,EAAQD,EAAM4B,GACpB/V,KAAKwW,WAAWpC,OAASV,EAAOxQ,QAAQkR,GACxCpU,KAAKwW,WAAWrC,MAAQA,EACxBnU,KAAKwW,WAAWT,SAAWA,EAC3B/V,KAAKuW,UAAAA,GAAWG,EAGlBC,YAAA,SAAY3K,EAAOC,GACjBjM,KAAKwW,WAAWxK,MAAQA,EACxBhM,KAAKwW,WAAWvK,OAASA,EACzBjM,KAAKsW,UAAAA,GAAWI,EAGlBE,uBAAA,SAAuBhL,EAAMiL,GAC3B7W,KAAK8W,MAAQlL,EACb5L,KAAK+W,qBAAuBF,GAAAA,EAG9BG,WAAA,WACE,YAAYV,UAAYtW,KAAKuW,UAAAA,EAG/BU,QAAA,WACE,YAAYX,UAAAA,EAId1E,wBAAA,SAAwBsF,GACtB,YAAYV,WAAWf,cAAc/B,EAAOxQ,QAAQgU,KAAAA,EAOtDvF,qBAAA,SAAqBuF,GACnB,GAAIlX,KAAK+W,qBAAsB,CAC7B,IAAM1G,EAAS,IAAIrQ,KAAK8W,MAAMpD,OAAOwD,EAAS5G,IAAK4G,EAAS3G,KAC5D,YAAYwG,qBAAqBpF,qBAAqBtB,GAExD,YAAYuB,wBAAwBsF,IAAAA,EAItC/E,2BAAA,SAA2B+E,GACzB,GAAIlX,KAAK+W,qBAAsB,CAC7B,IAAM1G,EAAS,IAAIrQ,KAAK8W,MAAMpD,OAAOwD,EAAS5G,IAAK4G,EAAS3G,KAC5D,YAAYwG,qBAAqB5E,2BAA2B9B,GAG9D,IAAMoB,EAAKzR,KAAK4R,wBAAwBsF,GAOxC,OANAzF,EAAG3R,GACDE,KAAKwW,WAAW5B,UAAY1S,KAAKH,MAAM0P,EAAG3R,EAAIE,KAAKwW,WAAW5B,WAEhEnD,EAAG3R,GAAKE,KAAKwW,WAAWxK,MAAQ,EAChCyF,EAAG1R,GAAKC,KAAKwW,WAAWvK,OAAS,EAE1BwF,GAAAA,EAIT0F,2BAAA,SAA2BC,GACzB,GAAIpX,KAAK+W,qBAAsB,CAC7B,IAAM1G,EAASrQ,KAAK+W,qBAAqBI,2BAA2BC,GACpE,MAAO,CAAE9G,IAAKD,EAAOC,MAAOC,IAAKF,EAAOE,OAG1C,IAAM8G,EAAAA,EAAAA,GAAYD,GAClBC,EAAKvX,GAAKE,KAAKwW,WAAWxK,MAAQ,EAClCqL,EAAKtX,GAAKC,KAAKwW,WAAWvK,OAAS,EACnC,IAAMqL,EAAQtX,KAAKwW,WAAWb,cAAc9V,IAAAA,QAAcwX,IAG1D,OADAC,EAAM/G,KAAO,IAAMrO,KAAKH,MAAMuV,EAAM/G,IAAM,KACnC+G,GAAAA,EAGTC,SAAA,WACE,YAAYf,WAAWxK,OAAAA,EAGzBwL,UAAA,WACE,YAAYhB,WAAWvK,QAAAA,EAGzBwL,QAAA,WACE,YAAYjB,WAAWrC,MAAAA,EAGzBuD,UAAA,WAGE,OAFc1X,KAAKwW,WAAWb,cAAc,CAAE7V,EAAG,EAAGC,EAAG,KAAA2W,EAKzDiB,UAAA,SAAUC,EAASC,GACjB,IAAMC,EAAQF,GAAWA,EAAQ,IAAO,EAClCG,EAAQH,GAAWA,EAAQ,IAAO,EAClCI,EAAQJ,GAAWA,EAAQ,IAAO,EAClCK,EAAQL,GAAWA,EAAQ,IAAO,EAExC,GACE5X,KAAKuX,WAAaQ,EAAOE,EAAO,GAChCjY,KAAKwX,YAAcM,EAAOE,EAAO,EACjC,CACA,IAAME,EAAgBlY,KAAKwW,WAAWb,cACpC9V,IAAAA,QAAc,CACZC,EAAGmY,EAAOjY,KAAKuX,WAAa,EAC5BxX,EAAG+X,EAAO9X,KAAKwX,YAAc,KAG3BW,EAAoBnY,KAAKwW,WAAWb,cACxC9V,IAAAA,QAAc,CACZC,EAAGE,KAAKuX,WAAa,EAAIQ,EACzBhY,EAAGC,KAAKwX,YAAc,EAAIQ,KAI1BI,EAAM,CACRF,EAAc5H,IACd4H,EAAc3H,IACd4H,EAAkB7H,IAClB6H,EAAkB5H,IAClB4H,EAAkB7H,IAClB4H,EAAc3H,IACd2H,EAAc5H,IACd6H,EAAkB5H,KAMpB,OAHIsH,IACFO,EAAMA,EAAIC,KAAI,SAACC,GAAAA,OAAMpW,KAAKH,MAAMuW,EAAIT,GAAeA,MAE9CO,EAGT,MAAO,CAAC,EAAG,EAAG,EAAG,IAAAlN,EA/IAmL,GA+IA,SCpJGkC,EAAIrO,GAC1B,GAAIH,OAAOyO,sBACT,OAAOzO,OAAOyO,sBAAsBtO,GAGtC,IAAMuO,EACJ1O,OAAO2O,6BAA+B3O,OAAO4O,yBAE/C,OAAOF,EACHA,EAAUvO,GACVH,OAAOuB,WAAWpB,EAAU,IAAM,ICVxC,IAAM0O,EAAO1W,KAAK0W,KAAO1W,KAAK0W,KAAO,SAAC9Y,GAAAA,OAAMoC,KAAKmJ,IAAIvL,GAAKoC,KAAKuS,KAAAA,SCEvCoE,EAAKlL,EAAKhK,GAChC,OAAOL,OAAOwD,KAAK6G,GAAKmL,QAAO,SAACC,EAAQ3R,GAItC,OAHIzD,EAAGgK,EAAIvG,MACP2R,EAAO3R,GAAOuG,EAAIvG,IAEf2R,IACN,ICRL,IAAMC,EAAU,SAACC,GAEf,GAAY,OAARA,GAA+B,iBAARA,GACzB,GAAgC,IAA5B3V,OAAOwD,KAAKmS,GAAK1T,OACnB,OAAO,OAAP,GAEO0T,MAAAA,GAA6C,KAARA,EAE9C,OAAO,EAET,UCNIC,EAAiB5V,OAAOnD,UAAUgH,SAAAA,SAEhBgS,EAASvJ,GAE/B,MACmB,iBAAVA,GATX,SAAsBA,GACpB,QAASA,GAA0B,iBAAVA,EAD3B,CAUkBA,IAHE,oBAGQsJ,EAAenU,KAAK6K,GCThD,IAAIwJ,EAAuB,KAE3B,SAAwBC,IACtB,GAAID,EACF,OAAOA,EAGT,GAAyB,oBAAdE,UAA2B,CACpC,IAAMC,EAAaD,UAAUE,UAAUC,QAAQ,SAAW,EACpDC,EAAYJ,UAAUE,UAAUC,QAAQ,YAAc,EACtDE,EAAUL,UAAUE,UAAUI,cAAcH,QAAQ,OAAS,EAE/DI,EAAWP,UAAUE,UAAUC,QAAQ,WAAa,EACpDK,EAAWR,UAAUE,UAAUC,QAAQ,WAAa,EAiBxD,OAfII,GAAYC,IACdA,GAAAA,GAGED,GAAYF,IACdE,GAAAA,GAGFT,EAAuB,CACrBG,WAAAA,EACAG,UAAAA,EACAC,QAAAA,EACAE,SAAAA,EACAC,SAAAA,GAaJ,OARAV,EAAuB,CACrBS,UAAAA,EACAN,YAAAA,EACAG,WAAAA,EACAC,SAAAA,EACAG,UAAAA,GCtCJ,IAAMC,EAAa,SAACpW,GAAAA,OAAOqW,SAAS7Z,UAAUgH,SAASpC,KAAKpB,IAM5D,SAAwBsW,EAActM,GACpC,IAAKA,GAAsB,iBAARA,EACjB,OAAO,EAGT,IAAMuM,EACuB,mBAApBvM,EAAI9G,YACPvD,OAAO6W,eAAexM,GACtBrK,OAAOnD,UAEb,GAAc,OAAV+Z,EACF,OAAO,EAGT,IAAMrT,EAAcqT,EAAMrT,YAE1B,MACyB,mBAAhBA,GACPA,aAAuBA,GACvBkT,EAAWlT,KAAiBkT,EAAWzW,QAAAA,SCLnB8W,EACtBC,EACAC,EACAC,EACAC,GAEAH,EAAQI,iBACNH,EACAC,EA3BJ,WACE,IAAIG,GAAAA,EAEJ,IACE,IAAM/R,EAAUrF,OAAOqX,eAAe,GAAI,UAAW,CACnD9E,IAAAA,WACE6E,GAAAA,KAIJ3Q,OAAO0Q,iBAAiB,OAAQ9R,EAASA,GACzCoB,OAAO6Q,oBAAoB,OAAQjS,EAASA,GAC5C,MAAOkB,GACP6Q,GAAAA,EAGF,OAAOA,EAhBT,GA6BQ,CACEF,QAAAA,EACAK,SAAAA,GAEFL,GAAAA,IChBJM,EALAC,IAAiC,oBAAXhR,SACxBA,OAAOV,WACPU,OAAOV,SAASe,eAKhB0Q,EADEC,EACQhR,OACe,oBAATiR,KACNA,UAAAA,EAKZ,IAiBQC,GAjBJC,GAAkC,oBAAb7R,UAA4BA,SAAS6R,YAC1DC,IAAAA,EAEJ,GAAIJ,IAAcG,GAAa,CAC7B,IAAIE,GAAgB,WAClB,IAAI7C,EAAMuC,EAAQtC,uBAChBsC,EAAQnC,0BACRmC,EAAQpC,6BACR,SAAU/U,GACR,OAAOmX,EAAQxP,WAAW3H,EAAI,KAElC,gBAAiBA,GACf,OAAO4U,EAAI5U,IARK,GAYhB0X,IACEJ,GAASH,EAAQQ,sBACnBR,EAAQS,yBACRT,EAAQU,4BACRV,EAAQW,aAAAA,SACO9T,GACf,OAAOsT,GAAOtT,KAId+T,GAAgB,SAAUrB,GAC5B,IAAIsB,EAAWtB,EAAQuB,mBACrBC,EAASF,EAASG,kBAClBC,EAAWJ,EAASK,iBACpBC,EAAcJ,EAAOC,kBACvBC,EAASG,WAAaH,EAASI,YAC/BJ,EAASK,UAAYL,EAASM,aAC9BJ,EAAYlQ,MAAMC,MAAQ6P,EAAOS,YAAc,EAAI,KACnDL,EAAYlQ,MAAME,OAAS4P,EAAOU,aAAe,EAAI,KACrDV,EAAOK,WAAaL,EAAOM,YAC3BN,EAAOO,UAAYP,EAAOQ,cAQxBG,GAAiB,SAAUtR,GAC7B,IAAImP,EAAUra,KACd0b,GAAc1b,MACVA,KAAKyc,eAAepB,GAAYrb,KAAKyc,eACzCzc,KAAKyc,cAAgBrB,IAAa,qBATNf,GAC5B,OAAOA,EAAQiC,aAAejC,EAAQqC,eAAe1Q,OACnDqO,EAAQkC,cAAgBlC,EAAQqC,eAAezQ,QAOf,CACdoO,KAChBA,EAAQqC,eAAe1Q,MAAQqO,EAAQiC,YACvCjC,EAAQqC,eAAezQ,OAASoO,EAAQkC,aACxClC,EAAQsC,oBAAoBlR,SAAQ,SAAU9H,GAC5CA,EAAGoB,KAAKsV,EAASnP,WAOrB0R,IAAAA,EAEFC,GAAiB,GACjBC,GAAsB,iBACtBC,GAAc,kBAAkBC,MAAM,KACtCC,GAAc,uEAAuED,MACnF,KAIJ,GAAIjC,EAAW,CACb,IAAImC,GAAM7T,SAASe,cAAc,eAKjC,YAJI8S,GAAInR,MAAMoR,gBACZP,IAAAA,IAAY,IAGVA,GACF,IAAK,IAAIvX,GAAI,EAAGA,GAAI0X,GAAYxX,OAAQF,KACtC,YAAI6X,GAAInR,MAAMgR,GAAY1X,IAAK,iBAAgC,CAE7D+X,GACiB,IAFXL,GAAY1X,IAESuU,cAAgB,IAC3CkD,GAAsBG,GAAY5X,IAClCuX,IAAAA,EACA,OAMR,IAAIO,GAAgB,aAChBE,GAAqB,IACvBR,GACA,aACAM,GACA,gDACEG,GAAiBT,GACnB,kBACAM,GACA,KAGJ,ICrFMI,QAAAA,IAAcC,EAAAA,aAEdC,GAAeF,GACjBC,EAAAA,aACAA,EAAAA,oCAoBEE,GAAa,SAACrN,GAAAA,OAClB4J,EAAc5J,GAAUA,EAAS,CAAEC,IAAKD,EAAO,GAAIE,IAAKF,EAAO,KAE3DsN,GAAgB,SAACxJ,EAAML,GAa3B,OAAIA,EAAUK,EACLA,EAEFL,GASH8J,GAAAA,SAAAA,GA8EJ,WAAY/Q,GAAAA,IAAAA,EAkEV,IAjEAK,EAAAA,EAAAA,KAAAA,KAAML,IAAAA,MA4SRgR,YAAc,WACZ,GAAI3Q,EAAK4Q,YAAYvG,WAAa,GAAKrK,EAAK4Q,YAAYtG,YAAc,EAAG,CACvE,IAAMuG,EACJ7b,KAAK8b,KAAK9Q,EAAK4Q,YAAYvG,WA1bR,KA0b2C,EAC1D0G,EACJ/b,KAAK8b,KAAK9Q,EAAK4Q,YAAYtG,YA5bR,KA4b4C,EAC3D0G,EAAiBhc,KAAKsR,IAAIuK,EAAeE,GAC/C,OAAO/b,KAAK8b,KAAKpF,EAAKsF,IAExB,OA5bqB,GAAA5F,EA+bvB6F,gBAAkB,SAACrK,GACjB,OAAKkF,EAAQlF,GAAAA,EAGD+J,cAFH/J,GAAAA,EAKXsK,sBAAwB,WAEtB,GADAlR,EAAKmR,kBAAAA,EACDnR,EAAK4J,MAAO,CACd,IAAMwH,EAAiBpR,EAAKL,MAAMuH,QAAUlH,EAAKL,MAAM0R,cACjDC,EAAgBtR,EAAKuR,KAAK/G,YAChCxK,EAAK4J,MAAM9S,MAAM0a,QAAQxR,EAAKuR,KAAM,UACpCvR,EAAKuR,KAAKE,UACRzR,EAAKL,MAAM+R,oBAAsBN,EAAiBE,KAAAA,EAKxDK,WAAa,SAACC,GACZA,EAAWrT,SAAQ,SAACsT,GAClB7R,EAAK8R,QAAQD,GAAa,IAAI,EAAKjI,MAAMiI,GACzC7R,EAAK8R,QAAQD,GAAWE,OAAO/R,EAAKuR,UAAAA,EAIxCS,cAAgB,kBACdvS,EAAAA,cAAC0B,EAAAA,CACC0C,aAAc7D,EAAKL,MAAMkE,aACzB/B,aAAc9B,EAAK6B,cACnBK,iBAAkBlC,EAAKiC,kBACvBK,kBAAmBtC,EAAKmC,mBACxBK,kBAAmBxC,EAAKuC,mBACxB4B,WAAYnE,EAAK4Q,YACjBpM,gBAAAA,EACAjB,gBAAiBvD,EAAKL,MAAM4D,gBAC5BP,iBAAkBhD,EAAKiS,kBACvB5Q,WAAYrB,EAAKkS,sBAAAA,EAIrBC,SAAW,WAET,IAAInS,EAAKoS,aAAT,CAGApS,EAAKoS,cAAAA,EAEL,IAAMC,EAAc7B,GAClBxQ,EAAKL,MAAMuH,QAAUlH,EAAKL,MAAM0R,eAElCrR,EAAK4Q,YAAYrH,QACf8I,EACArS,EAAKL,MAAMsH,MAAQjH,EAAKL,MAAM2S,YAC9B,GAGFtS,EAAKuS,mBAEL,IAAMzM,EAAAA,EAAAA,GACA9F,EAAKL,MAAMtF,QAAU,CAAEH,IAAK8F,EAAKL,MAAMtF,QACxC2F,EAAKL,MAAMmG,kBAGhB9F,EAAKL,MACF6S,gBAAgB1M,EAAkB9F,EAAKL,MAAMoG,gBAC7CI,MAAK,SAACzH,GACL,GAAKsB,EAAKyS,SAAV,CAIA,IC/iBwBlX,EAAAA,ED+iBlBmX,EAAe1S,EAAK4Q,YAAYpG,YAEhCmI,EAAe,CACnB1L,KAAMjH,EAAKL,MAAMsH,MAAQjH,EAAKL,MAAM2S,YACpCpL,OAAQ,IAAIxI,EAAK8H,OAAOkM,EAAatP,IAAKsP,EAAarP,MAIrDrD,EAAKL,MAAMiT,QAAQC,YACrBzc,OAAO0c,OAAAA,EAAAA,GAAa,CAClBF,SCzjBoBrX,EDyjBKmD,EAAAA,EAAMsB,EAAKL,MAAMiT,QAAAA,ICxjBhDrX,EAASwX,cAAcC,aAAa,CACtCC,KAAAA,EAFwCJ,UAExBjH,QAAO,SAACsH,EAAAA,GAAAA,IAAAA,EAAAA,EAAiBC,OAAAA,OAAAA,IAAAA,EAAS,EAAA5T,EAKhD,OAJA2T,EAAI/b,KAAK,CACPic,SAAU,IAAI7X,EAASiL,OAAAA,EAFIpD,IAAAA,EAAKC,KAGhC8P,OAAAA,IAEKD,IACN,SAGuB,SAAC3X,EAAAA,GAAAA,IAAAA,EAAAA,EAAYE,QAAAA,OAAAA,IAAAA,EAAU,GAAAyM,EACnD9R,OAAOwD,KAAK6B,GAAS0P,KAAI,SAACkI,GAAAA,OAAW9X,EAASqN,IAAIyK,EAAQ5X,EAAQ4X,OADtC,CDgjBLrT,EAAK4S,QAAS5S,EAAKL,MAAMiT,UAe1C,IAAMU,EAAkB3H,EAAKjN,EAAMqO,GAC7BtR,EAC0B,qBAAlBkE,MAAMlE,QACduE,EAAKL,MAAMlE,QAAQ6X,GACnBtT,EAAKL,MAAMlE,QAGX8X,GAAoBzH,EAAQ9L,EAAKL,MAAM6T,YAAc,CACzDA,UAAWxT,EAAKL,MAAM6T,WAGlB5M,EAAU5G,EAAKiR,gBAAgBxV,EAAQmL,SAC7C5G,EAAKyT,SAAW7M,EAEhB,IAAM8M,EAAAA,EAAAA,GApiBL,CACLC,oBAAAA,EACAC,mBAAAA,EACAC,eAAAA,EACAC,gBAAAA,EAEAC,OAAQ,CACN,CACEC,YAAa,MACbC,YAAa,SACbC,QAAS,CAAC,CAAEC,WAAY,UAG5BvN,QAxBqB,IAijBfA,QAAAA,GACGnL,EACAkX,GAGL3S,EAAKoU,wBAA2BtI,EAAQ4H,EAAcF,WAElDxT,EAAKoU,wBADLV,EAAcF,UAGlB,IAAMa,EAAAA,EAAAA,GACDX,EACAH,GAGLc,EAAWzN,QAAU6J,GAAc4D,EAAWzN,QAASA,GAEvD,IAAMuE,EAAM,IAAIzM,EAAK4V,IACnBhE,EAAAA,YAAqBtQ,EAAKuU,eAC1BF,GAGFrU,EAAKuR,KAAOpG,EACZnL,EAAK4J,MAAQlL,EAEbsB,EAAK2R,WAAW3R,EAAKL,MAAMiS,YAG3B,IAAM4C,EAAe9V,EAAKzD,QAAQwZ,MAAM,eAElCC,EAAcF,GAAgBG,OAAOH,EAAa,IAGlDI,EAAAA,EAAAA,GACAC,EAAUze,OAAO0c,OAAO,IAAIpU,EAAKoW,YAAe,CACpDC,MAAAA,WACE,IAAMC,EACc,oBAAXC,OAA4BA,OAAOnW,MAAAA,KAAY,SAClDoW,EACc,oBAAXD,OAA4BA,OAAOlW,OAAAA,KAAa,SAEnDhL,EAAMoI,SAASe,cAAc,OAQnC,GAPAnJ,EAAI8K,MAAMqC,gBAAkB,cAC5BnN,EAAI8K,MAAMO,SAAW,WACrBrL,EAAI8K,MAAMG,KAAO,MACjBjL,EAAI8K,MAAMI,IAAM,MAChBlL,EAAI8K,MAAMC,MAAQkW,EAClBjhB,EAAI8K,MAAME,OAASmW,EAEfN,EAAMjV,MAAMwV,oBAAqB,KAC3BA,EAAwBP,EAAMjV,MAA9BwV,oBAC2B,iBAAxBA,GACT/e,OAAOwD,KAAKub,GAAqB5W,SAAQ,SAAC6W,GACxCrhB,EAAI8K,MAAMuW,GAAYD,EAAoBC,MAKlCtiB,KAAKuiB,WACbC,mBAAmB3X,YAAY5J,GACrC6gB,EAAMhE,YAAYlH,uBAChBhL,EACAmW,EAAQU,iBAGLlF,GASHuE,EAAMjT,SAAS,CAAEkT,QAAS9gB,IAR1Bwc,GACEqE,EACAA,EAAM5C,gBACNje,GAEA,kBAAM6gB,EAAMjT,SAAS,CAAEkT,QAAS9gB,QAOtCyhB,SAAAA,WACE,IAAMC,EAAkBb,EAAMlT,MAAMmT,QAChCY,IAAoBpF,IACtBC,EAAAA,uBAAgCmF,GAElCb,EAAMjT,SAAS,CAAEkT,QAAS,QAG5Ba,KAAAA,WASE,GARAd,EAAMtU,iBACNsU,EAAMrC,iBAAiBpH,EAAKzM,GAAOkW,EAAMjV,MAAMgW,WAE1Cf,EAAMgB,yBACThB,EAAMiB,mBAAmB,CAAE1K,IAAAA,EAAKzM,KAAAA,EAAMgB,IAAKkV,EAAML,gBACjDK,EAAMgB,wBAAAA,GAGJhB,EAAMxU,OAAQ,CAChB,IAAM+C,EAASyR,EAAMhE,YAAY3G,2BAC/B2K,EAAMxU,QAERwU,EAAMxU,OAAOgD,IAAMD,EAAOC,IAC1BwR,EAAMxU,OAAOiD,IAAMF,EAAOE,IAG5BuR,EAAMkB,oBAEFlB,EAAM1C,qBACR0C,EAAM1C,mBAAmB1Z,KAAK,cAC1Boc,EAAMmB,uBACRnB,EAAM1C,mBAAmB1Z,KAAK,iCAMtCwH,EAAKgW,SAAWnB,EAEhBA,EAAQ9C,OAAO5G,GACXnL,EAAKL,MAAMiT,QAAQC,WACrB7S,EAAK4S,QAAQb,OAAO5G,GAGlBnL,EAAKL,MAAMsW,eACbvX,EAAK5H,MAAMF,YAAYuU,EAAK,eAAe,WACzCyJ,EAAMsB,oBAIVxX,EAAK5H,MAAMF,YAAYuU,EAAK,gBAAgB,WAEtCyJ,EAAMhE,YAAYrG,YAAcY,EAAIZ,YACjCqK,EAAMuB,2BACTvB,EAAMuB,0BAAAA,EACNvB,EAAMwB,sBAAsBjL,EAAIlE,OAK9ByN,EAtrB6B,OA0rB7B,IAAI2B,MAAOC,UAAYtW,EAAKuW,sBAHT,IAYnBlL,GAAI,kBACFA,GAAI,WACFuJ,EAAMtU,iBACNsU,EAAMrC,iBAAiBpH,EAAKzM,UAIhCkW,EAAMtU,iBACNsU,EAAMrC,iBAAiBpH,EAAKzM,QAMpCA,EAAK5H,MAAMF,YAAYuU,EAAK,QAAQ,WAClC,GAAInL,EAAKmR,iBAAkB,CACzBnR,EAAKwW,eACL,IAAMC,EAAczW,EAAKiR,gBAAgBxV,EAAQmL,SAE7C6P,IAAgBzW,EAAKyT,WACvBzT,EAAKyT,SAAWgD,EAChBtL,EAAIuL,WAAW,CAAE9P,QAAS6P,KAG5BzW,EAAKmR,kBAAAA,EAGHyD,EAAMuB,2BACRvB,EAAMuB,0BAAAA,EACNvB,EAAM+B,oBAAoBxL,EAAIlE,OAGhC2N,EAAMtU,iBACNsU,EAAMrC,iBAAiBpH,EAAKzM,GAE5BkW,EAAMgC,UAAY,EAEdhC,EAAM1C,oBACR0C,EAAM1C,mBAAmB1Z,KAAK,iBAIlCkG,EAAK5H,MAAMF,YAAYuU,EAAK,aAAa,WAEvCyJ,EAAMiC,aAAAA,KAORnY,EAAK5H,MAAMF,YAAYuU,EAAK,SAAS,WACnCyJ,EAAMiC,aAAAA,KAGRnY,EAAK5H,MAAMF,YAAYuU,EAAK,YAAY,WAEtCyJ,EAAMiC,aAAAA,EACNjC,EAAMxU,OAAS,KACfwU,EAAM1C,mBAAmB1Z,KAAK,gCAGhCkG,EAAK5H,MAAMF,YAAYuU,EAAK,QAAQ,WAClCyJ,EAAMgC,WAAY,IAAIP,MAAOC,UAC7B1B,EAAMkC,QAAQ3L,MAGhBzM,EAAK5H,MAAMF,YAAYuU,EAAK,WAAW,WAGrC,IAAM4L,EAAerY,EAAK5H,MAAMF,YAAYuU,EAAK,QAAQ,WACvDzM,EAAK5H,MAAMmC,eAAe8d,GAC1BnC,EAAMoC,WAAW7L,SAIrBzM,EAAK5H,MAAMF,YAAYuU,EAAK,qBAAqB,WAC/CyJ,EAAMqC,mBAAmB9L,EAAI+L,uBAAAA,OAG1B,SAAClZ,GAQN,MANAgC,EAAK6V,mBAAmB,CACtB1K,IAAK,KACLzM,KAAM,KACNgB,IAAKM,EAAKuU,gBAEZrW,QAAQtB,MAAMoB,GACRA,OAAAA,EAIZ6X,mBAAqB,iBACf7V,EAAKL,MAAMwX,oBAMT,IAQCxX,OAAMwX,kBAAAA,MAAAA,EAAAA,YAAAA,EAIflF,kBAAoB,oBAAWtS,MAAMoD,eAAAA,EAErC+T,QAAU,0BAAkBnX,MAAMyX,SAAAA,EAAAA,EAAezX,OAAMyX,OAAAA,MAAAA,EAAAA,YAAAA,EAEvDJ,WAAa,0BACNrX,MAAM0X,YAAAA,EAAAA,EAAkB1X,OAAM0X,UAAAA,MAAAA,EAAAA,YAAAA,EAErCJ,mBAAqB,0BACdtX,MAAM2X,oBAAAA,EAAAA,EAA0B3X,OAAM2X,kBAAAA,MAAAA,EAAAA,YAAAA,EAE7ClB,sBAAwB,0BACjBzW,MAAM4X,uBAAAA,EAAAA,EAA6B5X,OAAM4X,qBAAAA,MAAAA,EAAAA,YAAAA,EAEhDZ,oBAAsB,0BACfhX,MAAM6X,qBAAAA,EAAAA,EAA2B7X,OAAM6X,mBAAAA,MAAAA,EAAAA,YAAAA,EAE9CtB,eAAiB,oBAAWvW,MAAMsW,eAAiBjW,EAAKL,MAAMsW,iBAAAA,EAE9DpU,cAAgB,iBACd,GAAI7B,EAAKL,MAAMmC,aACb,SAAAsJ,EAAYzL,OAAMmC,aAAAA,MAAAA,EAAAA,YAAAA,EAKtBG,kBAAoB,SAACG,EAAUC,GAC7BrC,EAAKyX,oBAAsB,CAACrV,EAAUC,GAClCrC,EAAKL,MAAMuC,kBACblC,EAAKL,MAAMuC,iBAAiBE,EAAUC,EAAAA,EAAAA,GAAiBrC,EAAKI,UAAAA,EAKhEsX,gBAAkB,iBACZ1X,EAAKyX,sBACHzX,EAAKL,MAAMgY,iBAAAA,EAAAA,EACRhY,OAAMgY,eAAAA,MAAAA,EAAkB3X,EAAKyX,oBAAAA,OAAAA,CAAAA,EAAAA,GAC7BzX,EAAKI,WAGZJ,EAAKyX,oBAAsB,KAC3BzX,EAAK4X,mBAAoB,IAAIvB,MAAOC,YAAAA,EAKxCR,kBAAoB,iBACd9V,EAAKyX,qBACHzX,EAAKL,MAAMkY,mBAAAA,EAAAA,EACRlY,OAAMkY,iBAAAA,MAAAA,EAAoB7X,EAAKyX,oBAAAA,OAAAA,CAAAA,EAAAA,GAC/BzX,EAAKI,YAAAA,EAMhB+B,mBAAqB,iBACnB,GAAInC,EAAKL,MAAM2C,kBACb,SAAA8I,EAAYzL,OAAM2C,kBAAAA,MAAAA,EAAAA,YAAAA,EAKtBC,mBAAqB,iBACnB,GAAIvC,EAAKL,MAAM6C,kBACb,SAAA4I,EAAYzL,OAAM6C,kBAAAA,MAAAA,EAAAA,YAAAA,EAKtBgU,aAAe,WACb,GAAKxW,EAAKyS,SAAV,CACA,GA10BFtW,SAAS2b,YACT3b,SAAS4b,oBACT5b,SAAS6b,eACT7b,SAAS8b,oBAw0BLjY,EAAK4Q,YAAYnH,YAAY5M,OAAOqb,WAAYrb,OAAOsb,iBAClD,CACL,IAAMC,EAAS9H,EAAAA,YAAqBtQ,EAAKuU,eACzCvU,EAAK4Q,YAAYnH,YAAY2O,EAAOC,YAAaD,EAAOE,cAE1DtY,EAAKuS,qBAAAA,EAGPgG,gBAAkB,WAChBvY,EAAKmR,kBAAAA,GAAmB/F,EAG1BoN,gBAAkB,SAACxa,GACjB,GAAKgC,EAAK6W,YAAV,CAEA,IAAM4B,GAAW,IAAIpC,MAAOC,UAGxBmC,EAAWzY,EAAK0Y,eAFY,KAG9B1Y,EAAK2Y,cAAgB3a,EAAE4a,cAAcC,yBAEvC7Y,EAAK0Y,eAAiBD,EAEtB,IAAMK,EAAY9a,EAAE+a,QAAU/Y,EAAK2Y,cAAc3Z,KAC3Cga,EAAYhb,EAAEib,QAAUjZ,EAAK2Y,cAAc1Z,IAE5Ce,EAAKI,SACRJ,EAAKI,OAAS,CAAExN,EAAG,EAAGC,EAAG,EAAGuQ,IAAK,EAAGC,IAAK,IAG3CrD,EAAKI,OAAOxN,EAAIkmB,EAChB9Y,EAAKI,OAAOvN,EAAImmB,EAEhB,IAAM7V,EAASnD,EAAK4Q,YAAY3G,2BAA2BjK,EAAKI,QAChEJ,EAAKI,OAAOgD,IAAMD,EAAOC,IACzBpD,EAAKI,OAAOiD,IAAMF,EAAOE,IAEzBrD,EAAK8V,oBAED2C,EAAWzY,EAAK4W,UAv6BD,IAw6BjB5W,EAAK+V,uBAAAA,GAEL/V,EAAKkS,mBAAmB1Z,KAAK,6BAC7BwH,EAAK+V,uBAAAA,KAAwB3K,EAKjC8N,SAAW,0BACJvZ,MAAMwZ,UACVnZ,EAAKyX,sBACN,IAAIpB,MAAOC,UAAYtW,EAAK4X,kBAl7BH,KAm7BN,IAAnB5X,EAAK4W,YAAAA,EAAAA,EACAjX,OAAMwZ,QAAAA,MAAAA,EAAAA,YAAAA,EAEbC,YAAc,SAACtiB,GACTkJ,EAAKkS,qBAEPlS,EAAKwY,gBAAgB1hB,IACJ,IAAIuf,MAAOC,UACbtW,EAAK4W,UA57BH,MA67BX5W,EAAKI,QACPJ,EAAKkZ,SAAAA,EAAAA,GACAlZ,EAAKI,OAAAA,CACRtJ,MAAAA,KAIJkJ,EAAKkS,mBAAmB1Z,KAAK,YAAa1B,MAAAA,EAOhDuiB,sBAAwB,SAACviB,GAClBkJ,EAAK6W,aAEV7W,EAAKsZ,gBAAgBxiB,IAAAA,EAGvBwiB,gBAAkB,SAACxiB,GACbkJ,EAAKkS,qBACU,IAAImE,MAAOC,UACbtW,EAAK4W,UAp9BH,MAu9Bf5W,EAAKwY,gBAAgB1hB,GACrBkJ,EAAKkS,mBAAmB1Z,KAAK,YAAa1B,KAAAA,EAKhDyiB,uBAAyB,WACnBpN,IAAgBQ,WAElB3M,EAAKuW,uBAAwB,IAAIF,MAAOC,YAAAA,EAI5CkD,kBAAoB,WACdrN,IAAgBQ,WAClB3M,EAAKuW,uBAAwB,IAAIF,MAAOC,YAAAA,EAI5CmD,iBAAmB,SAACvS,GAAAA,OAClBA,IACE6F,EAAc7F,IAAW+E,EAAS/E,EAAO9D,MAAQ6I,EAAS/E,EAAO7D,MAC9C,IAAlB6D,EAAO7O,QAAgB4T,EAAS/E,EAAO,KAAO+E,EAAS/E,EAAO,MAAAkE,EAEnEmH,iBAAmB,SAACpH,EAAKzM,EAAMgb,GAC7B,GAAIvO,EAAK,CACP,IAAMwO,EAAMxO,EAAIX,YAChBxK,EAAK4Q,YAAYrH,QAAQ,CAACoQ,EAAIvW,MAAOuW,EAAItW,OAAQ8H,EAAIZ,UAAW,GAGlE,IACGvK,EAAKL,MAAMia,UAAY5Z,EAAKL,MAAMka,iBACnC7Z,EAAK4Q,YAAY9G,aACjB,CACA,IAAM7C,EAAOjH,EAAK4Q,YAAYrG,UACxBuP,EAAS9Z,EAAK4Q,YAAYnG,YAC1BiI,EAAe1S,EAAK4Q,YAAYpG,YAEtC,aEpiCmCuP,EAAQC,EAAQC,GACvD,GAAIF,GAAUC,EAAQ,CACpB,IAAK,IAAI7hB,EAAI,EAAGA,IAAM4hB,EAAO1hB,SAAUF,EACrC,GAAInD,KAAKklB,IAAIH,EAAO5hB,GAAK6hB,EAAO7hB,IFiCzB,KEhCL,OAAO,EAGX,SAEF,SF2hCI,CAAsB2hB,EAAQ9Z,EAAKma,eAAAA,IAC7BT,EAA+B,CACjC,IAAMU,EAAepa,EAAK4Q,YAAYnG,UAAUzK,EAAKL,MAAMT,QACvDc,EAAKL,MAAMka,gBACb7Z,EAAKL,MAAMka,eACT7Z,EAAKqa,gBAAAA,EAAAA,GACI3H,GACL,CAACA,EAAatP,IAAKsP,EAAarP,KACpC4D,EACA6S,EACAM,GAIApa,EAAKL,MAAMia,UACb5Z,EAAKL,MAAMia,SAAS,CAClB1S,OAAAA,EAAAA,GAAawL,GACbzL,KAAAA,EACA6S,OAAQ,CACNQ,GAAI,CACFlX,IAAK0W,EAAO,GACZzW,IAAKyW,EAAO,IAEdS,GAAI,CACFnX,IAAK0W,EAAO,GACZzW,IAAKyW,EAAO,IAEdU,GAAI,CACFpX,IAAK0W,EAAO,GACZzW,IAAKyW,EAAO,IAEdW,GAAI,CACFrX,IAAK0W,EAAO,GACZzW,IAAKyW,EAAO,KAGhBM,aAAc,CACZE,GAAI,CACFlX,IAAKgX,EAAa,GAClB/W,IAAK+W,EAAa,IAEpBG,GAAI,CACFnX,IAAKgX,EAAa,GAClB/W,IAAK+W,EAAa,IAEpBI,GAAI,CACFpX,IAAKgX,EAAa,GAClB/W,IAAK+W,EAAa,IAEpBK,GAAI,CACFrX,IAAKgX,EAAa,GAClB/W,IAAK+W,EAAa,KAItBM,KAAM1a,EAAK4Q,YAAY7G,UACnB,CACEjL,MAAOkB,EAAK4Q,YAAYvG,WACxBtL,OAAQiB,EAAK4Q,YAAYtG,aAE3B,CACExL,MAAO,EACPC,OAAQ,KAKlBiB,EAAKma,YAAcL,KAAAA,EAM3Ba,eAAiB,SAACjb,GAChBM,EAAKuU,cAAgB7U,GA77BrBM,EAAKyS,UAAAA,EACLzS,EAAKoS,cAAAA,EACLpS,EAAK4V,wBAAAA,EAEL5V,EAAKuR,KAAO,KACZvR,EAAK4J,MAAQ,KACb5J,EAAKma,YAAc,KACnBna,EAAK4S,QAAU,KAEf5S,EAAK8R,QAAU,GAEf9R,EAAKI,OAAS,KACdJ,EAAK0Y,eAAiB,EACtB1Y,EAAK2Y,cAAgB,KACrB3Y,EAAK6W,aAAAA,EAEL7W,EAAK4W,UAAY,EACjB5W,EAAK+V,uBAAAA,EACL/V,EAAKM,eAAiB,EAEtBN,EAAKkS,mBAAqB,IAAIpS,EAAAA,EAAAA,IAC9BE,EAAK4Q,YAAc,IAAIzH,EAjKA,KAkKvBnJ,EAAKqa,gBAAkBtN,EAAc/M,EAAKL,MAAMuH,QAEhDlH,EAAKyT,SAhKgB,EAiKrBzT,EAAKoU,yBAAAA,EAELpU,EAAKuW,sBAAwB,EAE7BvW,EAAKyX,oBAAsB,KAC3BzX,EAAK4X,kBAAoB,EAEzB5X,EAAKuU,cAAgB,KAgCjBvU,EAAKyZ,iBAAiBzZ,EAAKL,MAAMuH,QAAUlH,EAAKL,MAAM0R,eAAgB,CACxE,IAAMgB,EAAc7B,GAClBxQ,EAAKL,MAAMuH,QAAUlH,EAAKL,MAAM0R,eAElCrR,EAAK4Q,YAAYrH,QACf8I,EACArS,EAAKL,MAAMsH,MAAQjH,EAAKL,MAAM2S,YAC9B,GAzEa,OA6EjBtS,EAAKmW,0BAAAA,EAELnW,EAAK0B,MAAQ,CACXmT,QAAS,MAAAzJ,EAAAhY,EAAAA,EAAAA,GAAA,2BAIbsQ,kBAAA,sBACE5Q,KAAK2f,UAAAA,EACLvF,EAAwBrQ,OAAQ,SAAU/J,KAAKylB,iBAAAA,GAC/CrL,EAAwBrQ,OAAQ,UAAW/J,KAAK0mB,mBAAAA,GAChD,IAAMpB,EAAS9H,EAAAA,YAAqBxd,KAAKyhB,eAIrC6D,GACFlL,EACEkL,EACA,YACAtlB,KAAKumB,uBAAAA,GAKTnM,EAAwBrQ,OAAQ,UAAW/J,KAAK4kB,iBAAAA,GAChD,IAAM5R,EAAAA,EAAAA,GACAhT,KAAK6M,MAAMtF,QAAU,CAAEH,IAAKpH,KAAK6M,MAAMtF,QACxCvH,KAAK6M,MAAMmG,kBAGhBhT,KAAK6M,MAAM6S,gBAAgB1M,EAAkBhT,KAAK6M,MAAMoG,gBAExD3H,YACE,WAEE8F,EAAKsS,eAEHtS,EAAKuV,iBAAiBvV,EAAKvE,MAAMuH,QAAUhD,EAAKvE,MAAM0R,gBAEtDnN,EAAKiO,aAGT,EACArf,MAEEA,KAAK6M,MAAM+R,qBDhJK,SAAUvE,EAAS1W,GACzC,YAAI0W,EAAQyN,WAA0B,CACpC,IAAIC,EAAgB1e,SAASe,cAAc,OAC3CiQ,EAAQyN,WAAaC,EAEvB1N,EAAUA,EAAQyN,WACd5M,GACFb,EAAQa,YAAY,WAAYvX,IAE3B0W,EAAQuB,qBAC+B,UAAtCoM,iBAAiB3N,GAAS/N,WAC5B+N,EAAQtO,MAAMO,SAAW,YAlCd,WACjB,IAAK6O,GAAe,CAElB,IAAI8M,GAAO5K,IAA0C,IACnD,uBACCC,IAAkC,IAF3B,gVAKR1S,EAAOvB,SAASuB,MAAQvB,SAAS6e,qBAAqB,QAAQ,GAC9Dnc,EAAQ1C,SAASe,cAAc,SAEjC2B,EAAM1B,KAAO,WACT0B,EAAMoc,WACRpc,EAAMoc,WAAWC,QAAUH,EAE3Blc,EAAMlB,YAAYxB,SAASgf,eAAeJ,IAG5Crd,EAAKC,YAAYkB,GACjBoP,IAAAA,GAnBe,GAoCbd,EAAQqC,eAAiB,GACzBrC,EAAQsC,oBAAsB,IAC7BtC,EAAQuB,mBAAqBvS,SAASe,cACrC,QACCgI,UAAY,kBACfiI,EAAQuB,mBAAmB0M,UAAY,oFAEvCjO,EAAQxP,YAAYwP,EAAQuB,oBAC5BF,GAAcrB,GAEdD,EAAwBC,EAAS,SAAUmC,IAAAA,GAG3CM,IACEzC,EAAQuB,mBAAmBnB,iBACzBqC,IACA,SAAU5R,GACJA,EAAEiS,eAAiBA,IAAezB,GAAcrB,OAI5DA,EAAQsC,oBAAoBtY,KAAKV,IAlCb,CCkJA2hB,EADLtlB,KACkBoe,wBAAAA,EAInC5R,sBAAA,SAAsBqE,EAAWC,GAE/B,OACGhD,EACCJ,EAAK1N,KAAK6M,MAAO,CAAC,cAClBa,EAAKmD,EAAW,CAAC,iBACb/C,EAAa9N,KAAK4O,MAAOkC,IAAAA,EAInCyX,mBAAA,SAAmBC,GAAAA,IAAAA,EAAAA,KAsBjB,IANGxoB,KAAK2mB,iBAAiB6B,EAAUpU,SACjCpU,KAAK2mB,iBAAiB3mB,KAAK6M,MAAMuH,SAEjC9I,YAAW,kBAAMmd,EAAKpJ,aAAY,GAGhCrf,KAAKye,KAAM,CACb,IAAMmB,EAAe5f,KAAK8d,YAAYpG,YACtC,GAAI1X,KAAK2mB,iBAAiB3mB,KAAK6M,MAAMuH,QAAS,CAC5C,IAAMoK,EAAgBd,GAAW1d,KAAK6M,MAAMuH,QACtCsU,EAAa1oB,KAAK2mB,iBAAiB6B,EAAUpU,QAC/CsJ,GAAW8K,EAAUpU,QACrB,OAGDsU,GACDxmB,KAAKklB,IAAI5I,EAAclO,IAAMoY,EAAWpY,KACtCpO,KAAKklB,IAAI5I,EAAcjO,IAAMmY,EAAWnY,KAtTvC,OA0TDrO,KAAKklB,IAAI5I,EAAclO,IAAMsP,EAAatP,KACxCpO,KAAKklB,IAAI5I,EAAcjO,IAAMqP,EAAarP,KA3T3C,MA8TDvQ,KAAKye,KAAKkK,MAAM,CACdrY,IAAKkO,EAAclO,IACnBC,IAAKiO,EAAcjO,MAsB3B,GAhBKyI,EAAQhZ,KAAK6M,MAAMsH,OAElBjS,KAAKklB,IAAIpnB,KAAK6M,MAAMsH,KAAOqU,EAAUrU,MAAQ,GAC/CnU,KAAKye,KAAKmK,QAAQ5oB,KAAK6M,MAAMsH,OAI5B6E,EAAQwP,EAAU9H,YAAc1H,EAAQhZ,KAAK6M,MAAM6T,WAEtD1gB,KAAKye,KAAKmF,WAAW,CAAElD,UAAW1gB,KAAKshB,0BAC7BxT,EAAa0a,EAAU9H,UAAW1gB,KAAK6M,MAAM6T,YAEvD1gB,KAAKye,KAAKmF,WAAW,CAAElD,UAAW1gB,KAAK6M,MAAM6T,aAK5C1H,EAAQhZ,KAAK6M,MAAMlE,WACnBmF,EAAa0a,EAAU7f,QAAS3I,KAAK6M,MAAMlE,SAC5C,CACA,IAAM6X,EAAkB3H,EAAK7Y,KAAK8W,MAAOmD,GACrCtR,EAC4B,wBAAlBkE,MAAMlE,QACd3I,KAAK6M,MAAMlE,QAAQ6X,GACnBxgB,KAAK6M,MAAMlE,QAIjB,GAAI,YAFJA,EAAU+E,EAAK/E,EAAS,CAAC,OAAQ,SAAU,eAEjB,CACxB,IAAMmL,EAAU9T,KAAKme,gBAAgBxV,EAAQmL,SAC7CnL,EAAQmL,QAAU6J,GAAchV,EAAQmL,QAASA,GAGnD9T,KAAKye,KAAKmF,WAAWjb,GAGlBmF,EAAa9N,KAAK6M,MAAMiS,WAAY0J,EAAU1J,cACjDxb,OAAOwD,KAAK9G,KAAKgf,SAASvT,SAAQ,SAACod,GACjCJ,EAAKzJ,QAAQ6J,GAAU5J,OAAO,aACvBwJ,EAAKzJ,QAAQ6J,MAEtB7oB,KAAK6e,WAAW7e,KAAK6M,MAAMiS,aAI3B9e,KAAK8f,UACJhS,EAAa9N,KAAK6M,MAAMiT,QAAQC,UAAWyI,EAAU1I,QAAQC,YAE9D/f,KAAK8f,QAAQgJ,QACX9oB,KAAK6M,MAAMiT,QAAQC,UAAU1H,KAAI,SAAC/X,GAAAA,MAAO,CACvCggB,SAAU,IAAImI,EAAK3R,MAAMpD,OAAOpT,EAAEgQ,IAAKhQ,EAAEiQ,KACzC8P,OAAQ/f,EAAE+f,YAKdrgB,KAAK8f,UACJhS,EAAa9N,KAAK6M,MAAMiT,QAAQnX,QAAS6f,EAAU1I,QAAQnX,UAE5DrF,OAAOwD,KAAK9G,KAAK6M,MAAMiT,QAAQnX,SAAS8C,SAAQ,SAAC8U,GAC/CkI,EAAK3I,QAAQhK,IAAIyK,EAAQkI,EAAK5b,MAAMiT,QAAQnX,QAAQ4X,OAK1DvgB,KAAKof,mBAAmB1Z,KAAK,cAExBoI,EAAa9N,KAAK6M,MAAMoD,cAAeuY,EAAUvY,gBACpDjQ,KAAKof,mBAAmB1Z,KAAK,8BAAA4S,EAIjCtH,qBAAA,WACEhR,KAAK2f,UAAAA,EACL,IDrPiCtF,EAAS1W,ECqPpC2hB,EAAS9H,EAAAA,YAAqBxd,KAAKyhB,eACrC6D,GACFA,EAAO1K,oBAAoB,YAAa5a,KAAKumB,uBAAAA,GAE/Cxc,OAAO6Q,oBAAoB,SAAU5a,KAAKylB,iBAC1C1b,OAAO6Q,oBAAoB,UAAW5a,KAAK0mB,mBAC3C3c,OAAO6Q,oBAAoB,UAAW5a,KAAK4kB,iBAAAA,GACvC5kB,KAAK6M,MAAM+R,sBD5P2Bjb,EC6PX3D,KAAKoe,sBD5PtC/D,GADmCA,EC6PViL,GD5PPwC,WACd5M,GACFb,EAAQ0O,YAAY,WAAYplB,IAEhC0W,EAAQsC,oBAAoBqM,OAC1B3O,EAAQsC,oBAAoBlD,QAAQ9V,GACpC,GAEG0W,EAAQsC,oBAAoBpX,SAC/B8U,EAAQO,oBAAoB,SAAU4B,IACtCnC,EAAQuB,oBAAsBvB,EAAQ4O,YACpC5O,EAAQuB,uBCoPR5b,KAAKkjB,UAEPljB,KAAKkjB,SAASjE,OAAO,MAGnBjf,KAAK8W,OAAS9W,KAAKye,MAAQze,KAAK6M,MAAMqc,+BAExClpB,KAAKye,KAAKmF,WAAW,CAAEuF,aAAAA,IACvBnpB,KAAK8W,MAAM9S,MAAMolB,uBAAuBppB,KAAKye,OAG3Cze,KAAK6M,MAAMqc,+BACblpB,KAAKye,KAAO,KACZze,KAAK8W,MAAQ,MAEf9W,KAAKof,mBAAmB3R,UAExBzN,KAAKqe,kBAAAA,EAEDre,KAAK6M,MAAMqc,sCAAAA,KACDzK,YAAAA,KACAW,qBAAAA,EA6pBhB1S,OAAA,WACE,IAAMqV,EAAU/hB,KAAK4O,MAAMmT,QACrBsH,EAAsBtH,EAaxB,KAZFpV,EAAAA,cAAC2c,EAAAA,CACCvY,aAAc/Q,KAAK6M,MAAMkE,aACzB/B,aAAchP,KAAK+O,cACnBK,iBAAkBpP,KAAKmP,kBACvBK,kBAAmBxP,KAAKqP,mBACxBK,kBAAmB1P,KAAKyP,mBACxB4B,WAAYrR,KAAK8d,YACjBpM,gBAAAA,EACAjB,gBAAiBzQ,KAAK6M,MAAM4D,gBAC5BP,iBAAkBlQ,KAAKmf,kBACvB5Q,WAAYvO,KAAKof,qBAIrB,OACEzS,EAAAA,cAAAA,MAAAA,CACEZ,MAAO/L,KAAK6M,MAAMd,MAClBwd,YAAavpB,KAAK0lB,gBAClB8D,mBAAoBxpB,KAAKymB,uBACzBJ,QAASrmB,KAAKsmB,aAEd3Z,EAAAA,cAACJ,EAAAA,CAAaO,cAAe9M,KAAK6nB,iBACjCtK,IAAewE,GAAWtE,GAAazd,KAAKkf,gBAAiB6C,GAG7DsH,IAAAA,EA5iCHzL,CAAkB7Q,EAAAA,WAAlB6Q,GACGnL,UAAY,CACjBlL,OAAQmL,IAAAA,OACRM,iBAAkBN,IAAAA,IAElB6L,cAAe7L,IAAAA,UAAoB,CACjCA,IAAAA,MACAA,IAAAA,MAAgB,CACdpC,IAAKoC,IAAAA,OACLnC,IAAKmC,IAAAA,WAGT0B,OAAQ1B,IAAAA,UAAoB,CAC1BA,IAAAA,MACAA,IAAAA,MAAgB,CACdpC,IAAKoC,IAAAA,OACLnC,IAAKmC,IAAAA,WAGT8M,YAAa9M,IAAAA,OACbyB,KAAMzB,IAAAA,OACNqU,eAAgBrU,IAAAA,KAChBoU,SAAUpU,IAAAA,KACV2T,QAAS3T,IAAAA,KACT1D,aAAc0D,IAAAA,KACdtD,iBAAkBsD,IAAAA,KAClBmS,eAAgBnS,IAAAA,KAChBqS,iBAAkBrS,IAAAA,KAClBlD,kBAAmBkD,IAAAA,KACnBhD,kBAAmBgD,IAAAA,KACnB+R,qBAAsB/R,IAAAA,KACtBgS,mBAAoBhS,IAAAA,KACpB4R,OAAQ5R,IAAAA,KACR6R,UAAW7R,IAAAA,KACX8R,kBAAmB9R,IAAAA,KACnByQ,cAAezQ,IAAAA,KACf/J,QAAS+J,IAAAA,IACTjC,gBAAiBiC,IAAAA,KACjBzC,cAAeyC,IAAAA,OACfmQ,UAAWnQ,IAAAA,KACXtG,OAAQsG,IAAAA,MACRgN,gBAAiBhN,IAAAA,IACjB2R,kBAAmB3R,IAAAA,KACnB+W,mCAAoC/W,IAAAA,KACpCgO,UAAWhO,IAAAA,KACX3G,MAAO2G,IAAAA,IACPkM,oBAAqBlM,IAAAA,KACrBoM,WAAYpM,IAAAA,QAAkBA,IAAAA,QAC9BwW,6BAA8BxW,IAAAA,MAhD5BkL,GAmDGjL,aAAe,CACpBlC,gBAAAA,SAAgBgB,EAAIiY,GAClB,OAAOxnB,KAAKC,MACTsP,EAAG3R,EAAI4pB,EAAS5pB,IAAM2R,EAAG3R,EAAI4pB,EAAS5pB,IACpC2R,EAAG1R,EAAI2pB,EAAS3pB,IAAM0R,EAAG1R,EAAI2pB,EAAS3pB,KAG7CkQ,cAAe,GACf4S,WAAAA,EACAla,QA1GJ,WACE,MAAO,CACLkY,oBAAAA,EACAC,mBAAAA,EACAC,eAAAA,EACAC,gBAAAA,EAEAC,OAAQ,CACN,CACEC,YAAa,MACbC,YAAa,SACbC,QAAS,CAAC,CAAEC,WAAY,UAG5BvN,QAxBqB,IAqHrB4L,gBAAAA,EACA+J,oCAAAA,EACA1d,MAAO,CACLC,MAAO,OACPC,OAAQ,OACRG,OAAQ,EACRC,QAAS,EACTC,SAAU,YAEZwS,WAAY,GACZgB,QAAS,GACT7M,gBAAAA,EACAiW,8BAAAA,GAzEEtL,GA4EG8B,gBAAkBA,EAAAA,IAAAA,GAAAA,6pBG7KsBiK,QAAAA,QAShD,WACD,mBCTA,SAGA,cAGA,QACA,oBAGA,YACAtkB,EAAAA,EACAC,GAAAA,EACApF,QAAAA,IAUA,OANA0pB,EAAAA,GAAAA,KAAAA,EAAAA,QAAAA,EAAAA,EAAAA,QAAAA,GAGA3pB,EAAAA,GAAAA,EAGA,UA0DA,OArDA4pB,EAAAA,EAAAA,EAGAA,EAAAA,EAAAA,EAGAA,EAAAA,EAAAA,SAAAA,EAAAA,EAAAA,GACA,UACAvmB,OAAAA,eAAAA,EAAAA,EAAAA,CAA0CwmB,YAAAA,EAAAjU,IAAAA,KAK1CgU,EAAAA,EAAAA,SAAAA,GACA,iDACAvmB,OAAAA,eAAAA,EAAAA,OAAAA,YAAAA,CAAwDsM,MAAAA,WAExDtM,OAAAA,eAAAA,EAAAA,aAAAA,CAAiDsM,OAAAA,KAQjDia,EAAAA,EAAAA,SAAAA,EAAAA,GAEA,GADA,cACA,aACA,sDACA,0BAGA,GAFAA,EAAAA,EAAAA,GACAvmB,OAAAA,eAAAA,EAAAA,UAAAA,CAAyCwmB,YAAAA,EAAAla,MAAAA,IACzC,uCAAAia,EAAAA,EAAAA,EAAAA,EAAAA,SAAAA,GAAgH,aAAqBpf,KAAA,KAAArD,IACrI,UAIAyiB,EAAAA,EAAAA,SAAAA,GACA,sBACA,WAA2B,kBAC3B,WAAiC,UAEjC,OADAA,EAAAA,EAAAA,EAAAA,IAAAA,GACA,GAIAA,EAAAA,EAAAA,SAAAA,EAAAA,GAAsD,kDAGtDA,EAAAA,EAAAA,GAIA,SDxEA,wtGEKA,WAUA,OASA,OAlCA,uCAgFE,GADqBE,EADc,GAC7BC,SACQ,CACZ,IAAMC,EAAgBF,EAAAA,IADVE,eAEZC,EAAAA,EAAAA,6BAA2BC,SAAAA,GACzB,OAAO,IAAIF,EADwBE,UAGhC,CACL,IADKC,EACCC,EAAmBN,EAAAA,IADpBM,kBAGL,0BACED,EAAiBL,EAAAA,IADKK,iBAGxBF,EAAAA,EAAAA,6BAA2BC,SAAAA,GACzB,OAAIC,IAAkBE,EAAAA,EAAAA,iBAAgBH,EAAtCjiB,KACS,IAAIkiB,EADsCD,GAG5C,IAAIE,EAJwBF,0GCoUzC,YAA4E,6DAA5E,GAAiCjiB,EAA2C,EAA3CA,IAAAqiB,EAA2C,EAA3CA,OAAAC,EAA2C,EAA3CA,IAA2C,IAAvBC,QAAAA,OAAuB,UAC1EC,EAAAA,EAAAA,QACExiB,GADFwiB,kBACgBxiB,EAF0D,6DAM1E,IAAMyiB,GAAiBC,EAAAA,EAAAA,sBANmD1iB,GAO1E,EACE2iB,EAAAA,KAAYA,EAAKC,MADNH,GAGXE,EAAAA,KADK,GAELA,EAAAA,MAAAA,aAAAA,OAAaF,GACbE,EAAAA,QAAe,WACb,OADmB,IAKvB,IAAIE,EAjBsE,GAkB1E,UACE,KAAKC,EAALC,KADF,MAGE,KAAKD,EAALE,KACEH,EADF,QAHF,MAME,KAAKC,EAALG,MACEJ,EADF,SANF,MASE,KAAKC,EAALI,OACEL,EADF,UATF,MAYE,KAAKC,EAALK,IACEN,EADF,OAIFF,EAAAA,OAlC0EE,EAoC1EF,EAAAA,IAA0B,kBAARL,EAAmBA,EApCqCc,wBA2C5E,YACE,IAAMC,EAASrjB,EAAIuR,QADY,KAEzB+R,EAAQtjB,EAAIuR,QAFa,KAGzBgS,EAAMvpB,KAAKqR,IACfgY,EAAS,EAAIA,EAASrjB,EADZhG,OAEVspB,EAAQ,EAAIA,EAAQtjB,EALS3C,QAO/B,OAAO2C,EAAIwjB,UAAUxjB,EAAIyjB,YAAY,IAAKF,GAAnCvjB,EAPwBujB,0DA6EjC,YACE,OAAO,IAAIhiB,SAAQ,cACjB,IAAML,EAASC,SAASe,cADc,UAEtChB,EAAAA,IAFsCkB,EAItClB,EAAAA,OAJsCM,EAKtCN,EAAAA,QAAiB,WACfO,EAAO,IAAIf,MAAM,0BAAV,OAAoCQ,EAA1BkB,SAElBjB,SAAA,MAAiBA,SAAlBuiB,iBAAA/gB,YARsCzB,oBAa1C,YACEgC,QAAAA,IAAY,yBADeygB,0NArhB7B,WAYMP,EA5BN,oDA6BA,IAAMQ,EA7BN,6BA+BAC,EAAAA,WACEllB,SAAAA,IAAc,wBACR7G,KAAK6G,cAATklB,IACEC,EAAAA,EAAAA,aAD0C,mFAK9CvnB,SAAAA,EAAAA,IACEunB,EAAAA,EAAAA,aADoB,yDAItB/gB,SAAAA,EAAAA,EAAAA,GACE,IAAKghB,EAALC,OACE,MAAM,IAAItjB,MADkB,2BAG9B,GAAIoD,GAAS,GAAKC,GAAlB,EACE,MAAM,IAAIrD,MADmB,uBAG/BqjB,EAAAA,OAAAA,MAPqCjgB,EAQrCigB,EAAAA,OAAAA,OARqChgB,yBAWvCkgB,SAAAA,GACE,IAAKF,EAALC,OACE,MAAM,IAAItjB,MADkB,2BAK9BqjB,EAAAA,OAAAA,MANwB,EAOxBA,EAAAA,OAAAA,OAPwB,EAQxBA,EAAAA,OARwB,KASxBA,EAAAA,QATwB,WAtB5BF,6BAmCAK,EAAAA,SAAAA,wCACEvlB,SAAAA,IAA0D,+DAA1DA,GAA0D,IAA5CwlB,cAAAA,OAA4C,MAA5BC,WAAlBjjB,SAA8C,kDAExD,UAFwDgjB,EAAA,6CAK1D5nB,SAAAA,EAAAA,GACE,GAAIuH,GAAS,GAAKC,GAAlB,EACE,MAAM,IAAIrD,MADmB,uBAG/B,IAAMsjB,EAASlsB,KAAKusB,UAAUniB,cAJV,UAKdxG,EAAUsoB,EAAOM,WALH,MAQpB,OAFAN,EAAAA,MANoBlgB,EAOpBkgB,EAAAA,OAPoBjgB,EAQb,CAAAigB,OAAAA,EAAAtoB,QAAAA,SAdXwoB,CAAAL,4BAqBAU,EAAAA,WACE5lB,SAAAA,EAAAA,GAAsD,QAAxC6lB,QAAAA,OAAwC,MAA1C,KAA0C,MAAxBC,aAAAA,OAAwB,iCAChD3sB,KAAK6G,cAAT4lB,IACET,EAAAA,EAAAA,aAD8C,4CAGhDhsB,KAAA,QAJoD0sB,EAKpD1sB,KAAA,aALoD2sB,yGAQtD,mHAAA9nB,EAAAA,EAAAA,KACO7E,KAAL0sB,QADF,sBAEU,IAAI9jB,MACR,2HAHN,UAOE/D,EAPF,sBAQU,IAAI+D,MADD,gCAPb,cAUQV,EAAMlI,KAAK0sB,QAAU7nB,GAAQ7E,KAAK2sB,aAAe,SAVnC,IAWdC,EAAkB5sB,KAAK2sB,aACzBE,EAAAA,oBADoBC,OAEpBD,EAAAA,oBAbgB5B,KAAtB,kBAeSjrB,KAAK+sB,WAAW7kB,EAAK0kB,GAAiBI,OAAMC,SAAAA,GACjD,MAAM,IAAIrkB,MAAM,kBAAV,OACc,yBAAlB,GADI,oBACJV,QAjBN,+HAyBA6kB,SAAAA,EAAAA,IACEf,EAAAA,EAAAA,aAD+B,8CAlCnCS,iCAuCAS,EAAAA,SAAAA,2JACEH,SAAAA,EAAAA,GAAiC,WAC/B,OAEGI,KAAsB7C,EAAgBpiB,EAAKmB,SAF9C+jB,SAISC,MAAMnlB,GAAKmL,KAAXga,WAAA,kDAAgB,wGAChBC,EAALC,GADqB,sBAEb,IAAI3kB,MAAM0kB,EADAE,YADG,WAKjB,EAAJb,aALqB,6BAMRc,WANQ,SAMaH,EADXI,cALF,mBAMnBC,EANmB,mDAQRC,EAAAA,cARQ,UAQYN,EAD1BO,OAPc,oBAQnBF,GARmB,+CAUd,CAAAA,SAAAA,EAAAf,gBAAAA,IAVc,4CAAhB,mDAAAS,IAeF,IAAI5jB,SAAQ,cACjB,IAAMqkB,EAAU,IADsBC,eAEtCD,EAAAA,KAAAA,MAAAA,GAFsC,GAIlC,EAAJnB,eACEmB,EAAAA,aADqB,eAGvBA,EAAAA,mBAA6B,WAC3B,GAAIA,EAAQE,aAAeD,eAA3BE,KAAA,CAIE,IADkDN,EAApD,IAAuB,MAAnBG,EAAQI,QAAZ,IAA8BJ,EAAQI,UAEhC,gBAAqBJ,EAAzBR,SACEK,EAAW,IAAIF,WAAWK,EADeR,WAE/B,EAADX,cAAsBmB,EAA1BK,eACLR,GAAWC,EAAAA,EAAAA,eAAcE,EAD4BK,eAGvD,GAAc,YACZzkB,EAAQ,CAAAikB,SAAAA,EAAAf,gBAAAA,IAIZjjB,EAAO,IAAIf,MAAMklB,EAhBgBN,eAmBnCM,EAAAA,KA1BsC,eArB5CZ,CAAAT,gCAoDA2B,EAAAA,2FACE3pB,SAAAA,EAAAA,IACEimB,EAAAA,EAAAA,QAAO1e,EAAQ,GAAKC,EAApBye,EADoB,0BAGpB,IAAM2D,EAAMhlB,SAASilB,gBAAgBxC,EAHjB,WAUpB,OANAuC,EAAAA,aAAAA,UAJoB,OAKpBA,EAAAA,aAAAA,QAA0BriB,EALN,MAMpBqiB,EAAAA,aAAAA,SAA2BpiB,EANP,MAOpBoiB,EAAAA,aAAAA,sBAPoB,QAQpBA,EAAAA,aAAAA,UAA4B,OAASriB,EAAQ,IARzBC,GAAAoiB,+BAatBjkB,SAAAA,GAGE,OAFAsgB,EAAAA,EAAAA,QAAAA,kBAAcrgB,EADI,4BAGXhB,SAASilB,gBAAgBxC,EAHdzhB,SAdtB+jB,yBAoDAG,EAAAA,WAIE1nB,SAAAA,EAAAA,GAOG,IAPS2nB,EAOT,EAPSA,QAAAha,EAOT,EAPSA,MAAAia,EAOT,EAPSA,SAOT,IAHDC,QAAAA,OAGC,MAPS,EAOT,MAFDC,QAAAA,OAEC,MAPS,EAOT,MADDC,SAAAA,OACC,iCACD5uB,KAAA,QADCwuB,EAEDxuB,KAAA,MAFCwU,EAGDxU,KAAA,SAHCyuB,EAIDzuB,KAAA,QAJC0uB,EAKD1uB,KAAA,QALC2uB,EASD,IAEA,MAXCE,EAkDD,EAlDCC,EAmDD,EAnDC7iB,EASK8iB,GAAWP,EAAA,GAAaA,EAAd,IATf,EAUKQ,GAAWR,EAAA,GAAaA,EAAd,IAVf,EAcD,OADAC,GADAA,GAZC,KAaqB,EAAIA,EAAfA,IAbVA,GAeC,SACEQ,GADF,EAEEC,EAFF,EAGEC,EAHF,EAIEN,EAJF,EADF,MAOE,QACEI,EADF,EAEEC,EAFF,EAGEC,EAHF,EAIEN,EAJF,EAPF,MAaE,SACEI,EADF,EAEEC,GAFF,EAGEC,GAHF,EAIEN,EAJF,EAbF,MAmBE,OACEI,EADF,EAEEC,EAFF,EAGEC,EAHF,EAIEN,GAJF,EAnBF,MAyBE,QACE,MAAM,IAAIjmB,MA1Bd,qEA+BA,IACEumB,GADYA,EAEZN,GAFYA,GAOd,IAAII,GACFG,EAAgBltB,KAAKklB,IAAI4H,EAAUR,EAAnBtsB,IAAAA,EADCwsB,EAEjBI,EAAgB5sB,KAAKklB,IAAI2H,EAAUP,EAAnBtsB,IAAAA,EAFCysB,EAGjB3iB,EAAQ9J,KAAKklB,IAAIoH,EAAQ,GAAKA,EAAtBtsB,IAHSsS,EAIjBvI,EAAS/J,KAAKklB,IAAIoH,EAAQ,GAAKA,EAAtBtsB,IAJQsS,IAMjB4a,EAAgBltB,KAAKklB,IAAI2H,EAAUP,EAAnBtsB,IAAAA,EADXwsB,EAELI,EAAgB5sB,KAAKklB,IAAI4H,EAAUR,EAAnBtsB,IAAAA,EAFXysB,EAGL3iB,EAAQ9J,KAAKklB,IAAIoH,EAAQ,GAAKA,EAAtBtsB,IAHHsS,EAILvI,EAAS/J,KAAKklB,IAAIoH,EAAQ,GAAKA,EAAtBtsB,IAJJsS,GASPxU,KAAA,UAAiB,CACfivB,EADeza,EAEf0a,EAFe1a,EAGf2a,EAHe3a,EAIfqa,EAJera,EAKf4a,EAAgBH,EAAUza,EAA1B4a,EAA4CD,EAAU3a,EALvCwa,EAMfF,EAAgBI,EAAU1a,EAA1Bsa,EAA4CD,EAAUra,EANvCwa,GASjBhvB,KAAA,MA3ECgM,EA4EDhM,KAAA,OA5ECiM,4CAoFH7L,WAMQ,6DANRA,GAMQ,IALNoU,MAAAA,OAKM,MALExU,KADJwU,MAME,MAJNia,SAAAA,OAIM,MAJKzuB,KAFPyuB,SAME,MAHNC,QAAAA,OAGM,MAHI1uB,KAHN0uB,QAME,MAFNC,QAAAA,OAEM,MAFI3uB,KAJN2uB,QAME,MADNC,SAAAA,OACM,SACN,OAAO,IAAIL,EAAa,CACtBC,QAASxuB,KAAKwuB,QADQxpB,QAAAwP,MAAAA,EAAAia,SAAAA,EAAAC,QAAAA,EAAAC,QAAAA,EAAAC,SAAAA,0CAoB1BS,SAAAA,EAAAA,GACE,OAAOC,EAAAA,KAAAA,eAAoB,CAACxvB,EAAGC,GAAIC,KADRuvB,qDAW7BC,SAAAA,GACE,IAAMC,EAAUH,EAAAA,KAAAA,eAAoB,CAACI,EAAD,GAAUA,EAAV,IAAoB1vB,KADzBuvB,WAEzBI,EAAcL,EAAAA,KAAAA,eAAoB,CAACI,EAAD,GAAUA,EAAV,IAAoB1vB,KAF7BuvB,WAG/B,MAAO,CAACE,EAAD,GAAaA,EAAb,GAAyBE,EAAzB,GAAyCA,EAAzC,qCAYTC,SAAAA,EAAAA,GACE,OAAON,EAAAA,KAAAA,sBAA2B,CAACxvB,EAAGC,GAAIC,KADpBuvB,iBApJ1BhB,wBAyJAsB,EAAAA,SAAAA,wCACEhpB,SAAAA,EAAAA,EAAAA,GAAuB,sCACrB,cADqBipB,IAErB,KAFqBzlB,EAAA,yBADzBwlB,CAAAP,EAAAA,+CAOA,IAAMtE,EAAa,CACjBC,KADiB,EAEjBC,KAFiB,EAGjBC,MAHiB,EAIjBC,OAJiB,EAKjBC,IALiB,sBAtYnB0E,EAodAC,EAAAA,WACEnpB,SAAAA,IAAc,wBACZ7G,KAAA,QAAesD,OAAOmB,OADV,MAEZzE,KAAA,MAFY,4CAKdiwB,SAAAA,GACMprB,KAAQ7E,KAAZkwB,UACErkB,EAAAA,EAAAA,MAAAA,gCAAAA,OAAKhH,IAEP7E,KAAA,WAAqBujB,KAJZ4M,6BAOXC,SAAAA,GACQvrB,KAAQ7E,KAAdkwB,UACErkB,EAAAA,EAAAA,MAAAA,kCAAAA,OAAKhH,IAEP7E,KAAA,WAAgB,CAAA6E,KAAAA,EAEdwrB,MAAOrwB,KAAKkwB,QAFErrB,GAGd4mB,IAAKlI,KAHS4M,eAMTnwB,KAAKkwB,QAVArrB,2BAadsC,WAEE,IAFS,EAEHmpB,EAFG,GAGLC,EAHK,+BAIUvwB,KAAnBwwB,OAJS,IAIT,2BAA+B,KACvB3rB,EADuB,QAAAA,KAEzBA,EAAKU,OAATgrB,IACEA,EAAU1rB,EADeU,SANpB,iEAUUvF,KAAnBwwB,OAVS,IAUT,2BAA+B,KAA/BP,EAA+B,QACvBQ,EAAWR,EAAAA,IAAWA,EADCI,MAE7BC,EAAAA,KAAAA,GAAAA,OAAeL,EAAAA,KAAAA,OAAHM,GAAZD,KAAAA,OAAYG,EAAZH,UAZO,8BAcT,OAAOA,EAAOnnB,KAdL,UA1Bb6mB,GA4CA,aACE,MACmB,qBAAV3C,OAAP,qBACOqD,UACP,SAAUA,SAFVvwB,WAFwB,qBAKjBwwB,eAIX,gBACE,IACE,IAAMC,GAAelE,EAAU,IAAImE,IAAI3oB,EAAlBwkB,GAAkC,IAAImE,IADzD3oB,IACI0oB,SAEN,MAAoB,UAAbA,GAHL,WAG6BA,EAC/B,MAAOE,GACP,OADW,qBA6BfC,EAAAA,sGAiBE,YACE,IAAKC,KAAUC,EAAAA,EAAAA,UAAfD,GACE,OAD8B,KAKhCjB,IACEA,EAAqB,IAAIhpB,OACvB,6FAkBJ,IAAMmqB,EAAUnB,EAAmBoB,KA1BVH,GA2BzB,IAAAE,EACE,OADY,KAMd,IAAME,EAAOC,SAASH,EAATG,GAjCY,IAkCrBC,EAAQD,SAASH,EAATG,GAlCa,IAmCzBC,EAAQA,GAAS,GAAKA,GAAdA,GAA4BA,EAA5BA,EAnCiB,EAoCzB,IAAIC,EAAMF,SAASH,EAATG,GApCe,IAqCzBE,EAAMA,GAAO,GAAKA,GAAZA,GAAAA,EArCmB,EAsCzB,IAAIC,EAAOH,SAASH,EAATG,GAtCc,IAuCzBG,EAAOA,GAAQ,GAAKA,GAAbA,GAAAA,EAvCkB,EAwCzB,IAAIC,EAASJ,SAASH,EAATG,GAxCY,IAyCzBI,EAASA,GAAU,GAAKA,GAAfA,GAAAA,EAzCgB,EA0CzB,IAAIC,EAASL,SAASH,EAATG,GA1CY,IA2CzBK,EAASA,GAAU,GAAKA,GAAfA,GAAAA,EA3CgB,EA4CzB,IAAMC,EAAwBT,EAAQ,IA5Cb,IA6CrBU,EAAaP,SAASH,EAATG,GA7CQ,IA8CzBO,EAAaA,GAAc,GAAKA,GAAnBA,GAAAA,EA9CY,EA+CzB,IAAIC,EAAeR,SAASH,EAATG,GAAAA,KA/CM,EA8DzB,OAdAQ,EAAeA,GAAgB,GAAKA,GAArBA,GAAAA,EAhDU,EAsDzB,MAAIF,GACFH,GADiCI,EAEjCH,GAFiCI,GAG5B,MAAIF,IACTH,GADwCI,EAExCH,GAFwCI,GAKnC,IAAItO,KAAKA,KAAKuO,IAAIV,EAAME,EAAOC,EAAKC,EAAMC,EA9DxBC,UAjB7BX,wIC1BA,YACE,IAAMxrB,EAASwsB,EADWxsB,OAG1B,GAAe,IAAXA,GAAgBwsB,EAAI,aAAxBtE,WACE,OAAOsE,EADyC,GAIlD,IADA,IAAIC,EANsB,EAOjB3sB,EAAT,EAAgBA,EAAhBE,EAA4BF,IAC1B2sB,GAAgBC,EAAgBF,EADD1sB,IAKjC,IAFA,IAAI6sB,EAVsB,EAWpB/R,EAAO,IAAIsN,WAXSuE,GAYjB3sB,EAAT,EAAgBA,EAAhBE,EAA4BF,IAAK,CAC/B,IAAI8sB,EAAOJ,EADoB1sB,GAEzB8sB,aAAN1E,aAEI0E,EADF,kBAAWA,EACFvE,EADqBuE,GAGrB,IAAI1E,WADN0E,IAIT,IAAMC,EAAaD,EATYE,WAU/BlS,EAAAA,IAAAA,EAV+B+R,GAW/BA,GAX+BE,EAajC,OAzB0BjS,8BAhD5B,YACEuK,EACY,OAAV4H,GAAAA,kBAAyBA,QAD3B5H,IACiD4H,EAAM/sB,OAF3B,sCAK5B,IAAMA,EAAS+sB,EALa/sB,OAMtBgtB,EANsB,KAO5B,GAAIhtB,EAAJgtB,EACE,OAAOC,OAAOC,aAAapsB,MAAM,KADFisB,GAIjC,IADA,IAAMI,EAVsB,GAWnBrtB,EAAT,EAAgBA,EAAhBE,EAA4BF,GAA5BktB,EAAqD,CACnD,IAAMI,EAAWzwB,KAAKqR,IAAIlO,EAATnD,EADkCqD,GAE7CqtB,EAAQN,EAAMO,SAASxtB,EAFsBstB,GAGnDD,EAAAA,KAAYF,OAAOC,aAAapsB,MAAM,KAHausB,IAKrD,OAAOF,EAAOvpB,KAhBc,+BA8X9B,WACE,IAAM2pB,EAAaxvB,OAAOmB,OADO,MAE7BsuB,GAF6B,EAmBjC,OAfAzvB,OAAAA,eAAAA,EAAAA,UAA6C,CAC3CuS,IAD2C,WAEzC,OADIkd,KAIRD,EAAAA,QAAqB,IAAIrpB,SAAQ,SAAUC,EAASC,GAClDmpB,EAAAA,QAAqB,SAAU3S,GAC7B4S,GADmC,EAEnCrpB,EAFmCyW,IAIrC2S,EAAAA,OAAoB,SAAU7F,GAC5B8F,GADoC,EAEpCppB,EAFoCsjB,OAdP6F,kBApEnC,YAGE,OAAOE,EAAIC,QAAQ,cAHM,+BAuC3B,WAA0D,IAA7BC,EAA6B,uDAAtB,IAAI3P,KAAKA,KAA7C4M,OACQgD,EAAS,CACbD,EAAKE,iBADQjsB,YAEZ+rB,EAAA,cAAD,GAAA/rB,WAAAksB,SAAA,EAFa,MAGZH,EAAA,aAAD,GAAA/rB,WAAAksB,SAAA,EAHa,KAIbH,EAAKI,cAAcnsB,WAAWksB,SAAS,EAJ1B,KAKbH,EAAKK,gBAAgBpsB,WAAWksB,SAAS,EAL5B,KAMbH,EAAKM,gBAAgBrsB,WAAWksB,SAAS,EAN5B,MASf,OAAOF,EAAOhqB,KAV0C,yBAlgB1D,WACE,OAD2BsqB,UAO7B,YACMA,GAAaC,EAAjBC,OACEvoB,QAAAA,IAAAA,SAAAA,OAAY0kB,qBA4ehB,YACE,MAAoB,kBAAN8D,GAAP,OAAyBA,QADRxtB,IACsBwtB,EAAEvB,2BAGlD,cACE,OAAIwB,EAAKtuB,SAAWuuB,EAApBvuB,QAGOsuB,EAAKE,OAAM,SAAU1Z,EAAS2Z,GACnC,OAAO3Z,IAAYyZ,EADuBE,gBApB9C,YACE,MADiB,mBACHJ,WAGhB,YACE,MADgB,kBACFA,cAGhB,YACE,MADmB,kBACLA,kBAndhB,cACE,IADuCK,EAEvC,IAEE,KADAA,EAAO,IAAIpD,IADTnE,IAEEwH,QAAJ,SAAoBD,EAAKC,OACvB,OAD0C,EAG5C,MAAOhpB,GACP,OADU,EAIZ,IAAM7I,EAAQ,IAAIwuB,IAAIsD,EAXiBF,GAYvC,OAAOA,EAAKC,SAAW7xB,EAZgB6xB,iCAuCzC,cACE,IAAAhsB,EACE,OADQ,KAGV,IACE,IAAMksB,EAAc1H,EAAU,IAAImE,IAAI3oB,EAAlBwkB,GAAkC,IAAImE,IADxD3oB,GAEF,GA7BJ,YACE,IAAAA,EACE,OADQ,EAGV,OAAQA,EAAR0oB,UACE,IADF,QAEE,IAFF,SAGE,IAHF,OAIE,IAJF,UAKE,WACE,OANJ,EAOE,QACE,OARJ,GAyBMyD,CAAJD,GACE,OADiCA,EAGnC,MAAOtD,IAGT,OAZ4C,6BAmF9C,YACE,wBAAWkC,GACTnnB,EAD2B,2DAAAmnB,GAItBA,EAAIC,QAAQqB,EALc,yBA/JnC,YACMzS,OAAO0S,UAAXC,KACEf,EAD2Be,0BAkP/B,YACE,OAAOhC,OAAOC,aACX7iB,GAAD,GADK4iB,IAEJ5iB,GAAD,GAFK4iB,IAGJ5iB,GAAD,EAHK4iB,IADgB,IAKrB5iB,0CA+MJ,YACE,IAAMrK,EAASytB,EAAfztB,OACEmtB,EAF4B,GAG9B,GAAe,SAAXM,EAAI,IAAR,SAAyBA,EAAI,GAE3B,IAAK,IAAI3tB,EAAT,EAAgBA,EAAhBE,EAA4BF,GAA5B,EACEqtB,EAAAA,KACEF,OAAOC,aAAcO,EAAIyB,WAAWpvB,IAAhB,EAA2B2tB,EAAIyB,WAAWpvB,EAF9B,UAK/B,GAAe,SAAX2tB,EAAI,IAAR,SAAyBA,EAAI,GAElC,IAAK,IAAI3tB,EAAT,EAAgBA,EAAhBE,EAA4BF,GAA5B,EACEqtB,EAAAA,KACEF,OAAOC,aAAcO,EAAIyB,WAAWpvB,EAAf2tB,IAAD,EAA+BA,EAAIyB,WAFvBpvB,UAMpC,IAAK,IAAIA,EAAT,EAAgBA,EAAhBE,IAAAF,EAAiC,CAC/B,IAAMqvB,EAAOC,EAAwB3B,EAAIyB,WADVpvB,IAE/BqtB,EAAAA,KAAYgC,EAAOlC,OAAOC,aAAdiC,GAAmC1B,EAAI4B,OAFpBvvB,IAKnC,OAAOqtB,EAAOvpB,KAvBgB,0BAgChC,YACE,OAAO0rB,mBAAmBC,OADK9B,0BAIjC,YACE,OAAO+B,SAASC,mBADehC,ipBAryBjCnJ,EAAAA,qBAkBwB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,0BACX,CAAC,KAAO,EAAG,EAAG,KAAO,EAAG,oBAG9B,CACrBoL,MADqB,EAErBC,gBAFqB,EAGrBC,KAHqB,GAIrBC,mBAJqB,GAKrBC,uBALqB,IAMrBC,uBANqB,IAOrBC,SAPqB,KAQrBC,mBARqB,0BAWG,CACxBC,KADwB,EAExBC,OAFwB,EAGxBC,YAHwB,EAIxBC,UAJwB,EAKxBC,iBALwB,EAMxBC,mBANwB,EAOxBC,wBAPwB,EAQxBC,YARwB,EASxBC,iBATwB,EAUxBC,iBAVwB,eAaR,CAChBC,eADgB,EAEhBC,UAFgB,EAGhBC,WAHgB,oBAMK,CACrBC,KADqB,EAErBC,KAFqB,EAGrBC,SAHqB,EAIrBC,KAJqB,EAKrBC,OALqB,EAMrBC,OANqB,EAOrBC,QAPqB,EAQrBC,SARqB,EASrBC,UATqB,EAUrBC,UAVqB,GAWrBC,SAXqB,GAYrBC,UAZqB,GAarBC,MAbqB,GAcrBC,MAdqB,GAerBC,IAfqB,GAgBrBC,MAhBqB,GAiBrBC,eAjBqB,GAkBrBC,MAlBqB,GAmBrBC,MAnBqB,GAoBrBC,OApBqB,GAqBrBC,OArBqB,GAsBrBC,YAtBqB,GAuBrBC,QAvBqB,GAwBrBC,UAxBqB,GAyBrBC,OAzBqB,GA0BrBC,OA1BqB,+BA6BU,CAC/BC,OAD+B,SAE/BC,OAF+B,kCAKH,CAC5BD,OAD4B,SAE5BE,SAF4B,oCAKA,CAC5BC,SAD4B,WAE5BC,SAF4B,WAG5BC,UAH4B,YAI5BC,UAJ4B,YAK5BrN,KAL4B,8BAQF,CAC1BsN,MAD0B,QAE1BC,MAF0B,sBAKL,CACrB5C,UADqB,EAErB6C,OAFqB,EAGrBxD,MAHqB,EAIrByD,OAJqB,EAKrBC,SALqB,GAMrBC,OANqB,GAOrBC,SAPqB,GAQrBC,OARqB,IASrBC,aATqB,IAUrBC,eAVqB,2BAaK,CAC1BH,SAD0B,EAE1BI,SAF0B,EAG1BC,SAH0B,EAI1BC,UAJ0B,KAK1BC,SAL0B,KAM1BC,cAN0B,MAO1BC,MAP0B,MAQ1BC,WAR0B,MAS1BC,MAT0B,OAU1BC,KAV0B,OAW1BC,KAX0B,OAY1BC,WAZ0B,QAa1BC,YAb0B,QAc1BC,gBAd0B,QAe1BC,YAf0B,QAgB1BC,KAhB0B,SAiB1BC,SAjB0B,SAkB1BC,eAlB0B,SAmB1BC,kBAnB0B,sCAsBM,CAChCC,MADgC,EAEhCC,OAFgC,EAGhCC,QAHgC,EAIhCC,MAJgC,EAKhCvD,UALgC,gBAQf,CACjBwD,QADiB,UAEjBC,MAFiB,QAGjBC,IAHiB,MAIjBC,IAJiB,MAKjBC,IALiB,MAMjBC,KANiB,OAOjBC,IAPiB,MAQjBC,IARiB,MASjBC,IATiB,MAUjBC,IAViB,kBAaF,CACfT,QADe,UAEfU,MAFe,QAGfC,OAHe,SAIfC,aAJe,eAKfC,cALe,gBAMfC,SANe,WAOfC,aAPe,eAQfC,MARe,QASfC,SATe,WAUfC,MAVe,QAWfC,QAXe,WAcjB,IAAMhI,EAAiB,CACrBiI,OADqB,EAErBC,SAFqB,EAGrBjI,MAHqB,4CAMK,CAC1B1I,KAD0B,EAE1B6B,OAF0B,EAG1B+O,OAH0B,SAOhB,CAGVC,WAHU,EAIVC,aAJU,EAKVC,WALU,EAMVC,YANU,EAOVC,cAPU,EAQVC,QARU,EASVC,mBATU,EAUVC,YAVU,EAWVC,UAXU,EAYVC,KAZU,GAaVC,QAbU,GAcVjN,UAdU,GAeVkN,OAfU,GAgBVC,OAhBU,GAiBVC,QAjBU,GAkBVC,SAlBU,GAmBVC,SAnBU,GAoBVC,UApBU,GAqBVC,UArBU,GAsBVC,OAtBU,GAuBVC,YAvBU,GAwBVC,KAxBU,GAyBVC,OAzBU,GA0BVC,WA1BU,GA2BVC,aA3BU,GA4BVC,gBA5BU,GA6BVC,kBA7BU,GA8BVC,QA9BU,GA+BVC,KA/BU,GAgCVC,OAhCU,GAiCVC,UAjCU,GAkCVC,QAlCU,GAmCVC,eAnCU,GAoCVC,eApCU,GAqCVC,UArCU,GAsCVC,WAtCU,GAuCVC,QAvCU,GAwCVC,qBAxCU,GAyCVC,YAzCU,GA0CVC,SA1CU,GA2CVC,mBA3CU,GA4CVC,cA5CU,GA6CVC,SA7CU,GA8CVC,SA9CU,GA+CVC,eA/CU,GAgDVC,iBAhDU,GAiDVC,2BAjDU,GAkDVC,aAlDU,GAmDVC,sBAnDU,GAoDVC,oBApDU,GAqDVC,kBArDU,GAsDVC,eAtDU,GAuDVC,gBAvDU,GAwDVC,aAxDU,GAyDVC,cAzDU,GA0DVC,cA1DU,GA2DVC,YA3DU,GA4DVC,kBA5DU,GA6DVC,gBA7DU,GA8DVC,mBA9DU,GA+DVC,iBA/DU,GAgEVC,YAhEU,GAiEVC,iBAjEU,GAkEVC,eAlEU,GAmEVC,eAnEU,GAoEVC,aApEU,GAqEVC,UArEU,GAsEVC,eAtEU,GAuEVC,mBAvEU,GAwEVC,wBAxEU,GAyEVC,iBAzEU,GA0EVC,YA1EU,GA2EVC,UA3EU,GA4EVC,sBA5EU,GA6EVC,oBA7EU,GA8EVC,WA9EU,GA+EVC,SA/EU,GAgFVC,iBAhFU,GAiFVC,eAjFU,GAkFVC,gBAlFU,GAmFVC,cAnFU,GAoFVC,iBApFU,GAqFVC,sBArFU,GAsFVC,2BAtFU,GAuFVC,kBAvFU,GAwFVC,wBAxFU,GAyFVC,6BAzFU,GA0FVC,wBA1FU,GA2FVC,4BA3FU,GA4FVC,yBA5FU,GA6FVC,cA7FU,2BAgGiB,CAE3BC,QAF2B,UAG3BC,MAH2B,QAI3BC,WAJ2B,aAK3BC,MAL2B,QAM3BC,eAN2B,iBAQ3BC,KAR2B,OAS3BC,mBAT2B,qBAU3BC,eAV2B,iBAW3BC,aAX2B,eAY3BC,mBAZ2B,qBAa3BC,eAb2B,iBAc3BC,iBAd2B,mBAe3BC,mBAf2B,qBAgB3BC,gBAhB2B,kBAiB3BC,kBAjB2B,oBAkB3BC,mBAlB2B,qBAmB3BC,oBAnB2B,sBAoB3BC,iBApB2B,mBAqB3BC,mBArB2B,0CAwBH,CACxBC,cADwB,EAExBC,mBAFwB,GAK1B,IAAInP,EAAYC,EAxThBkI,SA8UA,cACMnI,GAAaC,EAAjBkI,UACExwB,QAAAA,IAAAA,YAAAA,OAAY0kB,IAIhB,cACE,MAAM,IAAIlnB,MADcknB,GAI1B,gBACE+S,GACE7W,EADS8D,GA4Db,kBAOE,OANAxsB,OAAAA,eAAAA,EAAAA,EAAiC,CAAAsM,MAAAA,EAE/Bka,YAF+B,EAG/BgZ,cAH+B,EAI/BC,UAJ+B,IADDnzB,EAalC,IAAMozB,EAAiB,WAErB,cACMhjC,KAAK6G,cAATm8B,GACEhX,EADsC,oCAGxChsB,KAAA,QAJ8BijC,EAK9BjjC,KAAA,KAAYA,KAAK6G,YALahC,KAUhC,OAHAm+B,EAAAA,UAA0B,IAT2Bp6B,MAUrDo6B,EAAAA,YAVqDA,EAAAA,EAAhC,yBAevBE,EAAAA,SAAAA,wCACEr8B,SAAAA,EAAAA,EAAAA,GAAuB,sCACrB,cADqBipB,IAErB,KAFqB4E,EAAA,yBADzBwO,CAAAF,6BAOAG,EAAAA,SAAAA,wCACEt8B,SAAAA,EAAAA,EAAAA,GAA0B,sCACxB,cADwBipB,IAExB,QAFwBjE,EAAA,yBAD5BsX,CAAAH,iCAOAI,EAAAA,SAAAA,mIAAAA,CAAAJ,+BAEAK,EAAAA,SAAAA,mIAAAA,CAAAL,+BAEAM,EAAAA,SAAAA,wCACEz8B,SAAAA,EAAAA,EAAAA,GAAyB,sCACvB,cADuBipB,IAEvB,OAFuB5B,EAAA,yBAD3BoV,CAAAN,uCAUAO,EAAAA,SAAAA,mIAAAA,CAAAP,uBAKAQ,EAAAA,SAAAA,mIAAAA,CAAAR,sBAEA,IAAM1O,EApdN,QAofA,cACE5J,EAAAA,kBAAcsI,EADY,sCAI1B,IAFA,IAAMztB,EAASytB,EAFWztB,OAGpB+sB,EAAQ,IAAI7E,WAHQloB,GAIjBF,EAAT,EAAgBA,EAAhBE,IAAAF,EACEitB,EAAAA,GAD+B,IACpBU,EAAIyB,WAAWpvB,GAE5B,OAP0BitB,EAe5B,cACE,YAAAlsB,IAAI2rB,EAAIxsB,OACCwsB,EADqBxsB,QAG9BmlB,OAAAA,IAAOqH,EAAIM,WAJiB,uCAKrBN,EALqBM,YA0D9B,IAAMoR,EAAuB,CAC3B,YACE,OAAOC,EAAO1jC,KAAM,QARxB,WACE,IAAM2jC,EAAU,IAAIlW,WADI,GAIxB,OAFAkW,EAAAA,GAFwB,MAGT,IAAIC,YAAYD,EAAhBxQ,OAAAA,EAHS,GAIV,GAIiB0Q,+BAajC,IAAMC,EAAwB,CAC5B,YACE,OAAOJ,EAAO1jC,KAAM,QAVxB,WACE,IAEE,OADA,aADE,OAGF,MAAOkL,GACP,OADU,GAMmB64B,gCAIjC,IAAMC,EAAS,CAAC,OAAQ,EAAG,IAAK,EAAG,IAAK,EAAG,KAE3CC,EAAAA,oGAGE,gBAIE,OAHAD,EAAAA,GADyB1rB,EAEzB0rB,EAAAA,GAFyBE,EAGzBF,EAAAA,GAHyBnhC,EAIlBmhC,EAAO76B,KAJW,6BAQ3B,cACE,MAAO,CACLg7B,EAAG,GAAKC,EAARD,GAAgBA,EAAG,GAAKC,EADnB,GAELD,EAAG,GAAKC,EAARD,GAAgBA,EAAG,GAAKC,EAFnB,GAGLD,EAAG,GAAKC,EAARD,GAAgBA,EAAG,GAAKC,EAHnB,GAILD,EAAG,GAAKC,EAARD,GAAgBA,EAAG,GAAKC,EAJnB,GAKLD,EAAG,GAAKC,EAARD,GAAgBA,EAAG,GAAKC,EAAxBD,GAAgCA,EAL3B,GAMLA,EAAG,GAAKC,EAARD,GAAgBA,EAAG,GAAKC,EAAxBD,GAAgCA,EAN3B,kCAWT,cAGE,MAAO,CAFI7jC,EAAE,GAAKmB,EAAPnB,GAAcA,EAAE,GAAKmB,EAArBnB,GAA4BmB,EADb,GAEfnB,EAAE,GAAKmB,EAAPnB,GAAcA,EAAE,GAAKmB,EAArBnB,GAA4BmB,EAFb,yCAM5B,cACE,IAAMgS,EAAIhS,EAAE,GAAKA,EAAPA,GAAcA,EAAE,GAAKA,EADE,GAIjC,MAAO,EAFKnB,EAAA,GAAOmB,EAAP,GAAcnB,EAAE,GAAKmB,EAArB,GAA4BA,EAAE,GAAKA,EAAnC,GAA0CA,EAAE,GAAKA,EAAlD,IAFsBgS,IAGpBnT,EAAD,GAAQmB,EAAR,GAAenB,EAAE,GAAKmB,EAAtB,GAA6BA,EAAE,GAAKA,EAApC,GAA2CA,EAAE,GAAKA,EAAnD,IAHsBgS,6CASnC,cACE,IAAM4wB,EAAKJ,EAAKK,eAAehsB,EADO7W,GAEhCmU,EAAKquB,EAAKK,eAAehsB,EAAEtT,MAAM,EAA5Bi/B,GAF2BxiC,GAGhC8iC,EAAKN,EAAKK,eAAe,CAAChsB,EAAD,GAAOA,EAAP,IAHO7W,GAIhC+iC,EAAKP,EAAKK,eAAe,CAAChsB,EAAD,GAAOA,EAAP,IAJO7W,GAKtC,MAAO,CACLS,KAAKqR,IAAI8wB,EAATniC,GAAgB0T,EAAhB1T,GAAuBqiC,EAAvBriC,GAA8BsiC,EADzB,IAELtiC,KAAKqR,IAAI8wB,EAATniC,GAAgB0T,EAAhB1T,GAAuBqiC,EAAvBriC,GAA8BsiC,EAFzB,IAGLtiC,KAAKsR,IAAI6wB,EAATniC,GAAgB0T,EAAhB1T,GAAuBqiC,EAAvBriC,GAA8BsiC,EAHzB,IAILtiC,KAAKsR,IAAI6wB,EAATniC,GAAgB0T,EAAhB1T,GAAuBqiC,EAAvBriC,GAA8BsiC,EAJzB,qCAQT,YACE,IAAM/wB,EAAIhS,EAAE,GAAKA,EAAPA,GAAcA,EAAE,GAAKA,EADN,GAEzB,MAAO,CACLA,EAAE,GADGgS,GAEJhS,EAAD,GAFKgS,GAGJhS,EAAD,GAHKgS,EAILhS,EAAE,GAJGgS,GAKJhS,EAAA,GAAOA,EAAP,GAAcA,EAAE,GAAKA,EAAtB,IALKgS,GAMJhS,EAAA,GAAOA,EAAP,GAAcA,EAAE,GAAKA,EAAtB,IANKgS,mCAgBT,cACE,MAAO,CACLhS,EAAE,GAAKmyB,EAAPnyB,GAAcA,EAAE,GAAKmyB,EAArBnyB,GAA4BA,EAAE,GAAKmyB,EAD9B,GAELnyB,EAAE,GAAKmyB,EAAPnyB,GAAcA,EAAE,GAAKmyB,EAArBnyB,GAA4BA,EAAE,GAAKmyB,EAF9B,GAGLnyB,EAAE,GAAKmyB,EAAPnyB,GAAcA,EAAE,GAAKmyB,EAArBnyB,GAA4BA,EAAE,GAAKmyB,EAH9B,iDAUT,YACE,IAAM6Q,EAAY,CAAChjC,EAAD,GAAOA,EAAP,GAAaA,EAAb,GAAmBA,EAAnB,IAGZL,EAAIK,EAAE,GAAKgjC,EAAPhjC,GAAsBA,EAAE,GAAKgjC,EAJD,GAKhC5hC,EAAIpB,EAAE,GAAKgjC,EAAPhjC,GAAsBA,EAAE,GAAKgjC,EALD,GAMhCC,EAAIjjC,EAAE,GAAKgjC,EAAPhjC,GAAsBA,EAAE,GAAKgjC,EAND,GAOhChxB,EAAIhS,EAAE,GAAKgjC,EAAPhjC,GAAsBA,EAAE,GAAKgjC,EAPD,GAUhCE,GAASvjC,EAADqS,GAVwB,EAWhCie,EAASxvB,KAAKC,MAAMf,EAADqS,IAAWrS,EAAXqS,GAAoB,GAAKrS,EAAIqS,EAAIixB,EAA3CxiC,IAXuB,EAYhC0iC,EAAKD,EAAQjT,GAZmB,EAahCmT,EAAKF,EAAQjT,GAbmB,EAgBtC,MAAO,CAACxvB,KAAKC,KAANyiC,GAAgB1iC,KAAKC,KAArB0iC,iCAOT,YACE,IAAMvsB,EAAIoX,EAAK1qB,MADU,GAUzB,OARI0qB,EAAK,GAAKA,EAAd,KACEpX,EAAAA,GAAOoX,EADc,GAErBpX,EAAAA,GAAOoX,EAFc,IAInBA,EAAK,GAAKA,EAAd,KACEpX,EAAAA,GAAOoX,EADc,GAErBpX,EAAAA,GAAOoX,EAFc,IANEpX,2BAgB3B,cACE,gBACE,OAAOlX,EADcyB,EAKvB,IAAMiiC,EAAW,CAACC,EAAD,GAAWA,EAAX,GAAqBC,EAArB,GAA+BA,EAA/B,SANYC,GAOvBC,EAAW,CAACH,EAAD,GAAWA,EAAX,GAAqBC,EAArB,GAA+BA,EAA/B,SAPYC,GAQvBlsB,EARuB,GAc7B,OAJAgsB,EAAQd,EAAKkB,cAVgBJ,GAW7BC,EAAQf,EAAKkB,cAXgBH,GAe1BF,EAAS,KAAOC,EAAhBD,IAA4BA,EAAS,KAAOE,EAA7C,IACCF,EAAS,KAAOE,EAAhBF,IAA4BA,EAAS,KAAOC,EAF/C,IAKEhsB,EAAAA,GAAY+rB,EAFZ,GAGA/rB,EAAAA,GAAY+rB,EAHZ,GAUCI,EAAS,KAAOH,EAAhBG,IAA4BA,EAAS,KAAOF,EAA7C,IACCE,EAAS,KAAOF,EAAhBE,IAA4BA,EAAS,KAAOH,EAF/C,IAKEhsB,EAAAA,GAAYmsB,EAFZ,GAGAnsB,EAAAA,GAAYmsB,EAHZ,GA7B2BnsB,GAiCtB,MAZA,WA5IXkrB,YAiKA,IAAMtP,EAA0B,CAAC,EAAD,waAgI1ByQ,EAAmB,WAEvB,IAAMC,EAFmD,oEAMzD,OAAO,SAAyBllB,EAAMmlB,GAAsC,IAAzBC,EAAyB,wDAC1E,IAAKA,GAAmB1U,IAAxBuU,gBAA6C,CAC3C,IAAMI,EAAO,IAAIC,KAAK,CAATtlB,GAAiB,CAAE9V,KADWi7B,IAE3C,OAAOzU,IAAIuU,gBAFgCI,GAM7C,IADA,IAAIrS,EAAS,QAATA,OAASmS,EAATnS,YACK9tB,EAAJ,EAAWqgC,EAAKvlB,EAArB5a,OAAkCF,EAAlCqgC,EAA0CrgC,GAA1C,EAAkD,CAChD,IAAMsgC,EAD0C,IACrCxlB,EAAK9a,GACVugC,EAF0C,IAErCzlB,EAAK9a,EAAL8a,GACL0lB,EAH0C,IAGrC1lB,EAAK9a,EAAL8a,GACL2lB,EAAKH,GAAX,EACEI,GAAM,EAACJ,IAAF,EAAmBC,GALsB,EAM1CI,EAAK3gC,EAAI,EAAIqgC,GAAM,GAACE,IAAF,EAAqBC,GAAlCxgC,EANqC,GAO1C4gC,EAAK5gC,EAAI,EAAIqgC,EAARrgC,GAAawgC,EAPwB,GAQhD1S,GAAUkS,EAAOS,GAAMT,EAAbA,GAA0BA,EAA1BA,GAAuCA,EARDY,GAUlD,OAjB0E9S,GANrD,qDCr3BzB,sGCoBA,IAAMnJ,EACe,kBAAZkc,SACPA,QAAU,KADV,qBAECA,QAAQC,SAFT3e,MAGE0e,QAAQC,SAASC,UAAYF,QAA7B77B,MAxBJ,YAwBiD67B,QAAQ77B,2XCJzD,iCAmBA,sCASA,oCACA,mCAjDA,kYA6DMg8B,yBA7DN,MA8DMC,4BA9DN,IAgEMC,qBACJC,SAAAA,SAAAA,YAAAA,kBAjEFC,eAAAA,iBAoEMC,yBACJF,SAAAA,SAAAA,YAAAA,sBArEFC,eAAAA,qBAAAE,uBAiGA,uCACEA,uBAD2DC,EA8G7D,wBACE,IADwB5/B,EAClB6/B,EAAO,IADWC,uBAIxB,qBAAWx8B,EACTtD,EAAS,CAAEkB,IADgBoC,QAEtB,IAAIy8B,EAAAA,MAAAA,eAAJz8B,GACLtD,EAAS,CAAEmZ,KADkB7V,QAExB,GAAIA,aAAJ08B,sBACLhgC,EAAS,CAAEigC,MADoC38B,OAE1C,CACL,qBAAWA,EACT,MAAM,IAAI1B,MACR,0FAIJ,IAAK0B,EAADpC,MAAaoC,EAAb6V,OAA0B7V,EAA9B28B,MACE,MAAM,IAAIr+B,MAD6B,+DAKzC5B,EAZKsD,EAcP,IAAM6f,EAAS7mB,OAAOmB,OAxBE,MAyBpByiC,EAAJ,KACEC,EA1BsB,KA4BxB,eACE,GAAY,QAAR//B,GAAJ,qBAA4B2C,OAIrB,aAAI3C,EAGJ,cAAIA,EAGJ,GAAY,SAARA,GAAoBJ,EAAOI,aAA/BqmB,WAsBPtD,EAAAA,GAAcnjB,EAjCUI,OAWjB,CAEL,IAAMggC,EAAWpgC,EAFgDI,GAGjE,qBAAWggC,EACTjd,EAAAA,IAAcyD,EAAAA,MAAAA,eADkBwZ,QAE3B,GACe,kBAAbA,GAAP,OACAA,GACCzzB,MAAMyzB,EAHF7hC,QAMA,MAAIwhC,EAAAA,MAAAA,eAAJK,GAGL,MAAM,IAAIx+B,MACR,8GAHFuhB,EAAAA,GAAc,IAAIsD,WADgB2Z,QADlCjd,EAAAA,GAAc,IAAIsD,WADlB2Z,QAXFD,EAASngC,EADkBI,QAF3B8/B,EAAiBlgC,EADSI,QAF1B+iB,EAAAA,GAAc,IAAI0G,IAAI7pB,EAARI,GAAqB2C,OAArBuW,UAFoC+mB,KAoEtD,GAjCAld,EAAAA,eAAwBA,EAAOmd,gBAhEPjB,yBAiExBlc,EAAAA,kBACEA,EAAOod,mBAlEeb,yBAmExBvc,EAAAA,cAnEwB,IAmEFA,EAAOqd,aAC7Brd,EAAAA,qBApEwB,IAoEKA,EAAOsd,oBACpCtd,EAAAA,QArEwB,IAqERA,EAAOud,OAElB7lB,OAAO0S,UAAUpK,EAAtBwd,gBACExd,EAAAA,cAD0C,GAG5C,mBAAWA,EAAP4Z,kBACF5Z,EAAAA,iBAD+C,GAGjD,mBAAWA,EAAPyd,kBACFzd,EAAAA,gBAAyB0d,mBAAAA,uBAAAA,kBADsB,GAGjD,qBAAW1d,EAAPkC,gBACFlC,EAAAA,cAAuBmC,WADwBjjB,UAIjD,mBAAW8gB,EAAP2d,eACF3d,EAAAA,cAD4C,GAG9C,mBAAWA,EAAP4d,gBACF5d,EAAAA,eAD6C,GAG/C,mBAAWA,EAAP6d,mBACF7d,EAAAA,kBADgD,IAKlD8d,EAAAA,MAAAA,mBAAkB9d,EA/FMsJ,YAiGxB0T,EAAa,CACX,IAAMe,EAAe,CACnBzU,UAAWtJ,EADQsJ,UAEnB0U,KAAMC,gBAAAA,oBAFaC,YAMrBlB,EAASe,EAAaC,KAClBG,UAAUC,SADLL,GAEL,IAAII,UATGJ,GAUXrB,EAAAA,QAVWM,EAYb,IAAMqB,EAAQ3B,EA7GU2B,MA8KxB,OAhEArB,EAAAA,QAAAA,MACQ,WACJ,GAAIN,EAAJ4B,UACE,MAAM,IAAI7/B,MADQ,mBAIpB,IAAM8/B,EAAkBC,eAAe,EAAfA,EAAAA,EALRH,GAWVI,EAAuB,IAAIn/B,SAAQ,SAAUC,GACjD,IAD0Dm/B,EAE1D,EACEA,EAAgB,IAAI,kBAAJ,uBACd,CACEtjC,OAAQ4kB,EADV5kB,OAEEujC,YAAa3e,EAFf2e,YAGEC,gBAAiB5e,EAHnB4e,gBAIEjB,aAAc3d,EAJhB2d,aAKEC,cAAe5d,EALjB4d,eAFgBb,GAWR/c,EAALhK,OACL0oB,EAAgBlC,uBAAuB,CACrCz+B,IAAKiiB,EADgCjiB,IAErC3C,OAAQ4kB,EAF6B5kB,OAGrCyjC,YAAa7e,EAHwB6e,YAIrCC,gBAAiB9e,EAJoB8e,gBAKrC3B,eAAgBnd,EALqBmd,eAMrCQ,aAAc3d,EANuB2d,aAOrCC,cAAe5d,EAPsB4d,iBAUzCr+B,EAxB0Dm/B,MA2B5D,OAAOp/B,QAAQy/B,IAAI,CAACR,EAAiBE,IAA9B,MACL,SAAU,GAA2B,0BAA3BO,EAA2B,KAArCN,EAAqC,KACnC,GAAIhC,EAAJ4B,UACE,MAAM,IAAI7/B,MADQ,mBAIpB,IAAMwgC,EAAiB,IAAI,iBAAJ,mBAGrBjC,EARiCgB,MAUnCiB,EAAAA,qBAAsCjC,EAVHkC,qBAWnC,IAAMC,EAAY,IAAIC,gBAAgB,EAApB,IAXiBpf,GAiBnC0c,EAAAA,WAjBmCyC,EAkBnCF,EAAAA,KAAAA,QAlBmC,YAxC3CjC,MA8DSN,EAAK2C,YA5KU7/B,QAAAk9B,EA4L1B,iCACE,OAAIM,EAAJsB,UACSh/B,QAAQE,OAAO,IAAIf,MADN,0BAItB,IACE5B,EAAAA,OAAgByiC,EADSlkC,OAEzByB,EAAAA,YAAqByiC,EAFIX,YAGzB9hC,EAAAA,gBAAyByiC,EAHAV,iBAKpB5B,EAAOiC,eAAPjC,gBAAAA,gBAC6B,CAAAqB,MAAAA,EAEhCkB,WAFgC,UAOhC1iC,OAAQ,CACNmZ,KAAMnZ,EADAmZ,KAENjY,IAAKlB,EAFCkB,IAGNyhC,SAAU3iC,EAHJ2iC,SAIN3B,iBAAkBhhC,EAJZghC,iBAKNV,eAAgBtgC,EALVsgC,eAMN/hC,OAAQyB,EANFzB,QAQRoiC,aAAc3gC,EAfkB2gC,aAgBhCC,gBAAiB5gC,EAhBe4gC,gBAiBhCyB,qBAAsBlC,EAjBUkC,qBAkBhCO,WAAY5iC,EAlBoB4iC,WAmBhCC,aAAc7iC,EAnBkB6iC,aAoBhC9F,gBAAiB/8B,EApBe+8B,gBAqBhC0D,oBAAqBzgC,EArBWygC,sBAD7B,MAwBC,SAAU0B,GACd,GAAIhC,EAAJsB,UACE,MAAM,IAAI7/B,MADU,wBAGtB,OAJwBugC,MAsC9B,IAAMrC,uBAA0B,WAC9B,IAAIgD,EADmE,EA+EvE,OA/EuE,WAUrEjjC,SAAAA,IAAc,wBACZ7G,KAAA,aADY,mCAEZA,KAAA,WAFY,KAGZA,KAAA,QAHY,KASZA,KAAA,MAAa,IAAM8pC,IAMnB9pC,KAAA,WAfY,EAuBZA,KAAA,WAvBY,KAgCZA,KAAA,WAhCY,KAuCZA,KAAA,qBAvCY,KAVuD,0CAwDrE,WACE,OAAOA,KAAKwpC,YADAO,UAxDuD,qBAgErE5d,WAAU,WAMR,OALAnsB,KAAA,WADQ,GAGoBA,KAADgqC,WAEvBhqC,KAAKgqC,WALD7d,UAIJ1iB,QADuBC,WAGD2J,MAAK,WAC7B,aADmC,KAE/B,EAAJ42B,UACE,UADgB9d,UAEhB,UAFgB,aAxE+C,KAAzC,GAqFhC6a,sBAAAA,WAMEngC,SAAAA,EAAAA,EAAAA,GAA0D,IAAzBkiC,EAAyB,gFACxD/oC,KAAA,OADwDuF,EAExDvF,KAAA,YAFwD8oC,EAGxD9oC,KAAA,gBAHwD+oC,EAKxD/oC,KAAA,gBALwD,GAMxDA,KAAA,mBANwD,GAOxDA,KAAA,0BAPwD,GAQxDA,KAAA,0BARwD,GASxDA,KAAA,kBATwD,wFAY1DkqC,SAAAA,GACElqC,KAAA,qBADyBkE,sCAI3BimC,SAAAA,GACEnqC,KAAA,wBAD4BkE,6CAI9BkmC,SAAAA,GACEpqC,KAAA,+BADmCkE,6CAIrCmmC,SAAAA,GACErqC,KAAA,+BADmCkE,8BAIrComC,SAAAA,EAAAA,GAA0B,mCACDtqC,KAAvBuqC,iBADwB,IACxB,4BACErmC,EAD2C,SAC3CA,EAD2C0uB,GADrB,6DAM1B4X,SAAAA,EAAAA,GAA8B,WAC5BxqC,KAAA,+BAAmC,WAAM,mCAChB,EAAvByqC,oBADuC,IACvC,4BACEvmC,EAD8C,SAC9CA,EAD8CwmC,GADT,uEAO3CC,SAAAA,GAA6B,WAC3B3qC,KAAA,+BAAmC,WAAM,mCAChB,EAAvB4qC,2BADuC,IACvC,4BACE1mC,EADqD,SAAA0uB,GADhB,uEAO3CiY,WAAwB,WACtB7qC,KAAA,+BAAmC,WAAM,mCAChB,EAAvB8qC,2BADuC,IACvC,4BACE5mC,EADqD,WADhB,gEAO3C6mC,WACE/qC,KAAA,iBADe0J,0CAIjBshC,SAAAA,EAAAA,IACEhf,EAAAA,MAAAA,aAD2B,+EAI7Bif,kBAxEFjE,2DA8EAkE,iBAAAA,WACErkC,SAAAA,EAAAA,EAAAA,GAAgC,wBAC9B7G,KAAA,SAD8BmrC,EAE9BnrC,KAAA,WAF8BspC,sDAQhC,WACE,OAAO5F,EAAAA,MAAAA,QAAAA,KAAAA,oBAAkC,IADnB0H,oBAAAA,yCAOxB,WACE,OAAOprC,KAAKqrC,SADCC,kCAOf,WACE,OAAOtrC,KAAKqrC,SADIE,mCASlBC,SAAAA,GACE,OAAOxrC,KAAKgqC,WAAWwB,QADLC,+BAWpBC,SAAAA,GACE,OAAO1rC,KAAKgqC,WAAW0B,aADP9+B,kCAUlB++B,WACE,OAAO3rC,KAAKgqC,WADI2B,gDASlBC,SAAAA,GACE,OAAO5rC,KAAKgqC,WAAW4B,eADNjkC,gCASnBkkC,WACE,OAAO7rC,KAAKgqC,WADE6B,6CAQhBC,WACE,OAAO9rC,KAAKgqC,WADE8B,2CAQhBC,WACE,OAAO/rC,KAAKgqC,WADA+B,kDASdC,WACE,OAAOhsC,KAAKgqC,WADSgC,oDASvBC,WACE,OAAOjsC,KAAKgqC,WADEiC,8CAQhBC,WACE,OAAOlsC,KAAKgqC,WADGkC,8CASjBC,WACE,OAAOnsC,KAAKgqC,WADEmC,0CAuBhBC,WACE,OAAOpsC,KAAKgqC,WADDoC,qDASbC,WACE,OAAOrsC,KAAKgqC,WADaqC,yDAS3BC,WACE,OAAOtsC,KAAKgqC,WADGsC,4CAWjBC,WACE,OAAOvsC,KAAKgqC,WADAuC,qCAQdC,WACE,OAAOxsC,KAAKgqC,WADJwC,yCASVC,WACE,OAAOzsC,KAAKgqC,WAAW0C,uBADP3C,gCASlB4C,WACE,OAAO3sC,KAAKgqC,WADH2C,kCAaXC,WACE,OAAO5sC,KAAKgqC,WADJ6C,sCAOV1gB,WACE,OAAOnsB,KAAK8sC,YADJ3gB,qCASV,WACE,OAAOnsB,KAAKgqC,WADM+C,uCAOpB,WACE,OAAO/sC,KAAKgqC,WADI8C,wCAUlBE,SAAAA,GACE,OAAOhtC,KAAKgqC,WAAWgD,aADOC,SAtPlC/B,iDA0WAgC,aAAAA,WACErmC,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAA2E,IAAhB6gC,EAAgB,gFACzE1nC,KAAA,WADyEmtC,EAEzEntC,KAAA,UAFyEotC,EAGzEptC,KAAA,eAHyEqsB,EAIzErsB,KAAA,WAJyEspC,EAKzEtpC,KAAA,OAAc0nC,EAAS,IAATA,eAAAA,UAL2D,KAMzE1nC,KAAA,QANyE0nC,EAOzE1nC,KAAA,WAAkBspC,EAPuD+D,WAQzErtC,KAAA,KAAY,IAR6DstC,WAUzEttC,KAAA,oBAVyE,EAWzEA,KAAA,gBAXyE,EAYzEA,KAAA,cAAqB,IAZoDwhB,IAazExhB,KAAA,WAbyE,+CAmB3E,WACE,OAAOA,KAAKutC,WADG,sBAOjB,WACE,OAAOvtC,KAAKwtC,UADDrsC,wBAQb,WACE,OAAOnB,KAAKwtC,UADJ5gC,0BAOV,WACE,OAAO5M,KAAKwtC,UADCC,2BAQf,WACE,OAAOztC,KAAKwtC,UADHE,gCASXC,WAMQ,6DANRA,GAAYn5B,EAMJ,EANIA,MAMJ,IAJNia,SAAAA,OAIM,MAJKzuB,KAFDmB,OAMJ,MAHNutB,QAAAA,OAGM,MANI,EAMJ,MAFNC,QAAAA,OAEM,MANI,EAMJ,MADNC,SAAAA,OACM,SACN,OAAO,IAAI,eAAJ,aAAiB,CACtBJ,QAASxuB,KADa0tC,KAAAl5B,MAAAA,EAAAia,SAAAA,EAAAC,QAAAA,EAAAC,QAAAA,EAAAC,SAAAA,kCAe1Bgf,WAAuC,6DAAvCA,GAAuC,IAAtBC,OAAAA,OAAsB,MAAxB,KAAwB,EAQrC,OAPK7tC,KAAD8tC,oBAA4B9tC,KAAK+tC,oBAArCF,IACE7tC,KAAA,mBAA0BA,KAAKgqC,WAAW4D,eACxC5tC,KADwButC,WADuCM,GAKjE7tC,KAAA,kBALiE6tC,GAO5D7tC,KAR8B8tC,yCAkBvCphC,SAAAA,GAYG,WAZIshC,EAYJ,EAZIA,cAAAC,EAYJ,EAZIA,SAYJ,IATDJ,OAAAA,OASC,MAZI,UAYJ,MARDK,YAAAA,OAQC,aAPDC,uBAAAA,OAOC,aAND5e,UAAAA,OAMC,MAZI,KAYJ,MALD6e,WAAAA,OAKC,MAZI,KAYJ,MAJDC,cAAAA,OAIC,MAZI,KAYJ,MAHDC,WAAAA,OAGC,MAZI,KAYJ,MAFDrB,kBAAAA,OAEC,MAZI,KAYJ,MADDsB,6BAAAA,OACC,MAZH7hC,KAYG,EACG1M,KAAJwuC,QACExuC,KAAA,YADe,WAIjB,IAAMyuC,EAA6B,UAAXZ,EAAqB,QAL5C,UAQD7tC,KAAA,gBARC,EAUDuuC,IACEA,EAA+BvuC,KAAKgqC,WADHqC,4BAInC,IAAIqC,EAAc1uC,KAAK2uC,cAAc94B,IAdpC44B,GAeDC,IACEA,EAAcprC,OAAOmB,OADL,MAEhBzE,KAAA,oBAFgB0uC,IAMdA,EAAJE,4BACEnzB,aAAaizB,EAD4BE,2BAEzCF,EAAAA,0BAFyC,MAK3C,IAAMG,EACJR,GACA,IAAI9H,qBAAqB,CAAEla,cAAersB,KA5B3C8uC,iBA6BKC,EAAe,IAAI,OAAJ,aAAiB,CACpCC,OA9BDd,IAmCIQ,EAALO,yBACEP,EAAAA,wBADuC,mCAEvCA,EAAAA,aAA2B,CACzBQ,QADyB,GAEzBC,UAFyB,GAGzBC,WAHyB,GAMvBpvC,KAAJwuC,QACExuC,KAAA,YADe,gBAGjBA,KAAA,kBAAuB,CACrBmtC,UAAWntC,KADUutC,WAErBM,OAFqBY,EAGrBN,wBAHqB,IAGGA,EACxBlB,kBACGA,GAAqBA,EAAtBoC,UALmB,QASzB,IAAMC,EAAWxlC,SAAAA,GACf,IAAMzE,EAAIqpC,EAAYa,YAAY91B,QADV+1B,GAEpBnqC,GAAJ,GACEqpC,EAAAA,YAAAA,OAAAA,EADU,IAMR,sBAAJ,UAA+BD,KAC7B,kBAD0D,GAG5D,EAXwBgB,cAaxB,GACED,EAAAA,WAAAA,OADS1lC,GAGT,qBAAwB,CAAA4kC,YAAAA,EAEtBzhB,OAFsBnjB,KAKxB0lC,EAAAA,WADK9lC,UAGH,EAAJ8kC,SACE,iBADe,aAEf,iBAFe,aAMbgB,EAAqB,IAAIE,mBAAmB,CAChDxlC,SADgDolC,EAGhDnlB,OAAQ,CAAA6jB,cAAAA,EAAAC,SAAAA,EAAA1e,UAAAA,EAAA6e,WAAAA,EAAAE,WAAAA,GAORqB,KAAM3vC,KAV0C2vC,KAWhDtC,WAAYrtC,KAXoCqtC,WAYhDuC,aAAclB,EAZkCkB,aAahDzC,UAAWntC,KAbqCutC,WAchDc,cAdgDQ,EAAAE,aAAAA,EAgBhDc,yBAhBgD,UAgBtBpB,EAC1B/G,OAAQ1nC,KAjBwC8vC,UAoB7CpB,EAALa,cACEb,EAAAA,YAD4B,IAG9BA,EAAAA,YAAAA,KA3GCc,GA4GD,IAAMO,EAAaP,EA5GlB3I,KAkID,OApBAp9B,QAAAA,IAAY,CACVilC,EAAYO,uBADFlF,QAAAA,IAAZtgC,MAIQ,YAA2C,0BAA1CumC,EAA0C,KAA3CC,EAA2C,KAC3C,EAAJC,eACEZ,KAGE,EAAJd,QACE,cADe,aAGjBgB,EAAAA,mBAAsC,CAAAQ,aAAAA,EAAAC,sBAAAA,IAItCT,EAZ+CW,0BAJnD1mC,MA9GC6lC,GAAAS,iCAyIHK,WAYE,IAZgBC,EAYV5B,EAZU,SAaZC,EAAc1uC,KAAK2uC,cAAc94B,IAbrB44B,GAwChB,OA1BAC,IACEA,EAAcprC,OAAOmB,OADL,MAEhBzE,KAAA,oBAFgB0uC,IAMbA,EAAL4B,wBACED,EAAa/sC,OAAOmB,OADiB,OAErC4rC,oBArBF,WACE,GAAI3B,EAAYkB,aAAhBR,UAAwC,CACtCV,EAAAA,qBAAAA,QAAyCA,EADHkB,cAGtC,IAAMvqC,EAAIqpC,EAAYa,YAAY91B,QAHI42B,GAIlChrC,GAAJ,GACEqpC,EAAAA,YAAAA,OAAAA,EADU,KAiBdA,EAAAA,sBAHqC,mCAIrCA,EAAAA,YAJqC,GAKrCA,EAAAA,YAAAA,KALqC2B,GAMrC3B,EAAAA,aAA2B,CACzBQ,QADyB,GAEzBC,UAFyB,GAGzBC,WAHyB,GAMvBpvC,KAAJwuC,QACExuC,KAAA,YADe,gBAGjBA,KAAA,kBAAuB,CACrBmtC,UAAWntC,KADUutC,WAErBM,OAFqBY,KAKlBC,EAAY4B,qBAxCHvG,yCA+ClBwG,WAGQ,6DAHRA,GAGQ,IAFNC,oBAAAA,OAEM,aADNC,wBAAAA,OACM,SACAC,EADA,IAGN,OAAO1wC,KAAKgqC,WAAWZ,eAAeuH,eAAe,iBAEnD,CACExD,UAAWntC,KADbutC,WAEEiD,qBAFF,IAEuBA,EACrBI,kBAHF,IAGoBH,GAEpB,CACEI,cADFH,EAEE9oB,KAFF,SAEEA,GACE,OAAOkpB,EAAYC,MADHxrC,wCAYxByrC,WAA4B,IAAb7mB,EAAa,uDAA5B6mB,GACQC,EAAiBjxC,KAAKuwC,kBADFpmB,GAG1B,OAAO,IAAI1gB,SAAQ,SAAUC,EAASC,GAapC,IAAMunC,EAASD,EAb6BE,YActCL,EAAc,CAClBC,MADkB,GAElB9vB,OAAQ3d,OAAOmB,OAFG,QAbpB,aACEysC,EAAAA,OAAAA,MAAmB,SAAU,GAAiB,MAAjBthC,EAAiB,EAAjBA,MAAiB,EAA3BtH,KAEfoB,EADQonC,IAIVxtC,OAAAA,OAAcwtC,EAAdxtC,OAAkCsM,EALUqR,SAM5C6vB,EAAAA,EAAAA,OAAAA,KAAAA,MAAAA,EAAAA,mBAA0BlhC,EANkBmhC,QAO5CK,OARYznC,GAiBhBynC,8BAQJC,WACErxC,KAAA,WADS,EAETA,KAAA,qBAA0BA,KAA1ButC,YAFS,KAIT,IAJS,EAIH+D,EAJG,gCAK2BtxC,KAApC2uC,eALS,IAKT,2BAAwD,iCAA7Cd,EAA6C,KAAxDa,EAAwD,KAOtD,GANA1uC,KAAA,mBAAwB,CAAA0uC,YAAAA,EAEtBzhB,OAAQ,IAAIrkB,MAFU,uBAGtB2oC,OAHsB,IAMxB,WAAI1D,EAAJ,CAPsD,mCAWrBa,EAAjCa,aAXsD,IAWtD,2BAA0D,KAA1DC,EAA0D,QACxD8B,EAAAA,KAAY9B,EAD4CgC,WAExDhC,EAFwDv0B,UAXJ,iCAL/C,8BAwBT,OAHAjb,KAAA,KArBSyxC,QAsBTzxC,KAAA,mBAtBS,KAuBTA,KAAA,gBAvBS,EAwBFyJ,QAAQy/B,IAxBNoI,0BAkCX1E,WAA4B,IAApB8E,EAAoB,wDAE1B,OADA1xC,KAAA,gBAD0B,EAEnBA,KAAKyvC,YAFciC,8BAS5BjC,WAAgC,IAApBiC,EAAoB,wDAC9B,IAAK1xC,KAALkwC,eACE,OADwB,EADI,mCAIclwC,KAAK2uC,cAAjDgD,UAJ8B,IAI9B,2BAAyE,eAA9DpC,EAA8D,EAA9DA,YAAXK,EAAyE,EAAzEA,aACE,GAA2B,IAAvBL,EAAYhqC,SAAiBqqC,EAAjCR,UACE,OADuD,GAL7B,8BAiB9B,OAPApvC,KAAA,cAV8ByxC,QAW9BzxC,KAAA,KAX8ByxC,QAY9BzxC,KAAA,mBAZ8B,KAa1B0xC,GAAc1xC,KAAlBwuC,SACExuC,KAAA,OAAc,IADeymC,eAAAA,WAG/BzmC,KAAA,gBAhB8B,qCAuBhC4xC,SAAAA,EAAAA,GACE,IAAMlD,EAAc1uC,KAAK2uC,cAAc94B,IADFg4B,GAErCa,IAGI1uC,KAAJwuC,QACExuC,KAAA,eADe,gBAKb0uC,EAAJO,wBACEP,EAAAA,uBAAAA,QADsCsB,oCAQ1C6B,SAAAA,EAAAA,GAEE,IAAK,IAAIxsC,EAAJ,EAAWqgC,EAAKoM,EAArBvsC,OAA+CF,EAA/CqgC,EAAuDrgC,IACrDqpC,EAAAA,aAAAA,QAAAA,KAAsCoD,EAAkB5C,QADE7pC,IAE1DqpC,EAAAA,aAAAA,UAAAA,KAAwCoD,EAAkB3C,UAFA9pC,IAI5DqpC,EAAAA,aAAAA,UAAqCoD,EANU1C,UAS/C,IAAK,IAAI/pC,EAAT,EAAgBA,EAAIqpC,EAAYa,YAAhChqC,OAAoDF,IAClDqpC,EAAAA,YAAAA,GADuDyB,sBAIrD2B,EAAJ1C,WACEpvC,KAD+ByvC,+CAQnCsC,SAAAA,GAAwB,YACtBrnB,EAAAA,MAAAA,QACE1kB,EADF0kB,OADsB,+DAMtB,IAIMwmB,EAJiBlxC,KAAKgqC,WAAWZ,eAAeuH,eAAe,kBAN/C3qC,GAAAmrC,YAYhBzC,EAAc1uC,KAAK2uC,cAAc94B,IAAI7P,EAZrB6nC,QAatBa,EAAAA,aAbsBwC,EAeT,SAAPE,IACJF,EAAAA,OAAAA,MACE,YAAqB,IAApBthC,EAAoB,EAApBA,MAAoB,EAArBtH,KAEIomC,EAAAA,aADQ,KAIN,aAAJjG,YAGA,qBARmBiG,GASnB0C,QAEFnkB,SAAAA,GAGE,GAFAyhB,EAAAA,aADQ,MAGJ,aAAJjG,UAAA,CAGA,GAAIiG,EAAJkB,aAA8B,CAE5BlB,EAAAA,aAAAA,WAF4B,EAI5B,IAAK,IAAIrpC,EAAT,EAAgBA,EAAIqpC,EAAYa,YAAhChqC,OAAoDF,IAClDqpC,EAAAA,YAAAA,GADuDyB,sBAGzD,EAP4BV,cAU9B,GAAIf,EAAJO,uBACEP,EAAAA,uBAAAA,OADsCzhB,OAEjC,KAAIyhB,EAAJ4B,qBAGL,MADKrjB,EADLyhB,EAAAA,qBAAAA,OAD2CzhB,QAQnDmkB,qCAMFY,SAAAA,GAA2D,WAAxCtD,EAAwC,EAAxCA,YAAAzhB,EAAwC,EAAxCA,OAAwC,IAAjBskB,MAAAA,OAAiB,SAOzD,IANA7mB,EAAAA,MAAAA,QACEuC,aAAkBrkB,OACG,kBAAXqkB,GAFZvC,OAEmCuC,EAHsB,gEAOpDyhB,EAALuD,aAAA,CAGA,IAAAV,EAAY,CAGV,OAAI7C,EAAYa,YAAYhqC,OAAc,OAM1C,GAAI0nB,aAAJwZ,eAAAA,4BAAmD,YACjDiI,EAAAA,0BAAwCpjC,YAAW,WACjD,qBAAwB,CAAAojC,YAAAA,EAAAzhB,OAAAA,EAAuBskB,OAAvB,IACxB7C,EAAAA,0BAFuD,OADRpI,8BAarD,GALAoI,EAAAA,aAAAA,OACE,IAAI,MAAJ,eAAmBzhB,GAAUA,EA5B0BgW,UA8BzDyL,EAAAA,aA9ByD,MAgCrD1uC,KAAKgqC,WAATvB,UAAA,CAhCyD,mCAqClBzoC,KAAvC2uC,eArCyD,IAqCzD,2BAA2D,iCAAhDd,EAAgD,KACzD,GADyD,OACzDa,EAAoC,CAClC1uC,KAAA,qBADkC6tC,GAAA,QAtCmB,8BA4CzD7tC,KA5CyD4sC,+BAkD3D,WACE,OAAO5sC,KADGwuC,aAtjBdtB,yCA2jBAgF,aAAAA,WACErrC,SAAAA,IAA0B,IAAd6D,IAAc,iFACxB1K,KAAA,WADwB,GAExBA,KAAA,OAFwB0K,EAGxB1K,KAAA,UAAiByJ,QAAQC,aAHDtD,mDAM1B+rC,SAAAA,EAAAA,GAA4B,WAqD1B,GAAKnyC,KAALoyC,OAAA,CAOA,IAAMC,EAAS,IA5DWC,QA6DpBpnC,EAAI,CAAEiV,KA5DZ,cAGE,GAAqB,kBAAVvQ,GAAX,OAAiCA,EAC/B,OAD+CA,EAGjD,GAAIyiC,EAAOhvC,IAAXuM,GAEE,OAAOyiC,EAAOx8B,IAFOjG,GAIvB,MAVyBmJ,EAWzB,IAAKoa,EAASvjB,EAAVujB,UAA2B4T,EAAAA,MAAAA,eAA/B5T,GAaE,OATEpa,EAFmBw5B,GAAaA,EAAUr/B,SAFQigB,GAIzC,IAAIvjB,EAAJ/I,YAAAA,EAEP+I,EAFO4iC,WAGP5iC,EAJcyiB,YAOP,IAAIziB,EAAJ/I,YADJ+I,GAGPyiC,EAAAA,IAAAA,EAZoDt5B,GAAAA,EAmBtD,aAJAA,EAAS5V,MAAMC,QAAQwM,GAAS,GA1BP,GA2BzByiC,EAAAA,IAAAA,EA3ByBt5B,GA8BzB,EAAuB,CAGrB,IAFA,aACEzY,EAFmBsP,IAGZ6iC,EAAOnvC,OAAOovC,yBAAyBpyC,EAAhD+E,KACE/E,EAAIgD,OAAO6W,eAD2C7Z,GAGxD,wBAAWmyC,EAAP7iC,MAGJ,uBAAW6iC,EAAP7iC,MAQJmJ,EAAAA,GAAY45B,EAAWF,EAjBF7iC,YAUnB,GAAIA,EAAMrM,gBAAkBqM,EAAMrM,eAAlC8B,GACE,MAAM,IAAIuD,MAAM,4CAAV,OACwCgH,EAA5CvK,KAOR,OAjDyB0T,EA4DT45B,CA7DQhlC,IA8D1B3N,KAAA,gBAAoB,WAClB,sBAAwBkE,SAAAA,GACtBA,EAAAA,KAAAA,EADkCgH,cATpClL,KAAA,oBAAwBkE,SAAAA,GACtBA,EAAAA,KAAAA,EAAoB,CAAEic,KADYxS,uCAexC8M,SAAAA,EAAAA,GACEza,KAAA,gBAD+BkE,sCAIjC0W,SAAAA,EAAAA,GACE,IAAMvV,EAAIrF,KAAK4yC,WAAWn5B,QADQvV,GAElClE,KAAA,oBAFkC,4BAKpC6yC,WACE7yC,KAAA,kBADU,QArFdkyC,qCAmGA,IAAM5J,UAAa,SAASwK,mBAC1B,IAAMC,eAAiB,IADsBT,QAEzCU,kBAFyC,EAAAC,kBAIzCC,iBAJyC,EAAAC,qBAS3C,GAAInpB,SAAAA,SAEFgpB,kBAF6D,EAO3DC,kBAP2D,uBASxD,GAAwB,kBAAb5pC,UAAyB,kBAApCA,SAAiE,CACtE,IAAM+pC,cACJ/pC,SAASgqC,eAAiBhqC,SAASgqC,cAFiC/oC,IAGtE,gBACE2oC,kBAAoBG,cAAcngB,QAAQ,4BADzB,gBASvB,yBACE,GAAImV,gBAAAA,oBAAJkL,UACE,OAAOlL,gBAAAA,oBAD0BkL,UAGnC,wBAAWL,kBAIT,OAHAzM,SAAAA,WACE+M,EAAAA,eAAAA,YADa,iDAD6BN,kBAM9C,MAAM,IAAIrqC,MAVY,iDAaxB,6CACE,IAD2C4qC,EAE3C,IACEA,EACElnB,WAAWmnB,aAAennB,WAAWmnB,YAFrCC,qBAGF,MAAO5iB,IAGT,OAAO0iB,GARoC,KAY7C,iCACE,wBACE,OAAOL,qBADiBpJ,QAG1BoJ,sBAJ+B,mCAM/B,IAAMQ,OAAAA,WAAAA,IAAAA,OAAAA,kBAAAA,oBAAAA,MAAS,8KACPH,yBAA2BI,qCAEjCJ,yBAHa,yDAGiBA,0BAHjB,WAiBXhN,SAAAA,SAjBW,+BAmCLW,OAAS0M,KAAK,UAALA,CAAgBC,iBAnCpB,0BAoCJ3M,OAfPuM,sBArBW,gCAsCPK,EAAAA,eAAAA,YAAWD,iBAtCJ,wCAuCN/pC,OAAO0pC,YAvCiBC,sBAAlB,0DAATC,OAAAA,WAAAA,OAAAA,OAAAA,MAAAA,KAAAA,YAAAA,GA2CN,OAFAA,SAAAA,KAAcR,qBAAdQ,QAA4CR,qBA/CbxpC,QAiDxBwpC,qBAjDwBpJ,QAoDjC,6BAIE,IAAMiK,EAAU,kBAAoB9rC,EAJP,MAK7B,OAAO2oB,IAAIuU,gBAAgB,IAAIK,KAAK,CALPuO,KA3Gc,IA0H7C1L,UA1H6C,WA8H3CzhC,SAAAA,IAIQ,6DAJRA,GAIQ,IAHNhC,KAAAA,OAGM,MAJI,KAIJ,MAFNsjC,KAAAA,OAEM,MAJI,KAIJ,MADN1U,UAAAA,OACM,OAJI,6BAIJ,EACN,GADM,wBACF0U,GAAQ4K,eAAe1vC,IAA3B8kC,GACE,MAAM,IAAIv/B,MAD0B,+CActC,GAVA5I,KAAA,KALM6E,EAMN7E,KAAA,WANM,EAONA,KAAA,sBAPM,EAQNA,KAAA,UARMyzB,EAUNzzB,KAAA,kBAVM,mCAWNA,KAAA,MAXM,KAYNA,KAAA,WAZM,KAaNA,KAAA,gBAbM,KAeN,EAAU,OACR+yC,eAAAA,IAAAA,EADQ,WAER/yC,KAAA,oBAFQmoC,GAKVnoC,KApBMi0C,cAlImC,0CAyJ3C,WACE,OAAOj0C,KAAKk0C,iBADAnK,UAzJ6B,gBA6J3C,WACE,OAAO/pC,KADEm0C,QA7JgC,0BAiK3C,WACE,OAAOn0C,KADYo0C,kBAjKsB,iCAqK3CC,SAAAA,GACEr0C,KAAA,MADwBmoC,EAExBnoC,KAAA,gBAAuB,IAAI,iBAAJ,+BAFCmoC,GAGxBnoC,KAAA,4BAAiC,eAIjCA,KAAA,iBAPwB0J,YArKiB,yBA+K3CuqC,WAAc,WAMZ,GACoB,qBAAXK,SAAPtB,mBAECY,oCACD,CACA,IAAIN,EAAYQ,gBAEhB,KAMKS,EAAAA,MAAAA,cAAaxqC,OAAOuW,SAApBi0B,KAHHjB,KAKEA,EAAYkB,iBACV,IAAI3jB,IAAIyiB,EAAWvpC,OAAnBuW,UAFF+mB,OAQF,IAAMF,EAAS,IAAImN,OAfjBhB,GAgBIlK,EAAiB,IAAI,iBAAJ,+BAhBrBjC,GAiBIsN,EAAiB,WACrBtN,EAAAA,oBAAAA,QAD2BuN,GAE3BtL,EAF2Bjd,UAG3Bgb,EAH2B0L,YAIvB,EAAJpK,UACE,0BAA6B,IAAI7/B,MADf,yBAKlB,EAHK+rC,oBAOHD,EAAgB,WACf,EAALE,YAGEH,KAGJtN,EAAAA,iBAAAA,QArCEuN,GAuCFtL,EAAAA,GAAAA,QAA0BjpB,SAAAA,GACxBgnB,EAAAA,oBAAAA,QADgCuN,GAE5B,EAAJjM,UACEgM,IAGF,GAEE,kBAFQrL,EAGR,QAHQjC,EAIR,aAJQA,EAKHhnB,EAAL00B,mBACE,wBAD0B,GAG5B,mBARQnrC,UAUR0/B,EAAAA,KAAAA,YAAiC,CAC/B3V,UAAW,EAXLA,cAcR,EADKkhB,mBAELvL,EAFKjd,UAGLgb,EAHK0L,gBAOTzJ,EAAAA,GAAAA,SAA2BjpB,SAAAA,GAEzB,GADAgnB,EAAAA,oBAAAA,QADiCuN,GAE7B,EAAJjM,UACEgM,SAGF,IACEK,IACA,MAAO5pC,GAEP,EAFUypC,uBAMd,IAAMG,EAAW,WACf,IAAMC,EAAU,IAAItnB,WAAW,CAC7B,2BAFmB,IAMrB,IACE2b,EAAAA,KAAAA,OAAAA,EAAqC,CAAC2L,EADpC5hB,SAEF,MAAOrC,IACPjlB,EAAAA,MAAAA,MADW,qCAEXkpC,EAAAA,GAFW,EAGX3L,EAAAA,KAAAA,OAHW2L,KAvFb,YAkGFD,IAEA,MAAO5pC,IACP8pC,EAAAA,MAAAA,MADU,kCAMdh1C,KAvHY20C,qBA/K6B,8BAyS3CA,WAAmB,WACjB3B,oBACEnnC,EAAAA,MAAAA,MADqB,2BAErBmnC,kBAFqB,GAKvBiC,wBAAAA,MACQvB,SAAAA,GACJ,GAAI,EAAJjL,UACE,0BAA6B,IAAI7/B,MADf,6BAApB,CAIA,IAAMu/B,EAAO,IALe+J,aAM5B,QAN4B/J,EAS5B,IAAMxgC,EAAK,OAASurC,mBAIdgC,EAAgB,IAAI,iBAAJ,eAAmBvtC,EAAnB,YAbMwgC,GAc5BuL,EAAAA,MAAAA,EAd4BvL,GAgB5B,IAAMiB,EAAiB,IAAI,iBAAJ,iBAAuBzhC,EAAvB,UAhBKwgC,GAiB5B,kBAjB4BiB,EAkB5B,mBAlB4B1/B,UAoB5B0/B,EAAAA,KAAAA,YAAiC,CAC/B3V,UAAW,EArBeA,gBADhCwhB,OAyBShoB,SAAAA,GACL,0BACE,IAAIrkB,MAAM,mCAAV,OAA6CqkB,EAAnCgW,QAAV,aA1UmC,qBAkV3C9W,WACEnsB,KAAA,WADQ,EAEJA,KAAJ40C,aAEE50C,KAAA,WAFmB6yC,YAGnB7yC,KAAA,WAHmB,MAKrB+yC,eAAAA,OAAsB/yC,KAPdm0C,OAQRn0C,KAAA,MARQ,KASJA,KAAJo0C,kBACEp0C,KAAA,gBADwBmsB,UAExBnsB,KAAA,gBAFwB,SA3Ve,uBAqW3C,YACE,IAAKmqB,IAAWA,EAAhBge,KACE,MAAM,IAAIv/B,MADiB,kDAG7B,OAAImqC,eAAe1vC,IAAI8mB,EAAvBge,MACS4K,eAAel9B,IAAIsU,EADSge,MAG9B,IAAIG,EAPWne,KArWmB,0BA+W3C,WACE,OAAO2pB,oBAhXkC,KAmX7C,OAnX6CxL,UAA5B,mCA0XnBiB,gBAAAA,WACE1iC,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAgE,wBAC9D7G,KAAA,eAD8DopC,EAE9DppC,KAAA,YAF8D8sC,EAG9D9sC,KAAA,WAAkB,IAH4CstC,WAI9DttC,KAAA,WAAkB,IAAI,aAAJ,WAAe,CAC/BwoC,MAAOsE,EADwBtE,MAE/B2M,qBAAsBn1C,KAAKo1C,sBAAsB3qC,KAFlB,MAG/B4hB,cAAelC,EAHgBkC,gBAKjCrsB,KAAA,QAT8DmqB,EAU9DnqB,KAAA,kBAAyB,IAAImqB,EAAJod,kBAA6B,CACpD7a,QAASvC,EAD2CkrB,QAEpD1oB,aAAcxC,EAFsCmrB,aAKtDt1C,KAAA,WAf8D,EAgB9DA,KAAA,kBAhB8D,KAiB9DA,KAAA,oBAjB8D,KAmB9DA,KAAA,eAnB8D6oC,EAoB9D7oC,KAAA,YApB8D,KAqB9DA,KAAA,cArB8D,KAuB9DA,KAAA,UAvB8D,GAwB9DA,KAAA,aAxB8D,GAyB9DA,KAAA,wBAzB8D,mCA2B9DA,KA3B8Du1C,kEA8BhEppB,WAAU,WACR,GAAInsB,KAAJw1C,kBACE,OAAOx1C,KAAKw1C,kBADczL,QAI5B/pC,KAAA,WALQ,EAMRA,KAAA,mBANQ,mCAQJA,KAAJy1C,qBACEz1C,KAAA,2BACE,IAAI4I,MAFsB,oDAM9B,IAAM0oC,EAdE,GAiBRtxC,KAAA,mBAAuB,SAAU01C,GAC/B,GACEpE,EAAAA,KAAYoE,EADJrE,eAIZrxC,KAAA,iBAtBQ,EAuBRA,KAAA,oBAvBQ,EAyBR,IAAM21C,EAAa31C,KAAKopC,eAAewM,gBAAgB,YAzB/C,MAyCR,OAfAtE,EAAAA,KA1BQqE,GA2BRlsC,QAAAA,IAAAA,GAAAA,MAAyB,WACvB,aAD6BgoC,QAEzB,EAAJoE,gBACE,mCACE,IAAI,MAAJ,eAFqB,2BAMrB,EAAJzM,iBACE,iBADuBjd,UAEvB,iBAFuB,MAIzB,oBAZ6BziB,YAa5B1J,KAAKw1C,kBAxCA7rC,QAyCD3J,KAAKw1C,kBAzCJzL,2CA4CVwL,WAAsB,WACdnM,EADc,KACdA,eAAA0D,EADc,KACdA,YAEN1D,EAAAA,GAAAA,aAA+B,eAC7B1e,EAAAA,MAAAA,QACE,EADFA,eAD6C,mDAK7C,cAAmB,iBAL0BorB,gBAM7C,yBAA8B3xC,SAAAA,GAC5B,gBAAqB,CACnB4xC,OAAQ5xC,EADW4xC,OAEnBrL,MAAOvmC,EAFYumC,QAKvBsL,EAAAA,OAAc,WACZ,2BAEQ,SAAU,GAAiB,IAAjBpmC,EAAiB,EAAjBA,MAAiB,EAA3BtH,KAEF0tC,EADQC,UAIVvrB,EAAAA,MAAAA,SACEqc,EAAAA,MAAAA,eADFrc,GAL+B,wCAW/BsrB,EAAAA,QAAa,IAAIvoB,WAAjBuoB,GAAAA,EAAuC,CAXRpmC,QAFnC,OAeSqd,SAAAA,GACL+oB,EAAAA,MADe/oB,OAKrB+oB,EAAAA,SAAgB/oB,SAAAA,GACd,qBADwBA,GAGxB+oB,EAAAA,MAAAA,OAAiBE,SAAAA,GACf,IAAI,EAAJzN,UAGA,MAJ8ByN,SASpC9M,EAAAA,GAAAA,sBAAwCjpB,SAAAA,GACtC,IAAMg2B,GADwC,mCAExCC,EAAa,EAF2BC,YA2B9C,OAxBAD,EAAAA,aAAAA,MAA6B,WAGtBA,EAADE,sBAAqCF,EAAzCG,mBACM,iBAAsBzJ,EAA1B0J,YACE1J,EAAAA,WAAuB,EADyB2J,eAGlDL,EAAAA,WAAwBjyC,SAAAA,GAClB2oC,EAAJ0J,YACE1J,EAAAA,WAAuB,CACrBiJ,OAAQ5xC,EADa4xC,OAErBrL,MAAOvmC,EAFcumC,UAQ7ByL,EAAAA,QAA0B,CACxBG,qBAAsBF,EADEE,qBAExBC,iBAAkBH,EAFMG,iBAGxBG,cAAeN,EAHSM,kBAKzBP,EAzB2CxsC,QA2BvCwsC,EA3BuCpM,WA8BhDX,EAAAA,GAAAA,kBAAoC,eAClC1e,EAAAA,MAAAA,QACE,EADFA,eADkD,wDAKlD,IAAMisB,EAAc,gCAClBx2B,EADkBy2B,MAElBz2B,EAPgDsL,KAoBlDkrB,GAKAX,EAAAA,OAAc,WACZW,EAAAA,OAAAA,MAEQ,SAAU,GAAiB,IAAjB/mC,EAAiB,EAAjBA,MAAiB,EAA3BtH,KAEF0tC,EADQC,UAIVvrB,EAAAA,MAAAA,SACEqc,EAAAA,MAAAA,eADFrc,GAL+B,6CAS/BsrB,EAAAA,QAAa,IAAIvoB,WAAjBuoB,GAAAA,EAAuC,CATRpmC,QAFnC+mC,OAaS1pB,SAAAA,GACL+oB,EAAAA,MADe/oB,OAKrB+oB,EAAAA,SAAgB/oB,SAAAA,GACd0pB,EAAAA,OADwB1pB,GAGxB+oB,EAAAA,MAAAA,OAAiBE,SAAAA,GACf,IAAI,EAAJzN,UAGA,MAJ8ByN,OA1BhCF,EADgBC,WAoCpB7M,EAAAA,GAAAA,UAA4B,YAAiB,IAAjB+B,EAAiB,EAAjBA,QAC1B,YAAiBA,EAD0BG,SAE3CwB,EAAAA,YAAAA,QAAgC,IAAI5B,iBAAiBC,EAFV,OAK7C/B,EAAAA,GAAAA,gBAAkC,SAAUtY,GAC1C,IAD8C7D,EAE9C,OAAQ6D,EAARjsB,MACE,wBACEooB,EAAS,IAAI,MAAJ,kBAAsB6D,EAAtBmS,QAAkCnS,EAD7C4D,MADF,MAIE,0BACEzH,EAAS,IAAI,MAAJ,oBAAwB6D,EADnCmS,SAJF,MAOE,0BACEhW,EAAS,IAAI,MAAJ,oBAAwB6D,EADnCmS,SAPF,MAUE,kCACEhW,EAAS,IAAI,MAAJ,4BAAgC6D,EAAhCmS,QAA4CnS,EADvD5C,QAVF,MAaE,4BACEjB,EAAS,IAAI,MAAJ,sBAA0B6D,EAA1BmS,QAAsCnS,EADjDjF,SAIIoB,aAANrkB,QAQIiD,EAAAA,MAAAA,MAR4B,0CAWhCihC,EAAAA,YAAAA,OA9B8C7f,MAiChDmc,EAAAA,GAAAA,mBAAqCyN,SAAAA,GAGnC,GAFA,uBADgD,mCAG5C/J,EAAJgK,WAME,IACEhK,EAAAA,YANqBnD,SAAAA,GACrB,8BAAiC,CADAA,SAAAA,MAMMkN,EADrCniB,MAEF,MAAO5D,GACP,6BADWA,QAIb,6BACE,IAAI,MAAJ,kBAAsB+lB,EAAtB5T,QAAyC4T,EAFtCniB,OAKP,OAAO,sBAnByCqV,WAsBlDX,EAAAA,GAAAA,cAAgCjpB,SAAAA,GAG1B2sB,EAAJ0J,YACE1J,EAAAA,WAAuB,CACrBiJ,OAAQ51B,EADa5a,OAErBmlC,MAAOvqB,EAFc5a,SAKzB,iCATsC4a,MAYxCipB,EAAAA,GAAAA,mBAAqCjpB,SAAAA,GAC/B,EAAJsoB,WAIa,YAAetoB,EALegtB,WAM3CuI,iBAAsBv1B,EAAtBu1B,aAAyCv1B,EANE0tB,WAS7CzE,EAAAA,GAAAA,aAA+BjpB,SAAAA,GAC7B,IAAI,EAAJsoB,UAAA,CAIA,qBALqCtoB,EAKrC,GAAMxY,EAAN,KAAM0C,EAAN,KAAM0sC,EAAN,KACA,IAAI,iBAAJpvC,GAIA,UACE,WACE,IAAMwiB,EAAS,EADjB6sB,QAGE,GAAI,UAAJD,EAA6B,CAC3B,IAAME,EAAgBF,EADKjtC,OAE3B+B,EAAAA,MAAAA,MAAAA,8BAAAA,OAAKorC,IACL,uBAH2BA,GAAA,MAO7B,IAAIC,EAVN,KAYI/sB,EAAOud,QACPpb,WADAnC,eAEAmC,WAAW6qB,cAHb1sB,UAKEysB,EAAe,CACbE,aADa,SACbA,EAAAA,GACE9qB,WAAAA,cAAAA,UAAAA,EADsBpkB,MAK5B,IAAM25B,EAAO,IAAI,aAAJ,iBAAiC,CAC5CkC,gBAAiB5Z,EAD2B4Z,gBAE5C6D,gBAAiBzd,EAF2Byd,gBAG5CiC,aAAc1f,EAH8B0f,aAI5CsL,qBAAsB,6BAJsB,GAAA+B,aAAAA,IAQ9C,4BAESjqB,SAAAA,GACL,OAAOmc,EAAewM,gBAAgB,eAAgB,CADvCjuC,GAAAA,OAFnB,SAKW,YACFwiB,EAADsd,qBAA+B5F,EAAnC1hB,OAME0hB,EAAAA,KAN4C,MAQ9C,uBATaA,MApCrB,MAgDE,IAhDF,WAiDE,YACE,uBADFkV,GAjDF,MAoDE,QACE,MAAM,IAAInuC,MAAM,kCAAV,OAAUyB,SAItB++B,EAAAA,GAAAA,OAAyBjpB,SAAAA,GACvB,IAAI,EAAJsoB,UAAA,CAKA,qBAN+BtoB,EAM/B,GAAMxY,EAAN,KAAMwlC,EAAN,KAAM9iC,EAAN,KAAMgtC,EAAN,KACMC,EAAY,YAPanK,GAQ/B,IAAImK,EAAU3H,KAAKtsC,IAAnBsE,GAAA,CAIA,GACE,UADF,EAeI,MAAM,IAAIiB,MAAM,2BAAV,OAAUyB,IAbhBitC,EAAAA,KAAAA,QAAAA,EADFD,GAMIA,GACA,SADAA,GAEAA,EAAUl3B,KAAK5a,OARnB,MAUI+xC,EAAAA,oBADA,QAURlO,EAAAA,GAAAA,eAAiCjpB,SAAAA,GAC3B,EAAJsoB,WAIIqE,EAAJ0J,YACE1J,EAAAA,WAAuB,CACrBiJ,OAAQ51B,EADa41B,OAErBrL,MAAOvqB,EAFcuqB,WAO3BtB,EAAAA,GAAAA,qBAEEppC,KAAKo1C,sBAAsB3qC,KAzUT,OA4UpB2+B,EAAAA,GAAAA,oBAAsC,cACpC,GAAI,EAAJX,UACEuN,EAAAA,MAAW,IAAIptC,MADG,6BAApB,CAIA,IAAI2uC,GALgD,EAOpDvB,EAAAA,OAAc,WACZ,EACEA,EADWC,SAIbsB,GALkB,EAOlB,mCACQ,SAAUC,GACdxB,EAAAA,QAAAA,EAAAA,EAA6B,CAACwB,EAAY7pB,SADfwF,YAD/B,OAIS,SAAUlG,GACf+oB,EAAAA,MADuB/oB,iDAOjCmoB,SAAAA,GAAqC,IAArCA,EAAqC,EAArCA,UACMp1C,KAAJyoC,WAGIzoC,KAAK8sC,YAATqI,sBACEn1C,KAAA,iCADyCy3C,0BAK7CjL,WACE,OAAOxsC,KAAKopC,eAAewM,gBAAgB,UADnC,6BAIVpK,SAAAA,GAAoB,WAClB,IACG3pB,OAAO0S,UAARkX,IACAA,GADA,GAEAA,EAAazrC,KAHf03C,UAKE,OAAOjuC,QAAQE,OAAO,IAAIf,MAD1B,yBAIF,IAAMukC,EAAY1B,EATA,EAUlB,GAAI0B,KAAantC,KAAjB23C,aACE,OAAO33C,KAAK23C,aADsBxK,GAGpC,IAAMpD,EAAU/pC,KAAKopC,eAAL,0BACc,CADd+D,UAAAA,IAAA,MAIRC,SAAAA,GACJ,GAAI,EAAJ3E,UACE,MAAM,IAAI7/B,MADQ,uBAGpB,IAAM8sC,EAAO,IAAIxI,aAAa,EAAjB,IAIX,UAJW7gB,cAKX,UATcqb,QAYhB,OADA,eAXgBgO,EAAAA,KAepB,OADA11C,KAAA,gBA/BkB+pC,EAAAA,8BAmCpB2B,SAAAA,GACE,OAAO1rC,KAAKopC,eAAL,+BAC4B,CAD5Bx8B,IAAAA,IAAA,OAIE,SAAUqgB,GACf,OAAOxjB,QAAQE,OAAO,IAAIf,MADHqkB,qCAK7B2gB,SAAAA,EAAAA,GACE,OAAO5tC,KAAKopC,eAAewM,gBAAgB,iBAAkB,CAAAzI,UAAAA,EAAAU,OAAAA,gCAM/Db,SAAAA,GACE,OAAOhtC,KAAKopC,eAAL,+BAC4B,CAC/BkC,SAAUtrC,KADqB03C,UAE/BzK,kBACGA,GAAqBA,EAAtBoC,UAH6B,KAI/BuI,SAAU53C,KAAKq2C,YAAcr2C,KAAKq2C,YAAxBuB,SAJqB,OAD5B,SAOI,WACP,GACE3K,EADqB4K,kDAM7BlM,WACE,OAAO3rC,KAAKopC,eAAewM,gBAAgB,kBAD3B,oCAIlBhK,SAAAA,GACE,wBAAWjkC,EACF8B,QAAQE,OAAO,IAAIf,MADA,iCAGrB5I,KAAKopC,eAAewM,gBAAgB,iBAAkB,CAJ5CjuC,GAAAA,iCASnBkkC,WACE,OAAO7rC,KAAKopC,eAAewM,gBAAgB,gBAD7B,mCAIhB9J,WACE,OAAO9rC,KAAKopC,eAAewM,gBAAgB,gBAD7B,iCAIhB7J,WACE,OAAO/rC,KAAKopC,eAAewM,gBAAgB,cAD/B,0CAId5J,WACE,OAAOhsC,KAAKopC,eAAewM,gBAAgB,uBADtB,mCAIvB3J,WACE,OAAOjsC,KAAKopC,eAAewM,gBAAgB,gBAD7B,oCAIhB1J,WACE,OAAOlsC,KAAKopC,eAAewM,gBAAgB,iBAD5B,mCAIjBzJ,WACE,OAAOnsC,KAAKopC,eAAewM,gBAAgB,gBAD7B,gCAIhBxJ,WACE,OAAOpsC,KAAKopC,eAAewM,gBAAgB,aADhC,8CAIbvJ,WACE,OAAOrsC,KAAKopC,eAAL,uDAEC0O,SAAAA,GACJ,OAAO,IAAI,yBAAJ,sBADQA,oCAKrBxL,WACE,OAAOtsC,KAAKopC,eAAewM,gBAAgB,iBAD5B,iCAIjBrJ,WAAc,WACZ,OAAOvsC,KAAKopC,eAAL,0CAEC0O,SAAAA,GACJ,MAAO,CACL9C,KAAM8C,EADD,GAELC,SAAUD,EAAQ,GAAK,IAAI,UAAJ,SAAaA,EAA1BA,IAFL,KAGLE,2BAA4B,cACxB,cADwBJ,SAHvB,iCAUbjL,WACE,OAAO3sC,KAAKopC,eAAewM,gBAAgB,WADlC,kCAIX/I,WAAe,WACb,OAAO7sC,KAAKopC,eAAewM,gBAAgB,UAAW,MAAMviC,MAAK,WAC/D,IAAK,IAAIhO,EAAJ,EAAWqgC,EAAK,YAArBngC,OAA4CF,EAA5CqgC,EAAoDrgC,IAAK,CACvD,IAAMqwC,EAAO,YAD0CrwC,GAEvD,OAC4BqwC,EADlB9I,UAIN,MAAM,IAAIhkC,MAAM,sBAAV,OACkBvD,EAAtB,EADI,6BAMZ,aAbqEosC,QAcrE,aAdqEA,sCAkBzE,WACE,IAAMtnB,EAASnqB,KADGg3C,QAElB,OAAO,QAAAtT,QAAA,qBAA8B,CACnCsE,iBAAkB7d,EADiB6d,iBAEnCJ,gBAAiBzd,EAFkByd,wBAhmBzC2B,GA6mBA+D,WAAAA,WACEzmC,SAAAA,IAAc,wBACZ7G,KAAA,MAAasD,OAAOmB,OADR,qDAQdwzC,SAAAA,GACE,OAAIj4C,KAAKk4C,MAATC,GACSn4C,KAAKk4C,MADSC,GAGfn4C,KAAKk4C,MAAMC,GAAS,CAC1BrlB,YAD0B,mCAE1B3S,KAF0B,KAG1Bi4B,UAH0B,sBAe9BviC,SAAAA,GAA4B,IAAjB3L,EAAiB,uDAA5B2L,KAGE,KAEE,OADA7V,KAAA,sCADYkK,GAAA,KAMd,IAAMyD,EAAM3N,KAAKk4C,MATSC,GAY1B,IAAKxqC,IAAQA,EAAbyqC,SACE,MAAM,IAAIxvC,MAAM,6CAAV,OAAUuvC,EAAV,MAER,OAAOxqC,EAfmBwS,wBAkB5B9c,SAAAA,GACE,IAAMsK,EAAM3N,KAAKk4C,MADRC,GAET,QAAOxqC,GAAMA,EAANA,gCAMTjE,SAAAA,EAAAA,GACE,IAAMiE,EAAM3N,KAAKi4C,WADEE,GAGnBxqC,EAAAA,UAHmB,EAInBA,EAAAA,KAJmBwS,EAKnBxS,EAAAA,WAAAA,QALmBwS,wBAQrBsxB,WACEzxC,KAAA,MAAasD,OAAOmB,OADd,YA9DV6oC,GAsEA+K,WAAAA,WACExxC,SAAAA,EAAAA,GAAgC,wBAC9B7G,KAAA,oBAD8BwvC,EAS9BxvC,KAAA,WAT8B,+CAgBhC,WACE,OAAOA,KAAKs4C,oBAAoBxlB,WADpBiX,8BASd9uB,WACEjb,KAAA,oBADOib,eA1BXo9B,GAmCM3I,mBAAsB,WAC1B,IAAM6I,EAAoB,IADqCC,QAI/D9I,EAJ+D,WAK7D7oC,SAAAA,EAAAA,GAWG,IAXSqD,EAWT,EAXSA,SAAAigB,EAWT,EAXSA,OAAAwlB,EAWT,EAXSA,KAAAtC,EAWT,EAXSA,WAAAuC,EAWT,EAXSA,aAAAzC,EAWT,EAXSA,UAAAkB,EAWT,EAXSA,cAAAU,EAWT,EAXSA,aAWT,IAFDc,yBAAAA,OAEC,aADDnI,OAAAA,OACC,iCACD1nC,KAAA,SADCkK,EAEDlK,KAAA,OAFCmqB,EAGDnqB,KAAA,KAHC2vC,EAID3vC,KAAA,WAJCqtC,EAKDrtC,KAAA,gBALC,KAMDA,KAAA,aANC4vC,EAOD5vC,KAAA,WAPCmtC,EAQDntC,KAAA,cARCquC,EASDruC,KAAA,aATC+uC,EAUD/uC,KAAA,QAVC0nC,EAYD1nC,KAAA,SAZC,EAaDA,KAAA,sBAbC,KAcDA,KAAA,eAdC,EAeDA,KAAA,2BAC+B,IAA7B6vC,GAhBD,qBAgB6C9lC,OAC9C/J,KAAA,WAjBC,EAkBDA,KAAA,YAlBC,mCAmBDA,KAAA,KAAY,IAAIq4C,WAnBf,MAqBDr4C,KAAA,eAAsBA,KAAKy4C,UAAUhuC,KArBpC,MAsBDzK,KAAA,mBAA0BA,KAAK04C,cAAcjuC,KAtB5C,MAuBDzK,KAAA,WAAkBA,KAAK24C,MAAMluC,KAvB5B,MAwBDzK,KAAA,QAAemqB,EAAO6jB,cAxBrB9hB,OAhB0D,4CA2C7D,WACE,OAAOlsB,KAAK8yB,WAAWiX,QAAQ/c,OAAM,iBA5CsB,gCAkD7D4rB,SAAAA,GAAoE,QAA/C5I,aAAAA,OAA+C,SAApE4I,EAAoE,EAApEA,sBACE,IAAI54C,KAAJ64C,UAAA,CAGA,GAAI74C,KAAJ84C,QAAkB,CAChB,GAAIP,EAAkBl1C,IAAIrD,KAA1B84C,SACE,MAAM,IAAIlwC,MACR,mJAKJ2vC,EAAAA,IAAsBv4C,KARN84C,SAYhB94C,KAAK8vC,SACLxjB,WADAysB,gBAEAzsB,WAAWysB,eAHbtuB,UAKEzqB,KAAA,QAAessB,WAAWysB,eAAet0C,OAAOzE,KADhDutC,YAEAvtC,KAAA,aAAkBA,KAFlB4vC,cAGA5vC,KAAA,uBAA8BA,KAAKg5C,QAHnCC,qBAKF,MAMIj5C,KA9B8DmqB,OAwB5D6jB,EAAN,EAAMA,cAAAC,EAAN,EAAMA,SAAA1e,EAAN,EAAMA,UAAA6e,EAAN,EAAMA,WAAAE,EAAN,EAAMA,WAQNtuC,KAAA,IAAW,IAAI,QAAJ,iBAETA,KAFSqtC,WAGTrtC,KAHS2vC,KAIT3vC,KAJSquC,cAKTruC,KALS+uC,aAAAA,EAhCuDkB,GAyClEjwC,KAAA,iBAAsB,CAAAuvB,UAAAA,EAAA0e,SAAAA,EAAA+B,aAAAA,EAAA1B,WAAAA,IAMtBtuC,KAAA,gBA/CkE,EAgDlEA,KAAA,eAhDkE,EAiD9DA,KAAJk5C,uBACEl5C,KAD8Bk5C,2BAnG2B,oBAwG7Dj+B,WAAqB,IAAdnR,EAAc,uDAArBmR,KACEjb,KAAA,SADmB,EAEnBA,KAAA,WAFmB,EAGfA,KAAJm5C,KACEn5C,KAAA,IADYo5C,aAGVp5C,KAAJ84C,SACEP,EAAAA,OAAyBv4C,KADT84C,SAGlB94C,KAAA,SACE8J,GACE,IAAI,eAAJ,gEAC+B9J,KAAKutC,WAAlC,GAZa,aAxGwC,iCA0H7D4C,WACOnwC,KAALq5C,eAOIr5C,KAAJg5C,SACEh5C,KAAA,2BAAgCA,KADhB4vC,cAId5vC,KAAJs5C,SAGAt5C,KAfoBy4C,aAEbz4C,KAALk5C,wBACEl5C,KAAA,sBAA6BA,KADEu5C,kBA5HwB,uBA4I7Dd,WACEz4C,KAAA,SADU,EAENA,KAAJ64C,YAGI74C,KAAK6mC,KAAT2S,WACEx5C,KAAA,gBAAqBA,KADGy5C,oBAGxBz5C,KADK04C,mBAnJoD,2BAwJ7DA,WAAgB,WACV14C,KAAJ05C,0BACE3vC,OAAAA,uBAA6B,WAC3B,qBAAwB,cADS,OAInCN,QAAAA,UAAAA,KAAuBzJ,KAAvByJ,YAAAA,MAA8CzJ,KAAKib,OAAOxQ,KADrD,SA7JoD,gFAkK7D,kGACMzK,KAAJ64C,UADF,iDAIE74C,KAAA,gBAAuBA,KAAKm5C,IAAIQ,oBAC9B35C,KADqB4vC,aAErB5vC,KAFqB45C,gBAGrB55C,KAHqBu5C,eAIrBv5C,KARUg5C,SAURh5C,KAAK45C,kBAAoB55C,KAAK4vC,aAAaT,UAA/C5pC,SACEvF,KAAA,SAD+D,EAE3DA,KAAK4vC,aAATR,YACEpvC,KAAA,IAD+Bo5C,aAE3Bp5C,KAAJ84C,SACEP,EAAAA,OAAyBv4C,KADT84C,SAGlB94C,KAL+BkK,aAZrC,gDAlK6D,6DAwL/D,OAxL+DwlC,EAArC,GA4LtBvnC,QA14FN,kCA64FA,IAAM0xC,MA74FN,mJCeA,IAfAC,EAeA,OAWAC,EAAAA,WACElzC,SAAAA,EAAAA,GAIG,IAJS2hC,EAIT,EAJSA,MAAA2M,EAIT,EAJSA,qBAIT,IADD9oB,cAAAA,OACC,MADeC,WAHlBzlB,SAIG,0BACG7G,KAAK6G,cAATkzC,IACE/tB,EAAAA,EAAAA,aADuC,qCAGzChsB,KAAA,MAJCwoC,EAKDxoC,KAAA,sBALCm1C,EAMDn1C,KAAA,UANCqsB,EAQDrsB,KAAA,gBARC,GASDA,KAAA,aATC,2DAYHg6C,SAAAA,GACEh6C,KAAA,qBADgCi6C,GAEhCj6C,KAAA,oBAFgCi6C,6BAKlCC,SAAAA,GACE,IAAIC,EAAen6C,KADJm6C,aAEfA,KACEA,EAAen6C,KAAKm6C,aAAen6C,KAAKusB,UAAUniB,cADjC,UAEjB+vC,GAAAA,wBAAAA,OAA0Cn6C,KAAxBwoC,OAClBxoC,KAAA,sEAHiBm6C,IAQnB,IAAMhyB,EAAagyB,EAVJC,MAWfjyB,EAAAA,WAAAA,EAA4BA,EAAWkyB,SAXxB90C,6BAcjBksC,WAAQ,WACNzxC,KAAA,yBAA6Bi6C,SAAAA,GAC3B,yBAD6CA,MAG/Cj6C,KAAA,uBAJM,EAMFA,KAAJm6C,eAEEn6C,KAAA,aAFqBuJ,SAGrBvJ,KAAA,aAHqB,uFAOzB,kHAEM6hC,EAAKyY,WAAYzY,EAArB0Y,YAFF,oDAKE1Y,EAAAA,UALe,GAOX7hC,KAAJw6C,0BAPF,sBAQUP,EAAiBpY,EADW4Y,wBAPtC,wBAUMz6C,KAAA,kBADkBi6C,GATxB,mBAYcA,EADJlE,OAXV,gEAcQ/1C,KAAA,sBAA2B,CACzBy3C,UAAWiD,EAAAA,qBAFFlY,uBAIX32B,EAAAA,EAAAA,MAAAA,wBAAAA,OAA6BouC,EAAxBU,OAAL9uC,QAAAA,OAAAA,EAAAA,GAAAA,OAGAg2B,EAAAA,iBAPW,EAbnB,oDA4BQ+Y,EAAO/Y,EA5BEgZ,sBAAjB,oBA8BI76C,KAAA,WADQ46C,IAGJ56C,KAAJ86C,2BAhCJ,oEAmCU,IAAIrxC,SAAQC,SAAAA,GAChB,IAAMokB,EAAU,wBADWpkB,GAE3B,wBAA2B,CAA3BkxC,GAAmC,CAAnC/Y,GAF2B/T,MAnCjC,oJA2CAitB,SAAAA,IACE/uB,EAAAA,EAAAA,aAD8B,mFAIhC,WACE,IAAMgvB,EACJzuB,qBAAOvsB,KAAPusB,aAA2CvsB,KAAKusB,UAFpB0uB,MAG9B,OAAOvX,EAAAA,EAAAA,QAAAA,KAAAA,4BAHuBsX,2CAOhC,YACEhvB,EAAAA,EAAAA,aAD+B,4EAKjC,YACEA,EAAAA,EAAAA,aADkB,yEAIpBkvB,SAAAA,EAAAA,EAAAA,IACElvB,EAAAA,EAAAA,aADiD,kDAhHrD+tB,kBA+HED,EAAAA,WAAAA,EAAAA,SAAAA,GAAAA,UAAAA,EAAAA,GAAAA,IAAAA,EAAAA,aAAAA,GACEjzC,SAAAA,EAAAA,GAAoB,sCAClB,cADkBsjB,IAElB,eAAsB,CACpBgxB,SADoB,GAEpBC,cAFoB,GAItB,iBANkB,IADtBtB,OAAAA,aAAAA,EAAAA,CAAAA,CAAAA,IAAAA,6BAAAA,IAUE,WACE,IAAIkB,GAD2B,EAG7B,wBAAW1hC,UAET0hC,GAFoC,MAG/B,CAGL,IAAMv5C,EAAI,mCAAmC0vB,KAC3C7X,UAJGE,WAMD/X,GAAKA,EAAE,IAAX,KACEu5C,GADmB,GAMzB,OAAOtX,EAAAA,EAAAA,QAAAA,KAAAA,6BAlBwBsX,KAVnClB,CAAAA,IAAAA,wBAAAA,MA+BEiB,SAAAA,GAYE,IAAMn3C,EAAU5D,KAZcq7C,eAaxBvtB,EAAU,CACdnmB,GAAAA,sBAAAA,OAA0B/D,EAAtBw3C,iBACJ9yC,MAFc,EAGdgnC,SAfF,WAKE,KAJA5kB,EAAAA,EAAAA,SAAQoD,EAARpD,KADyB,6CAEzBoD,EAAAA,MAFyB,EAKlBlqB,EAAQu3C,SAAS51C,OAAS,GAAK3B,EAAQu3C,SAAS,GAAvD7yC,MAAgE,CAC9D,IAAMgzC,EAAe13C,EAAQu3C,SADiCI,QAE9DjwC,WAAWgwC,EAAXhwC,SAF8D,KAOlDpB,SAAAA,GAOhB,OADAtG,EAAAA,SAAAA,KAnB8BkqB,GAAAA,IA/BlCgsB,CAAAA,IAAAA,gBAAAA,IAsDE,WA6BE,OAAOpW,EAAAA,EAAAA,QAAAA,KAAAA,gBAzBE8X,KACL,+9CA3DR1B,CAAAA,IAAAA,wBAAAA,MAsFEoB,SAAAA,EAAAA,EAAAA,GAA6C,IAoB3C,EApB2CxV,EAAA,OAO3C,gBACE,OACGvlB,EAAKsU,WAAWgnB,IAAjB,GACCt7B,EAAKsU,WAAWgnB,EAAhBt7B,IADD,GAECA,EAAKsU,WAAWgnB,EAAhBt7B,IAFD,EAFyB,IAKxBA,EAAKsU,WAAWgnB,EAAhBt7B,GAGL,oBAGE,OAFeu7B,EAAEhwB,UAAU,EADoB+vB,GAG/BE,EADDD,EAAEhwB,UAAU+vB,EAFoBlyC,GAQjD,IAAM2iB,EAASlsB,KAAKusB,UAAUniB,cAvBa,UAwB3C8hB,EAAAA,MAxB2C,EAyB3CA,EAAAA,OAzB2C,EA0B3C,IAAM0vB,EAAM1vB,EAAOM,WA1BwB,MA4BvCqvB,EA5BuC,EA+CrCC,EAAiB,KAAjBA,OAAsBv4B,KAAL4M,OAAjB2rB,OAAmC97C,KAAlB87C,kBAMnB37B,EAAOngB,KArDgC+7C,cA+DrCC,EA/DqC,WAgEvCC,EAAWC,EATf/7B,EAAOg8B,EAAa,EAvDuB,IA0DzCL,EAHKK,OAvDoCL,GAAA,IAiE3C,IAAKz2C,EAAI,EAAGqgC,EAAKoW,EAAev2C,OAAhC,EAA4CF,EAA5CqgC,EAAoDrgC,GAApD,EACE42C,EAAYA,EAAWD,EAAaE,EAAMJ,EAA/Bz2C,GAD+C,EAGxDA,EAAIy2C,EAARv2C,SAEE02C,EACGA,EAAWD,EAAaE,EAAMJ,EAANI,MAAzB72C,GAH2B,GAK/B8a,EAAOg8B,EAAah8B,EAzEuB,GAyEI,GAAGi8B,EAAAA,EAAAA,UAzEPH,IA2E3C,IAAM/zC,EAAM,iCAANA,OAAuCm0C,KAAjCl8B,GAANjY,MACA0yC,EAAO,4BAAPA,OAAOkB,EAAPlB,UAAAA,OAAO1yC,EAAP0yC,KACN56C,KAAA,WA7E2C46C,GA+E3C,IAAM91C,EA/EqC,GAgF3C,IAAKO,EAAI,EAAGqgC,EAAKuV,EAAjB11C,OAA+BF,EAA/BqgC,EAAuCrgC,IACrCP,EAAAA,KAAWm2C,EAAM51C,GADyBi3C,YAG5Cx3C,EAAAA,KAnF2Cg3C,GAqF3C,IAAM76C,EAAMjB,KAAKusB,UAAUniB,cArFgB,OA2F3C,IALAnJ,EAAAA,MAAAA,WAtF2C,SAuF3CA,EAAAA,MAAAA,MAAkBA,EAAI8K,MAAME,OAvFe,OAwF3ChL,EAAAA,MAAAA,SAxF2C,WAyF3CA,EAAAA,MAAAA,IAAgBA,EAAI8K,MAAMG,KAzFiB,MA2FtC7G,EAAI,EAAGqgC,EAAK5gC,EAAjBS,OAA+BF,EAA/BqgC,IAAArgC,EAA4C,CAC1C,IAAMk3C,EAAOv8C,KAAKusB,UAAUniB,cADc,QAE1CmyC,EAAAA,YAF0C,KAG1CA,EAAAA,MAAAA,WAAwBz3C,EAHkBO,GAI1CpE,EAAAA,YAJ0Cs7C,GAM5Cv8C,KAAA,2BAjG2CiB,GA6B3C,gBAGE,KAFA46C,EAEA,GAAiB,OACfhwC,EAAAA,EAAAA,MADe,qCAEf3B,IAGF0xC,EAAAA,KAAW,QARwB/2C,EASnC+2C,EAAAA,SAAAA,IAAAA,EATmC,IAUjBA,EAAIY,aAAa,EAAG,EAAG,EAVN,GAWrBr8B,KAAK,GAAnB,EACEjW,IAGFoB,WAAWmxC,EAAYhyC,KAAK,KAAM5F,EAfCqF,IAsErCuyC,CAAAA,GAA4B,WAC1B,6BADgCx7C,GAEhC6sB,EAFgCwhB,kBAzLtCwK,EAAAA,CAAaC,OAkMf2C,EAAAA,WACE71C,SAAAA,EAAAA,EAAAA,GASE,QANEk9B,gBAAAA,OAMF,aALE6D,gBAAAA,OAKF,aAJEiC,aAAAA,OAIF,aAHEsL,qBAAAA,OAGF,MAPA,KAOA,MAFE+B,aAAAA,OAEF,MATFrwC,KASE,EAGA,aAHA,wBACA7G,KAAA,eAAsBsD,OAAOmB,OAD7B,MAGA,EACEzE,KAAA,GAAU28C,EADoBt3C,GAGhCrF,KAAA,iBANA,IAMuB+jC,EACvB/jC,KAAA,iBAPA,IAOuB4nC,EACvB5nC,KAAA,cARA,IAQoB6pC,EACpB7pC,KAAA,sBATAm1C,EAUAn1C,KAAA,aAVAk3C,2DAaFuD,WACE,IAAKz6C,KAADmgB,MAAcngB,KAAlB4nC,gBACE,OADsC,KAGxC,IAAMqS,EAAiB,IAAI2C,SAAS58C,KAAbs8C,WAA8Bt8C,KAA9BmgB,KAJF,IASrB,OAHIngB,KAAJk3C,cACEl3C,KAAA,0BADqB,MANFi6C,oCAYvBY,WACE,IAAK76C,KAADmgB,MAAcngB,KAAlB4nC,gBACE,OADsC,KAGxC,IAAMznB,GAAO08B,EAAAA,EAAAA,eAAc,IAAIpvB,WAAWztB,KAJvBmgB,OAMbjY,EAAM,YAANA,OAAkBlI,KAAZ88C,SAAN50C,YAAAA,OAA0Cm0C,KAApCl8B,GAANjY,MACA0yC,EAAO,4BAAPA,OAAmC56C,KAA5Bs8C,WAAP1B,UAAAA,OAAO1yC,EAAP0yC,KAKN,OAHI56C,KAAJk3C,cACEl3C,KAAA,0BAAAA,KADqBkI,GATJ0yC,kCAerBmC,SAAAA,EAAAA,GACE,QAAA32C,IAAIpG,KAAKg9C,eAAeC,GACtB,OAAOj9C,KAAKg9C,eADoCC,GAIlD,MALgCC,EAMhC,IACEC,EAAOxN,EAAK95B,IAAI7V,KAAKs8C,WAAa,SADhCW,GAEF,MAAOnsB,GACP,IAAK9wB,KAAL6pC,aACE,MADsB/Y,EAUxB,OAPI9wB,KAAJo1C,uBACEp1C,KAAA,sBAA2B,CACzBy3C,UAAWiD,EAAAA,qBAFiBjY,oBAKhC52B,EAAAA,EAAAA,MAAAA,2CAAAA,OAAKilB,EAALjlB,OAEQ7L,KAAKg9C,eAAeC,GAAa,SAAUvY,EAAG9c,KAMxD,GAAI5nB,KAAK+jC,iBAAmBD,EAAAA,sBAA5Bl0B,MAAyD,CAGvD,IAFA,MACEwtC,EAFqD,GAG9C/3C,EAAJ,EAAWqgC,EAAKyX,EAArB53C,OAAkCF,EAAlCqgC,EAA0CrgC,IAItCW,OADFI,KAFA82C,EAAUC,EADmC93C,IAGjCW,KACHk3C,EAAQl3C,KAAKmD,KADU,KAEzB,GAGPi0C,GAAM,KAAOF,EAAPG,IAAAA,IAAAA,EARuC,OAW/C,OAAQr9C,KAAKg9C,eAAeC,GAAa,IAAIjjC,SAAS,IAAK,OAdJojC,GAkBzD,OAAQp9C,KAAKg9C,eAAeC,GAAa,SAAUvY,EAAG9c,GACpD,IAAK,IAAIviB,EAAJ,EAAWqgC,EAAKyX,EAArB53C,OAAkCF,EAAlCqgC,EAA0CrgC,IAGxC,WAFA63C,EAAUC,EADmC93C,IAGjCg4C,MACVH,EAAAA,KAAe,CAACt1B,GAADA,IAEjB8c,EAAEwY,EAAFxY,KAAAA,MAAAA,EAAwBwY,EANqBl3C,aA9FrD02C,wJC1UA,WAjBA,cAqBIY,EAAAA,cACFz2C,SAAAA,IAAc,yBACZmlB,EAAAA,EAAAA,aADY,+DAKhB,IAAIuxB,EAAAA,cACF12C,SAAAA,IAAc,yBACZmlB,EAAAA,EAAAA,aADY,uEAKhB,aACEsxB,EAAAA,kBAAAA,EAAAA,SAAAA,GAAAA,UAAAA,EAAAA,GAAAA,IAAAA,EAAAA,aAAAA,GAAAA,SAAAA,IAAAA,OAAAA,gBAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,WAAAA,OAAAA,aAAAA,EAAAA,CAAAA,CAAAA,IAAAA,SAAAA,MACE74C,SAAAA,EAAAA,GACE,GAAIuH,GAAS,GAAKC,GAAlB,EACE,MAAM,IAAIrD,MADmB,uBAG/B,IACMsjB,EADSsxB,oBAJK,MAKEC,aAAazxC,EALfC,GAMpB,MAAO,CAAAigB,OAAAA,EAELtoB,QAASsoB,EAAOM,WAFX,WAPX8wB,EAAAA,CAAoB7W,EAAAA,mBAcpB8W,EAAAA,sBAAAA,EAAAA,SAAAA,GAAAA,UAAAA,EAAAA,GAAAA,IAAAA,EAAAA,aAAAA,GAAAA,SAAAA,IAAAA,OAAAA,gBAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,WAAAA,OAAAA,aAAAA,EAAAA,CAAAA,CAAAA,IAAAA,aAAAA,MACExwB,SAAAA,EAAAA,GACE,OAAO,IAAItjB,SAAQ,cACN+zC,oBAD2B,KAEtCE,SAAAA,GAAiB,eACX5zC,GAAJqW,EAIAzW,EAAQ,CAAEikB,SAAU,IAAIF,WAAhBtN,GAAAyM,gBAAAA,IAHNjjB,EAAO,IAAIf,MADOkB,cAL5ByzC,EAAAA,CAAwB9W,EAAAA,sIC9B1BkX,EAAAA,WACE92C,SAAAA,IAAc,wBACZ7G,KAAA,SAAgB,IADJwhB,IAEZxhB,KAAA,WAFY,EAQZA,KAAA,cARY,KASZA,KAAA,gBATY,0DAsBd49C,SAAAA,EAAAA,GACE,OAAI59C,KAAK69C,SAASx6C,IAAlB+D,GACSpH,KAAK69C,SAAShoC,IADKzO,IAI5BpH,KAAA,eALkC89C,GAAAA,2BAiBpCC,SAAAA,EAAAA,GACM/9C,KAAK69C,SAAShoC,IAAIzO,KAAtBwI,GACE5P,KADoCg+C,eAGtCh+C,KAAA,eAJmB4P,yBAOrBy/B,WACE,WAAIrvC,KAAK69C,SAASj2B,KAAY,KAGvBtkB,OAAO26C,YAAYj+C,KAJnB69C,4BAOT,WACE,OAAO79C,KAAK69C,SADHj2B,iCAOXo2B,WACOh+C,KAALk+C,YACEl+C,KAAA,WADmB,EAEnB,oBAAWA,KAAPm+C,eACFn+C,KAD4Cm+C,8CAMlDtG,WACM73C,KAAJk+C,YACEl+C,KAAA,WADkB,EAElB,oBAAWA,KAAPo+C,iBACFp+C,KAD8Co+C,yBAzEtDT,wIClBA,WAiBMU,EAAsB/6C,OAAOmB,OAjBnC,MAsBI,aACE45C,EAAAA,iBADY,GAKlB,IAAMxW,EAAyBvkC,OAAOg7C,OA3BtCD,qICeA,WAcA,QASIE,EAtCJ,KAyCIC,EAzCJ,IA8CIC,EA9CJ,GAgDA,cAEO7C,EAAL8C,sBACE9C,EAAAA,cAAoBA,EADQrf,KAE5Bqf,EAAAA,iBAAuBA,EAFKpf,QAG5Bof,EAAAA,gBAAsBA,EAHMz6C,OAI5By6C,EAAAA,eAAqBA,EAJOpnC,MAK5BonC,EAAAA,mBAAyBA,EALG+C,UAM5B/C,EAAAA,mBAAyBA,EANGrsB,UAO5BqsB,EAAAA,sBAA4BA,EAPAgD,aAS5BhD,EAAAA,iBAAuBA,EAAIiD,kBAAoB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAC/DjD,EAAAA,gBAV4B,GAY5Bt4C,OAAAA,eAAAA,EAAAA,sBAAkD,CAChDuS,IAAK,WACH,OAAO7V,KAD2B6+C,oBAKtCv7C,OAAAA,eAAAA,EAAAA,6BAAyD,CACvDuS,IAAK,WAKH,IAAIpU,EAAIzB,KALiC6+C,iBAMrCz9C,EAAIK,EAAR,GACEoB,EAAIpB,EADN,GAEEijC,EAAIjjC,EAFN,GAGEgS,EAAIhS,EAHN,GAIEyJ,EAAIzJ,EAJN,GAKEq9C,EAAIr9C,EAXmC,GAarCs9C,EAAQ39C,EAAIqS,EAAI5Q,EAbqB6hC,EAcrCsa,EAAQn8C,EAAI6hC,EAAItjC,EAdqBqS,EAgBzC,MAAO,CACLA,EADKsrC,EAELl8C,EAFKm8C,EAGLta,EAHKsa,EAIL59C,EAJK29C,GAKJtrC,EAAA,EAAQixB,EAAToa,GALKE,GAMJn8C,EAAA,EAAQzB,EAAT09C,GANKC,MAWXnD,EAAAA,KAAW,WACT,IAAIqD,EAAMj/C,KADkB6+C,iBAE5B7+C,KAAA,qBAF4Bi/C,GAG5Bj/C,KAAA,iBAAwBi/C,EAAIj6C,MAAM,EAHN,GAK5BhF,KAL4Bk/C,iBAQ9BtD,EAAAA,QAAc,WACZ,IAAIuD,EAAOn/C,KAAKo/C,gBADkBC,MAElC,IACEr/C,KAAA,iBADQm/C,EAERn/C,KAFQs/C,qBAMZ1D,EAAAA,UAAgB,SAAsB97C,EAAGC,GACvC,IAAI0B,EAAIzB,KADkC6+C,iBAE1Cp9C,EAAAA,GAAOA,EAAE,GAAK3B,EAAI2B,EAAE,GAAbA,EAAsBA,EAFa,GAG1CA,EAAAA,GAAOA,EAAE,GAAK3B,EAAI2B,EAAE,GAAbA,EAAsBA,EAHa,GAK1CzB,KAAA,qBAL0CD,IAQ5C67C,EAAAA,MAAY,SAAkB97C,EAAGC,GAC/B,IAAI0B,EAAIzB,KAD0B6+C,iBAElCp9C,EAAAA,GAAOA,EAAE,GAFyB3B,EAGlC2B,EAAAA,GAAOA,EAAE,GAHyB3B,EAIlC2B,EAAAA,GAAOA,EAAE,GAJyB1B,EAKlC0B,EAAAA,GAAOA,EAAE,GALyB1B,EAOlCC,KAAA,iBAPkCD,IAUpC67C,EAAAA,UAAgB,SAAsBx6C,EAAGyB,EAAG6hC,EAAGjxB,EAAGvI,EAAG4zC,GACnD,IAAIr9C,EAAIzB,KAD8C6+C,iBAEtD7+C,KAAA,iBAAwB,CACtByB,EAAE,GAAKL,EAAIK,EAAE,GADSoB,EAEtBpB,EAAE,GAAKL,EAAIK,EAAE,GAFSoB,EAGtBpB,EAAE,GAAKijC,EAAIjjC,EAAE,GAHSgS,EAItBhS,EAAE,GAAKijC,EAAIjjC,EAAE,GAJSgS,EAKtBhS,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAbA,EAAsBA,EALA,GAMtBA,EAAE,GAAKyJ,EAAIzJ,EAAE,GAAbA,EAAsBA,EANA,IASxBm6C,EAAAA,mBAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAXsDkD,IAcxDlD,EAAAA,aAAmB,SAAyBx6C,EAAGyB,EAAG6hC,EAAGjxB,EAAGvI,EAAG4zC,GACzD9+C,KAAA,iBAAwB,CAACoB,EAAGyB,EAAG6hC,EAAGjxB,EAAGvI,EAAG4zC,GAExClD,EAAAA,sBAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAH4DkD,IAM9DlD,EAAAA,OAAa,SAAmBl5C,GAC9B,IAAI68C,EAAWr9C,KAAKc,IADiBN,GAEjC88C,EAAWt9C,KAAKe,IAFiBP,GAIjCjB,EAAIzB,KAJ6B6+C,iBAKrC7+C,KAAA,iBAAwB,CACtByB,EAAE,GAAK89C,EAAW99C,EAAE,GADE+9C,EAEtB/9C,EAAE,GAAK89C,EAAW99C,EAAE,GAFE+9C,EAGtB/9C,EAAE,IAAFA,EAAmBA,EAAE,GAHC89C,EAItB99C,EAAE,IAAFA,EAAmBA,EAAE,GAJC89C,EAKtB99C,EALsB,GAMtBA,EANsB,IASxBzB,KAAA,gBAdqC0C,KAmB3C,IAAI+8C,EAAkB,WAEpB,cACEz/C,KAAA,cADqCquC,EAErCruC,KAAA,MAAasD,OAAOmB,OAFiB,MAkCvC,OA9BAg7C,EAAAA,UAA2B,CACzBC,UAAW,SAAkC,EAAlC,OAMT,IADAC,EAcA,YAZAv5C,IAAIpG,KAAK4/C,MAAMj4C,IACbg4C,EAAc3/C,KAAK4/C,MADaj4C,GAEhC3H,KAAA,wBAFgCiM,GAIhC0zC,EAAAA,QAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAJgC,KAMhCA,EAAc3/C,KAAKquC,cAAc5pC,OAAOuH,EADnCC,GAELjM,KAAA,SAFK2/C,GAIP,GACEE,EAA2BF,EADT/7C,SAXpB+7C,GAgBFlO,MAtByB,WAuBvB,aAAezxC,KAAf4/C,MAA2B,CACzB,IAAID,EAAc3/C,KAAK4/C,MADEj4C,GAEzB3H,KAAA,sBAFyB2/C,UAGlB3/C,KAAK4/C,MAHaj4C,MA7BsB83C,EAAjC,GAwNlBK,EAAoB,WAEtB,aAEE9/C,KAAA,cAF0B,EAG1BA,KAAA,SAH0B,EAI1BA,KAAA,cAJ0B,EAK1BA,KAAA,WAL0BsvB,EAAAA,gBAM1BtvB,KAAA,gBAN0B,EAO1BA,KAAA,WAP0BsvB,EAAAA,qBAQ1BtvB,KAAA,QAR0B,EAU1BA,KAAA,EAV0B,EAW1BA,KAAA,EAX0B,EAa1BA,KAAA,MAb0B,EAc1BA,KAAA,MAd0B,EAgB1BA,KAAA,YAhB0B,EAiB1BA,KAAA,YAjB0B,EAkB1BA,KAAA,WAlB0B,EAmB1BA,KAAA,kBAAyB+/C,EAAAA,kBAnBCtqB,KAoB1Bz1B,KAAA,SApB0B,EAsB1BA,KAAA,UAtB0B,UAuB1BA,KAAA,YAvB0B,UAwB1BA,KAAA,aAxB0B,EA0B1BA,KAAA,UA1B0B,EA2B1BA,KAAA,YA3B0B,EA4B1BA,KAAA,UA5B0B,EA6B1BA,KAAA,YA7B0B,KA8B1BA,KAAA,eA9B0B,KA+B1BA,KAAA,aA/B0B,KA2C5B,OATA8/C,EAAAA,UAA6B,CAC3B1/C,MAAO,WACL,OAAOkD,OAAOmB,OADyB,OAGzCu7C,gBAAiB,SAA0ClgD,EAAGC,GAC5DC,KAAA,EAD+DF,EAE/DE,KAAA,EAF+DD,IAxCV+/C,EAAnC,GAmDpBG,EAAkB,WAQpB,0BASEjgD,KAAA,IADAkgD,EAEAlgD,KAAA,QAAe,IAFf8/C,EAGA9/C,KAAA,WAHA,GAIAA,KAAA,YAJA,KAKAA,KAAA,eALA,EAMAA,KAAA,IANA,KAOAA,KAAA,MAPA,KAQAA,KAAA,WARAqtC,EASArtC,KAAA,KATA2vC,EAUA3vC,KAAA,cAVAquC,EAWAruC,KAAA,aAXA+uC,EAYA/uC,KAAA,WAZAouC,EAaApuC,KAAA,WAbA,GAcAA,KAAA,gBAdA,KAiBAA,KAAA,cAjBA,KAkBAA,KAAA,mBAlBA,GAmBAA,KAAA,WAnBA,EAoBAA,KAAA,WApBA,GAqBAA,KAAA,aArBA,EAsBAA,KAAA,UAtBA,KAuBAA,KAAA,gBAvBA,EAwBAA,KAAA,mBAxBA,GAyBAA,KAAA,sBAzBAiwC,EA0BAjwC,KAAA,eAAsB,IAAIy/C,EAAez/C,KA1BzCquC,eA2BA,GAGEwR,EAHaK,GAKflgD,KAAA,2BAhCA,KAmCF,gBAA+D,IAArBmgD,EAAqB,uDAA/D,KACE,GAAyB,qBAAdC,WAA6BC,aAAxCD,UACExE,EAAAA,aAAAA,EAAAA,EADoE,OAAtE,CAgBA,IAjB6D0E,EA4B7D,MA5B6DC,EA8B7D,MA9B6DC,EAiBzDv0C,EAASo0C,EAAbp0C,OACED,EAAQq0C,EAlBmDr0C,MAmBzDy0C,EAAqBx0C,EAnBoCwyC,EAoBzDiC,GAAcz0C,EAADw0C,GApB4ChC,EAqBzDkC,EAAqC,IAAvBF,EAA2BC,EAAaA,EArBG,EAuBzDE,EAAehF,EAAIiF,gBAAgB70C,EAvBsByyC,GAwBzDqC,EAAJ,EAEIx2C,EAAM+1C,EA1BmDlgC,KA2BzD4gC,EAAOH,EA3BkDzgC,KA+B7D,KACE,OAAQggC,EAAR56C,QACE,OACEy7C,EAAiBb,EADnB,GAEEc,EAAmBd,EAFrB,GAGEe,EAAkBf,EAHpB,GAIEK,EAAkBL,EAJpB,GADF,MAOE,OACEa,EAAiBb,EADnB,GAEEc,EAAmBd,EAFrB,GAGEe,EAAkBf,EAHpB,GAIEK,EAAkBL,EAJpB,GAWJ,GAAIE,EAAQc,OAASC,EAAAA,UAArBjrB,eAA+C,CAE7C,IAAIkrB,EAAY/2C,EAF6B+nB,WAGzCivB,EAAS,IAAI1d,YAAYmd,EAAhB5tB,OAAAA,EAAgC4tB,EAAK1uB,YAHL,GAIzCkvB,EAAmBD,EAJsB/7C,OAKzCi8C,EAAex1C,EAAD,GAL2B,EAMzCy1C,EANyC,WAOzCC,EAAQje,EAAAA,qBAAAA,MAAAA,WAPiC,IAS7C,MAC6B,MAAvB+c,EAAgB,IAApB,IAAmCA,EAAgB,KAAa,OAC7C,CAACkB,EAAOD,GAAzBA,EAD8D,KAC9DC,EAD8D,KAKlE,IAAKr8C,EAAL,EAAYA,EAAZs7C,EAA6Bt7C,IAAK,CAIhC,IAHAs8C,EACEt8C,EAAIq7C,EAAajC,EAFagC,EAGhCH,EAHgC,EAI3Bh6C,EAAL,EAAYA,EAAZq7C,EAAiCr7C,IAAK,CAOpC,IANA,IAAIs7C,EAAUP,EADsBP,EAEhC//C,EAFgC,EAGhC8gD,EAAOD,EAAUJ,EAAcx1C,EAAkB,EAAV41C,EAHP,EAIhCE,GAAsB,EAAPD,EACfE,EALgC,EAMhCC,EANgC,EAO7BjhD,EAAP+gD,EAAyB/gD,GAAzB,EACEihD,EAAU13C,EAAIw2C,KACdQ,EAAOhB,KAAuB,IAAV0B,EAAgBP,EAFLC,EAG/BJ,EAAOhB,KAAuB,GAAV0B,EAAeP,EAHJC,EAI/BJ,EAAOhB,KAAuB,GAAV0B,EAAeP,EAJJC,EAK/BJ,EAAOhB,KAAuB,GAAV0B,EAAeP,EALJC,EAM/BJ,EAAOhB,KAAuB,EAAV0B,EAAcP,EANHC,EAO/BJ,EAAOhB,KAAuB,EAAV0B,EAAcP,EAPHC,EAQ/BJ,EAAOhB,KAAuB,EAAV0B,EAAcP,EARHC,EAS/BJ,EAAOhB,KAAuB,EAAV0B,EAAcP,EATHC,EAWjC,KAAO3gD,EAAP8gD,EAAiB9gD,IACf,IAAIghD,IACFC,EAAU13C,EAAIw2C,KACdiB,EAFc,KAKhBT,EAAOhB,KAAa0B,EAAUD,EAAON,EANjBC,EAOpBK,IAPoB,EAWxB,KAAOzB,EAAPiB,GACED,EAAOhB,KAD0B,EAInC1E,EAAAA,aAAAA,EAAAA,EAAkCv2C,EArCFo5C,SAuC7B,GAAI4B,EAAQc,OAASC,EAAAA,UAArB/qB,WAA2C,CAEhD,IAAM4rB,KACJjB,GAAAA,GAH8CE,GAUhD,IAFA56C,EARgD,EAShDi6C,EAAmBv0C,EAAQyyC,EATqB,EAU3Cp5C,EAAL,EAAYA,EAAZq7C,EAA4Br7C,IAAK,CAI/B,GAHA07C,EAAAA,IAASz2C,EAAIuoB,SAASiuB,EAAQA,EADCP,IAE/BO,GAF+BP,EAI/B,EACE,IAAK,IAAIx/C,EAAT,EAAgBA,EAAhBw/C,EAAsCx/C,GAAtC,EACE,IACEggD,EAAKhgD,EAALggD,GAAcC,EAAeD,EAAKhgD,EADhB,KAGpB,IACEggD,EAAKhgD,EAALggD,GAAcE,EAAiBF,EAAKhgD,EADhB,KAGtB,IACEggD,EAAKhgD,EAALggD,GAAcG,EAAgBH,EAAKhgD,EADhB,KAMzB66C,EAAAA,aAAAA,EAAAA,EAlB+Bt1C,GAmB/BA,GAnB+Bm4C,EAqBjC,GAAIp5C,EAAJs7C,EAAqB,CAInB,GAHAJ,EAAmBv0C,EAAQy0C,EADR,EAEnBM,EAAAA,IAASz2C,EAAIuoB,SAASiuB,EAAQA,EAFXP,IAInB,EACE,IAAK,IAAIx/C,EAAT,EAAgBA,EAAhBw/C,EAAsCx/C,GAAtC,EACE,IACEggD,EAAKhgD,EAALggD,GAAcC,EAAeD,EAAKhgD,EADhB,KAGpB,IACEggD,EAAKhgD,EAALggD,GAAcE,EAAiBF,EAAKhgD,EADhB,KAGtB,IACEggD,EAAKhgD,EAALggD,GAAcG,EAAgBH,EAAKhgD,EADhB,KAMzB66C,EAAAA,aAAAA,EAAAA,EAlBmBt1C,QAoBhB,IAAI+5C,EAAQc,OAASC,EAAAA,UAArBhrB,UAyCL,MAAM,IAAIxtB,MAAM,mBAAV,OAA6By3C,EAAnBc,OAvChB,IAAMc,KACJjB,GAAAA,GAH6CE,GAU/C,IADAX,EAAmBv0C,GADnB21C,EAR+ClD,GAU1Cp5C,EAAL,EAAYA,EAAZs7C,EAA6Bt7C,IAAK,CAOhC,IANIA,GAAJq7C,IAEEH,EAAmBv0C,GADnB21C,EADmBlB,IAKrBH,EANgC,EAO3Bh6C,EAALi6C,EAA2Bj6C,KACzBy6C,EAAKT,KAAah2C,EAAIw2C,KACtBC,EAAKT,KAAah2C,EAAIw2C,KACtBC,EAAKT,KAAah2C,EAAIw2C,KACtBC,EAAKT,KAJ2B,IAOlC,KACE,IAAK,IAAIv/C,EAAT,EAAgBA,EAAhBu/C,EAA6Bv/C,GAA7B,EACE,IACEggD,EAAKhgD,EAALggD,GAAcC,EAAeD,EAAKhgD,EADhB,KAGpB,IACEggD,EAAKhgD,EAALggD,GAAcE,EAAiBF,EAAKhgD,EADhB,KAGtB,IACEggD,EAAKhgD,EAALggD,GAAcG,EAAgBH,EAAKhgD,EADhB,KAMzB66C,EAAAA,aAAAA,EAAAA,EAAkCv2C,EA5BFo5C,MAmCtC,gBAYE,IAXA,IAAIxyC,EAASo0C,EAAbp0C,OACED,EAAQq0C,EAF8Br0C,MAGpCy0C,EAAqBx0C,EAHewyC,EAIpCiC,GAAcz0C,EAADw0C,GAJuBhC,EAKpCkC,EAAqC,IAAvBF,EAA2BC,EAAaA,EALlB,EAOpCE,EAAehF,EAAIiF,gBAAgB70C,EAPCyyC,GAQpCqC,EARoC,EASpCx2C,EAAM+1C,EAT8BlgC,KAUpC4gC,EAAOH,EAV6BzgC,KAY/B9a,EAAT,EAAgBA,EAAhBs7C,EAAiCt7C,IAAK,CAOpC,IANA,IAAIs8C,EACFt8C,EAAIq7C,EAAajC,EAFiBgC,EAMhCH,EANgC,EAO3Bh6C,EAAT,EAAgBA,EAAhBq7C,EAAqCr7C,IAEnC,IADA,IAAIy7C,EADoC,EAE/BhhD,EAAT,EAAgBA,EAAhBiL,EAA2BjL,IAAK,CAC9B,IAAAghD,EAAW,CACT,IAAIG,EAAO53C,EAAIw2C,KACfiB,EAFS,IAIXhB,EAAAA,GAAgBmB,EAAOH,EAAO,EALA,IAM9BzB,GAN8B,EAO9ByB,IAP8B,EAUlCnG,EAAAA,aAAAA,EAAAA,EAAkCv2C,EAnBEo5C,IAuBxC,gBAaE,IAZA,IAAI0D,EAAa,CAAC,cAAD,sHAYR98C,EAAJ,EAAWqgC,EAAKyc,EAArB58C,OAAwCF,EAAxCqgC,EAAgDrgC,IAAK,CACnD,IAAIid,EAAW6/B,EADoC98C,QAEnDe,IAAIg8C,EAAU9/B,KACZ+/B,EAAAA,GAAoBD,EADiB9/B,SAIzClc,IAAIg8C,EAAUE,cACZD,EAAAA,YAAoBD,EADmBG,eAEvCF,EAAAA,eAAyBD,EAFcI,gBAM3C,cACE5G,EAAAA,YAD8B,UAE9BA,EAAAA,UAF8B,UAG9BA,EAAAA,SAH8B,UAI9BA,EAAAA,YAJ8B,EAK9BA,EAAAA,UAL8B,EAM9BA,EAAAA,QAN8B,OAO9BA,EAAAA,SAP8B,QAQ9BA,EAAAA,WAR8B,GAS9BA,EAAAA,yBAT8B,cAU9BA,EAAAA,KAV8B,uBAW9Bx1C,IAAIw1C,EAAI0G,cACN1G,EAAAA,YADiC,IAEjCA,EAAAA,eAFiC,GAMrC,oBAEE,IADA,IAAIr2C,EAAS+sB,EADkC/sB,OAEtCF,EAAT,EAAgBA,EAAhBE,EAA4BF,GAA5B,EAAoC,CAClC,IAAIo9C,EAAQnwB,EADsBjtB,GAElC,OAAIo9C,EACFnwB,EAAMjtB,EAANitB,GADeowB,EAEfpwB,EAAMjtB,EAANitB,GAFeqwB,EAGfrwB,EAAMjtB,EAANitB,GAHeswB,OAIV,GAAIH,EAAJ,IAAiB,CACtB,IAAII,EAAS,IADSJ,EAEtBnwB,EAAMjtB,EAANitB,GAAgBA,EAAMjtB,EAANitB,GAAAA,EAAuBowB,EAAxBG,GAFO,EAGtBvwB,EAAMjtB,EAANitB,GAAgBA,EAAMjtB,EAANitB,GAAAA,EAAuBqwB,EAAxBE,GAHO,EAItBvwB,EAAMjtB,EAANitB,GAAgBA,EAAMjtB,EAANitB,GAAAA,EAAuBswB,EAAxBC,GAJO,IAS5B,kBAGE,IAFA,IAAIt9C,EAASu9C,EAD8Cv9C,OAGlDF,EAAT,EAAgBA,EAAhBE,EAA4BF,GAA5B,EAAoC,CAClC,IAAIo9C,EAAQM,EAAcA,EAAYD,EAA1BC,IAAyCD,EADnBz9C,GAElC29C,EAAAA,GAAgBA,EAAU39C,GAAKo9C,EAHrB,mBACwB,GAMtC,kBAEE,IADA,IAAIl9C,EAASu9C,EADmDv9C,OAEvDF,EAAT,EAAgBA,EAAhBE,EAA4BF,GAA5B,EAAoC,CAClC,IAAItF,EACF+iD,GAAAA,EAASz9C,EAATy9C,GAAAA,IACAA,EAASz9C,EAATy9C,GAHgC,GAIhCA,EAASz9C,EAATy9C,GACFE,EAAAA,GAAeD,EACVC,EAAU39C,GAAK09C,EAAYhjD,GAA5B,IADWgjD,EAEVC,EAAU39C,GAAXtF,GAP8B,IAiDtC,oBACE,IAAIgiD,EAAOpgB,EAD6CzV,OAEpD+2B,EAAUthB,EAF0C/9B,QAIxDg4C,EAAAA,aACEja,EADFia,OAAAA,EAAAA,EAIEja,EAJFia,OAKEja,EALFia,QAMEja,EAVsDhT,SAaxD,IAAIu0B,EAAWvhB,EAAMuhB,UAbmC,KAcxD,IAAKvhB,EAADohB,aAAsBhU,EAA1BoU,UAAkD,CAChD,IAAMC,EAAWrU,EAAasU,aAAa,CACzCC,MAAOC,EADkCr3B,OAAA61B,KAAAA,EAGzCI,WAAY,CACVqB,QAAS7hB,EADC6hB,QAAAN,SAAAA,KAJkC,OAShDtH,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EATgD,QAUhDA,EAAAA,UAAAA,EAAwBja,EAAxBia,QAAuCja,EAVShT,UApDpD,wBASE,IADA80B,EACIC,IADJR,EAEIR,EAAKgB,EAAcR,EAAdQ,GAFT,EAGIf,EAAKe,EAAcR,EAAdQ,GAHT,EAIId,EAAKc,EAAcR,EAAdQ,GAJT,EAQED,EADF,eAAID,EAA0BG,EAEvBC,EAOP,IAFA,IACIC,EAAY3hD,KAAKqR,IAAItH,EAAQ/J,KAAK8b,KAftC,QAAAhS,IAgBS83C,EAAT,EAAkBA,EAAlB73C,EAAgC63C,GAAhCD,EAAkD,CAChD,IAAIE,EAAc7hD,KAAKqR,IAAIswC,EAAW53C,EADU63C,GAE5ChB,EAAWG,EAAQzG,aAAa,EAAGsH,EAAK93C,EAFI+3C,GAG5Cf,EAAYO,EAAS/G,aAAa,EAAGsH,EAAK93C,EAHE+3C,GAKhD,GACEC,EAAqBlB,EAArBkB,KAAAA,EAAAA,EADepB,GAGjBa,EAAUX,EAAVW,KAAyBT,EAAzBS,KARgDV,GAUhDE,EAAAA,aAAAA,EAAAA,EAVgDa,IAyClDG,CAAAA,EAAAA,EAGElC,EAHFkC,MAIElC,EAJFkC,OAKEtiB,EALFsiB,QAAAA,EAOEtiB,EAlCsDohB,aAoCxDnH,EAAAA,UAAAA,EAAAA,EApCwD,GAuC1D,IAAIsI,EAAkB,CAAC,OAAQ,QAAS,UACpCC,EAAmB,CAAC,QAAS,QAAS,SACtCC,EA9biD,GA+bjDC,EA/biD,GAgrErD,aA/uDApE,EAAAA,UAA2B,CACzBqE,aADyB,YAMtB,IALU/0B,EAKV,EALUA,UAAA0e,EAKV,EALUA,SAKV,IAFD+B,aAAAA,OAEC,aADD1B,WAAAA,OACC,MALHgW,KAKG,EAMGt4C,EAAQhM,KAAK47C,IAAI1vB,OANpBlgB,MAOGC,EAASjM,KAAK47C,IAAI1vB,OAPrBjgB,OAcD,GALAjM,KAAA,IATCu8B,OAUDv8B,KAAA,cAAqBsuC,GAVpB,qBAWDtuC,KAAA,mBAXCiM,GAYDjM,KAAA,IAZCw8B,UAcD,EAAkB,CAChB,IAAI+nB,EAAoBvkD,KAAKwkD,eAAe9E,UAAU,cAA9B,KADR,GAOhB1/C,KAAA,aAAoBA,KAPJ47C,IAQhB57C,KAAA,kBAAyBukD,EARTr4B,OAShBlsB,KAAA,IAAWukD,EATK3gD,QAUhB5D,KAAA,IAVgBu8B,OAahBv8B,KAAA,oBACEA,KADF47C,IAEE57C,KAAKykD,aAfS/F,qBAmBlB1+C,KAAA,IAjCCu8B,OAkCDmoB,EAAkB1kD,KAlCjB47C,KAmCD,GACE57C,KAAA,oBAAyBA,KAAzB47C,IADarsB,GAGfvvB,KAAA,oBAAyBA,KAAzB47C,IAAmC3N,EAtClC1e,WAwCDvvB,KAAA,cAAqBA,KAAK47C,IAAI8C,oBAxC7B15C,QA0CGhF,KAAJouC,YACEpuC,KAAA,WADmB2kD,eAKvBhL,oBAAqB,SAA4C,EAA5C,OAMnB,IAAIxK,EAAYS,EADhBT,UAEID,EAAUU,EAFdV,QAGI7pC,EAAIu/C,GAHR,EAIIC,EAAe1V,EAJnB5pC,OAOA,GAAIs/C,IAAJx/C,EACE,OADsBA,EAcxB,IAVA,IAXAy/C,EAWIC,EACFF,EAAex/C,EAvgBgC,IA2fjD,oBAaS2/C,EACLC,EAAUF,EAAkBxhC,KAAK4M,MAzgBY,GA2fjD,EAeI+0B,EAfJ,EAiBI7X,EAAartC,KAjBjBqtC,WAkBIsC,EAAO3vC,KAlBX2vC,OAqBa,CACX,QAAgBvpC,IAAZ4yC,GAAyB3zC,IAAM2zC,EAAnCmM,eAEE,OADAnM,EAAAA,QAAAA,EADyDgM,GAAA3/C,EAO3D,IAFAy/C,EAAO5V,EANI7pC,MAQE+/C,EAAAA,IAAbtpB,WACE97B,KAAA,SAAAA,KAAuBmvC,EADI9pC,QAEtB,oCACkB8pC,EAAvB9pC,IADK,IACL,2BAAqC,KAArCggD,EAAqC,QAC7BC,EAAWD,EAASE,WAAW,MAAQlY,EADVsC,EAKnC,IAAK2V,EAASjiD,IAAdgiD,GAEE,OADAC,EAAAA,IAAAA,EAD2BN,GAAA3/C,GAN1B,+BAgBP,KAHAA,IAGAw/C,EACE,OADsBx/C,EAMxB,GAAI0/C,KAAqBG,EAhjBsB,GAgjBG,CAChD,GAAI3hC,KAAK4M,MAAT80B,EAEE,OADAD,IADwB3/C,EAI1B6/C,EALgD,KAatD9L,WAAY,WAEV,OAAIp5C,KAAKk9C,QAAQsI,aACfxlD,KADqCylD,gBAIvCzlD,KAAA,IAN+Cw8B,UAQ3Cx8B,KAAJukD,oBACEvkD,KAAA,IAAWA,KADeykD,aAE1BzkD,KAAA,IAF0Bu8B,OAG1Bv8B,KAAA,2BAH0B,GAI1BA,KAAA,cAAmBA,KAAnBukD,kBAAAA,EAJ0B,GAK1BvkD,KAAA,IAL0Bw8B,UAM1Bx8B,KAAA,kBAN0B,MAS5BA,KAAA,eAjB+CyxC,QAkB/CzxC,KAAA,aAlB+CyxC,QAoB3CzxC,KAAJouC,YACEpuC,KAAA,WADmB0lD,aAMvB3pB,aAAc,SAAqC/vB,GACjDhM,KAAA,kBADwDgM,EAExDhM,KAAA,cAFwDgM,GAI1DgwB,WAAY,SAAmCjwB,GAC7C/L,KAAA,YAAmBkkD,EADiCn4C,IAGtDkwB,YAAa,SAAoClwB,GAC/C/L,KAAA,aAAoBmkD,EADkCp4C,IAGxDmwB,cAAe,SAAsCypB,GACnD3lD,KAAA,eAD0D2lD,GAG5DxpB,QAAS,SAAgCypB,EAAWC,GAClD,IAAIjK,EAAM57C,KADmD47C,SAE7Dx1C,IAAIw1C,EAAI0G,cACN1G,EAAAA,YADiCgK,GAEjChK,EAAAA,eAFiCiK,IAKrCzpB,mBA1KyB,SA0KzBA,KAGAC,YA7KyB,SA6KzBA,KAGAC,UAAW,SAAkCwpB,GAC3C,IAAK,IAAIzgD,EAAJ,EAAWqgC,EAAKogB,EAArBvgD,OAAoCF,EAApCqgC,EAA4CrgC,IAAK,CAC/C,IAAIuJ,EAAQk3C,EADmCzgD,GAE3C+B,EAAMwH,EAFqC,GAG3CgB,EAAQhB,EAHmC,GAK/C,UACE,SACE5O,KAAA,aADF4P,GADF,MAIE,SACE5P,KAAA,WADF4P,GAJF,MAOE,SACE5P,KAAA,YADF4P,GAPF,MAUE,SACE5P,KAAA,cADF4P,GAVF,MAaE,QACE5P,KAAA,QAAa4P,EAAb,GAAuBA,EADzB,IAbF,MAgBE,SACE5P,KAAA,mBADF4P,GAhBF,MAmBE,SACE5P,KAAA,YADF4P,GAnBF,MAsBE,WACE5P,KAAA,QAAa4P,EAAb,GAAuBA,EADzB,IAtBF,MAyBE,SACE5P,KAAA,oBAA2B4O,EAD7B,GAzBF,MA4BE,SACE5O,KAAA,kBAAyB4O,EAD3B,GAEE5O,KAAA,gBAAuB4O,EAFzB,GA5BF,MAgCE,SACE5O,KAAA,6BADF4P,EAhCF,MAmCE,YACM5P,KAAKk9C,QAATsI,cAKIxlD,KAAK+lD,WAAWxgD,OAAS,GACzBvF,KAAK+lD,WAAW/lD,KAAK+lD,WAAWxgD,OAAhC,iBACEvF,KAAKk9C,QAHTsI,YAKExlD,KADAgmD,oBAGAhmD,KADKylD,iBAITzlD,KAAA,oBAA2B4P,EAAQ5P,KAAR4P,UAf7B,KAgBM5P,KAAKk9C,QAATsI,aACExlD,KAD4BimD,kBAG9BjmD,KAAA,UAnBF,KAnCF,MAwDE,SACEA,KAAA,qBAzDJ4P,KA6DJq2C,gBAAiB,WACf,IAAIT,EAAcxlD,KAAKk9C,QADkCsI,YAErDU,EAAaV,EAAYt5B,OAF4BlgB,MAGrDm6C,EAAcX,EAAYt5B,OAH2BjgB,OAIrDm6C,EAAU,eAAiBpmD,KAJ0BqmD,WAKrDC,EAAgBtmD,KAAKwkD,eAAe9E,UAAU,EAA9B,KALqC,GAYrD6G,EAAavmD,KAZwC47C,IAarD4K,EAAmBD,EAbkC7H,oBAczD1+C,KAAA,IAdyDu8B,OAgBzD,IAAIkqB,EAAWH,EAhB0C1iD,QAiBzD6iD,EAAAA,MAAe,EAAIjB,EAAnBiB,OAAuC,EAAIjB,EAjBckB,QAkBzDD,EAAAA,WAAoBjB,EAApBiB,SAA0CjB,EAlBe72B,SAmBzD83B,EAAAA,UAAAA,MAAAA,EAnByDD,GAqBzDhB,EAAAA,sBAAoCiB,EArBqBE,2BAuBzDC,EAAAA,EAvByDH,GAwBzDzmD,KAAA,IAxByDymD,EAyBzDzmD,KAAA,UAAe,CACb,CAAC,KAAM,eACP,CAAC,KAAM,GACP,CAAC,KAAM,KAETA,KAAA,gBA9ByDumD,GA+BzDvmD,KA/ByDqmD,cAiC3DL,kBAAmB,WAGjB,IAAIS,EAAWzmD,KAH0C47C,IAIzD57C,KAJyDqmD,aAKzDrmD,KAAA,IAAWA,KAAK6mD,WALyCxH,MAOzDgE,EACErjD,KADFqjD,IAEErjD,KAAKk9C,QAFPmG,YAAAA,EAIErjD,KAXuD+uC,cAazD/uC,KAAA,IAbyDw8B,UAczDx8B,KAAA,IAdyDu8B,OAezDqqB,EAAAA,EAAuB5mD,KAfkC47C,KAkBzD57C,KAAA,uBAlByDymD,EAqBzD,IAAIK,EAAiB7iB,EAAAA,KAAAA,UACnBjkC,KAAKk9C,QAAQsI,YADMvhB,sBAEnBwiB,EAvBuD/H,qBAyBzD1+C,KAAA,oBAAyBA,KAAzB47C,IAzByDkL,GA4BzDL,EA5ByDlqB,OA6BzDkqB,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EA7ByD,GA8BzDA,EAAAA,UAAAA,EAAAA,EAAyBA,EAASv6B,OAAlCu6B,MAAgDA,EAASv6B,OA9BAjgB,QA+BzDw6C,EA/ByDjqB,WAiC3DuqB,iBAAkB,WAIhB,IAAIN,EAAWzmD,KAAKk9C,QAJoC8J,eAKpDT,EAAavmD,KALuC47C,IAMxD57C,KAAA,IANwDymD,EAOxDzmD,KAAA,gBAPwDumD,GAQxDvmD,KARwDqmD,cAU1DZ,cAAe,WACb,IAAIgB,EAAWzmD,KADsC47C,IAErD57C,KAFqDqmD,aAGrDrmD,KAAA,IAAWA,KAAK6mD,WAHqCxH,MAKrDgE,EACErjD,KADFqjD,IAEErjD,KAAKk9C,QAFPmG,YAAAA,EAIErjD,KATmD+uC,cAWrD/uC,KAAA,IAXqDw8B,UAYrDoqB,EAAAA,EAAuB5mD,KAZ8B47C,KAerD,IAAIkL,EAAiB7iB,EAAAA,KAAAA,UACnBjkC,KAAKk9C,QAAQsI,YADMvhB,sBAEnBwiB,EAjBmD/H,qBAmBrD1+C,KAAA,oBAAyBA,KAAzB47C,IAnBqDkL,IAqBvDvqB,KAAM,WACJv8B,KAAA,IADmCu8B,OAEnC,IAAI0iB,EAAMj/C,KAFyBk9C,QAGnCl9C,KAAA,gBAHmCi/C,GAInCj/C,KAAA,QAAei/C,EAJoB7+C,QAKnCJ,KAAA,uBALmC,MAOrCw8B,QAAS,WAEHx8B,KAAKk9C,QAAT8J,gBACEhnD,KAD+B+mD,mBAMF,OAA7B/mD,KAAKk9C,QAAQsI,aACe,IAA3BxlD,KAAK+lD,WAAWxgD,QACfvF,KAAK+lD,WAAW/lD,KAAK+lD,WAAWxgD,OAAhC,iBACEvF,KAAKk9C,QAJXsI,aAMExlD,KADAylD,gBAIF,IAAIzlD,KAAK+lD,WAAWxgD,SAClBvF,KAAA,QAAeA,KAAK+lD,WADY1G,MAEhCr/C,KAAA,IAFgCw8B,UAKhCx8B,KAAA,YALgC,KAOhCA,KAAA,2BAPgC,OAUpCuvB,UAAW,SAAkCnuB,EAAGyB,EAAG6hC,EAAGjxB,EAAGvI,EAAG4zC,GAC1D9+C,KAAA,wBAD6D8+C,GAG7D9+C,KAAA,2BAH6D,MAO/DuhC,cAAe,SAAsC0lB,EAAKjhD,GAKxD,IAJA,IAAI41C,EAAM57C,KADoD47C,IAE1DsB,EAAUl9C,KAFgDk9C,QAG1Dp9C,EAAIo9C,EAARp9C,EACEC,EAAIm9C,EAJwDn9C,EAKrDsF,EAAJ,EAAWiB,EAAX,EAAkBo/B,EAAKuhB,EAA5B1hD,OAAwCF,EAAxCqgC,EAAgDrgC,IAC9C,SAAQ4hD,EAAI5hD,IACV,KAAK+/C,EAAAA,IAALroB,UACEj9B,EAAIkG,EAAKM,KACTvG,EAAIiG,EAAKM,KACT,IAAI0F,EAAQhG,EAAKM,KACb2F,EAASjG,EAAKM,KACJ,IAAV0F,GAAe4vC,EAAIsL,UAAYlnD,KAAnCmnD,wBACEn7C,EAAQhM,KADqDmnD,uBAGhD,IAAXl7C,GAAgB2vC,EAAIsL,UAAYlnD,KAApCmnD,wBACEl7C,EAASjM,KADqDmnD,uBAGhE,IAAIC,EAAKtnD,EAXXkM,EAYMq7C,EAAKtnD,EAZXkM,EAaE2vC,EAAAA,OAAAA,EAbF77C,GAcE67C,EAAAA,OAAAA,EAdF77C,GAeE67C,EAAAA,OAAAA,EAfFyL,GAgBEzL,EAAAA,OAAAA,EAhBFyL,GAiBEzL,EAAAA,OAAAA,EAjBF77C,GAkBE67C,EAlBF9e,YADF,MAqBE,KAAKsoB,EAAAA,IAAL3oB,OACE38B,EAAIkG,EAAKM,KACTvG,EAAIiG,EAAKM,KACTs1C,EAAAA,OAAAA,EAHF77C,GArBF,MA0BE,KAAKqlD,EAAAA,IAAL1oB,OACE58B,EAAIkG,EAAKM,KACTvG,EAAIiG,EAAKM,KACTs1C,EAAAA,OAAAA,EAHF77C,GA1BF,MA+BE,KAAKqlD,EAAAA,IAALzoB,QACE78B,EAAIkG,EAAKM,EADX,GAEEvG,EAAIiG,EAAKM,EAFX,GAGEs1C,EAAAA,cACE51C,EADF41C,GAEE51C,EAAKM,EAFPs1C,GAGE51C,EAAKM,EAHPs1C,GAIE51C,EAAKM,EAJPs1C,GAAAA,EAHF77C,GAWEuG,GAXF,EA/BF,MA4CE,KAAK8+C,EAAAA,IAALxoB,SACEgf,EAAAA,cAAAA,EAAAA,EAGE51C,EAHF41C,GAIE51C,EAAKM,EAJPs1C,GAKE51C,EAAKM,EALPs1C,GAME51C,EAAKM,EAPT,IASExG,EAAIkG,EAAKM,EATX,GAUEvG,EAAIiG,EAAKM,EAVX,GAWEA,GAXF,EA5CF,MAyDE,KAAK8+C,EAAAA,IAALvoB,SACE/8B,EAAIkG,EAAKM,EADX,GAEEvG,EAAIiG,EAAKM,EAFX,GAGEs1C,EAAAA,cAAkB51C,EAAlB41C,GAA2B51C,EAAKM,EAAhCs1C,GAAAA,EAAAA,EAAAA,EAHF77C,GAIEuG,GAJF,EAzDF,MA+DE,KAAK8+C,EAAAA,IAALtoB,UACE8e,EADF9e,YAKJogB,EAAAA,gBAAAA,EA1E8Dn9C,IA4EhE+8B,UAAW,WACT98B,KAAA,IAD6C88B,aAG/CE,OAAQ,SAA+BsqB,GACrCA,EAAqC,qBAAhBA,GAA8BA,EACnD,IAAI1L,EAAM57C,KAFwC47C,IAG9C2L,EAAcvnD,KAAKk9C,QAH2BqK,YAOlD,GADA3L,EAAAA,YAAkB57C,KAAKk9C,QAN2BsK,YAO9CxnD,KAAJynD,eACE,GACEF,GACAA,EAAYhkD,eADZgkD,SADF,YAGEA,EAAYl9C,KACZ,CAGAuxC,EAHArf,OAQA,IAAMhN,EAAYqsB,EARlB8C,oBASMlqC,EAAQyvB,EAAAA,KAAAA,8BAAAA,GATd,GAUA2X,EAAAA,YAAkB2L,EAAYG,WAAW9L,EAVzC,MAWAA,EAAAA,UAAgB15C,KAAKsR,IACnBxT,KAAKmnD,sBADSjlD,EAEdlC,KAAKk9C,QAAQgK,UAbf1yC,GAeAonC,EAfA5e,SAgBA4e,EAhBApf,eAmBAof,EAAAA,UAAgB15C,KAAKsR,IACnBxT,KAAKmnD,sBADSjlD,EAEdlC,KAAKk9C,QAJFgK,WAMLtL,EANK5e,SAST,GACEh9B,KADesnD,cAIjB1L,EAAAA,YAAkB57C,KAAKk9C,QA1C2ByK,WA4CpD1qB,YAAa,WACXj9B,KADiD88B,YAEjD98B,KAFiDg9B,UAInDE,KAAM,SAA6BoqB,GACjCA,EAAqC,qBAAhBA,GAA8BA,EACnD,IAAI1L,EAAM57C,KAFoC47C,IAG1CgM,EAAY5nD,KAAKk9C,QAHyB0K,UAK1CC,GAL0C,EAI1B7nD,KAAKk9C,QAJqB4K,cAQ5ClM,EADiBrf,OAEbv8B,KAAJ+nD,eACEnM,EAAAA,aAAAA,MAAAA,EAA4B57C,KADN+nD,eAGxBnM,EAAAA,UAAgBgM,EAAUF,WAAW9L,EALpB,MAMjBiM,GANiB,GASf7nD,KAAJynD,iBACMznD,KAAJgoD,eACEpM,EAAAA,KADsB,WAEtB57C,KAAA,eAFsB,GAItB47C,EADK1e,QAKT,GACE0e,EADepf,UAGjB,GACEx8B,KADesnD,eAInBnqB,OAAQ,WACNn9B,KAAA,eADuC,EAEvCA,KAFuCk9B,QAIzCE,WAAY,WACVp9B,KAAA,MAD+C,GAE/CA,KAAA,QAF+C,GAI/CA,KAJ+CsnD,eAMjDjqB,aAAc,WACZr9B,KAAA,eADmD,EAEnDA,KAFmDo9B,cAIrDE,gBAAiB,WACft9B,KADyD88B,YAEzD98B,KAFyDo9B,cAI3DG,kBAAmB,WACjBv9B,KAAA,eAD6D,EAE7DA,KAF6D88B,YAG7D98B,KAH6Do9B,cAK/DI,QAAS,WACPx9B,KADyCsnD,eAK3C7pB,KAAM,WACJz9B,KAAA,YADmCokD,GAGrC1mB,OAAQ,WACN19B,KAAA,YADuCqkD,GAKzC1mB,UAAW,WACT39B,KAAA,mBAD6CsvB,EAAAA,gBAE7CtvB,KAAA,wBAF6C,EAG7CA,KAAA,UAAiBA,KAAKk9C,QAAQ+K,MAHe,EAI7CjoD,KAAA,UAAiBA,KAAKk9C,QAAQgL,MAJe,GAM/CtqB,QAAS,WACP,IAAIuqB,EAAQnoD,KAD6BooD,iBAErCxM,EAAM57C,KAF+B47C,IAGzC,QAAAx1C,IAAI+hD,EAAJ,CAKAvM,EARyCrf,OASzCqf,EATyCyM,YAUzC,IAAK,IAAIhjD,EAAT,EAAgBA,EAAI8iD,EAApB5iD,OAAkCF,IAAK,CACrC,IAAIijD,EAAOH,EAD0B9iD,GAErCu2C,EAAAA,aAAAA,MAAAA,EAA4B0M,EAFS/4B,WAGrCqsB,EAAAA,UAAc0M,EAAd1M,EAAsB0M,EAHevoD,GAIrCuoD,EAAAA,UAAAA,EAAoBA,EAJiBC,UAMvC3M,EAhByCpf,UAiBzCof,EAjByCne,OAkBzCme,EAlByCyM,mBAmBlCroD,KAnBkCooD,sBAIvCxM,EADuByM,aAkB3BxqB,eAAgB,SAAuC2qB,GACrDxoD,KAAA,oBAD8DwoD,GAGhE1qB,eAAgB,SAAuC0qB,GACrDxoD,KAAA,oBAD8DwoD,GAGhEzqB,UAAW,SAAkCvpB,GAC3CxU,KAAA,mBAA0BwU,EADwB,KAGpDwpB,WAAY,SAAmCyqB,GAC7CzoD,KAAA,iBADsDyoD,GAGxDxqB,QAAS,SAAgCyqB,EAAa9gC,GACpD,IAAI+gC,EAAU3oD,KAAKqtC,WAAWx3B,IAD4B6yC,GAEtDxL,EAAUl9C,KAF4Ck9C,QAI1D,IAAAyL,EACE,MAAM,IAAI//C,MAAM,uBAAV,OAAU8/C,IAyBlB,GAtBAxL,EAAAA,WAAqByL,EAAQC,WACzBD,EADiBA,WARqCr5B,EAAAA,qBAc5B,IAA1B4tB,EAAQ0L,WAAW,IAAvB,IAAmC1L,EAAQ0L,WAAW,KACpD/8C,EAAAA,EAAAA,MAAK,gCADyD68C,GAM5D9gC,EAAJ,GACEA,GADYA,EAEZs1B,EAAAA,eAFY,GAIZA,EAAAA,cADK,EAIPl9C,KAAA,aA3B0D2oD,EA4B1D3oD,KAAA,iBA5B0D4nB,GA8BtD+gC,EAAJE,YAAA,CAIA,IAAIhkD,EAAO8jD,EAAQrM,YAlCuC,aAoCtDwM,EApCsD,SAqCtDH,EAAJjH,MACEoH,EADiB,MAERH,EAAJG,OACLA,EADuB,QAGzB,IAAIC,EAASJ,EAAQI,OAAS,SA1C4B,SA2CtDC,EAAW,IAAXA,OAAWnkD,EAAXmkD,OAAAA,OAAyBL,EAAdM,cAMXC,EAjDsDthC,EAkDtDA,EA7gDV,GA8gDQshC,EA9gDR,GA+gDiBthC,EA/gDjB,MAghDQshC,EAhhDR,KAkhDMlpD,KAAA,sBAA6B4nB,EAvD6BshC,EAyD1DlpD,KAAA,mBAAgB+oD,EAAhB,YAAgBD,EAAhB,YAAgBI,EAAhB,cAAgBF,KAElB9qB,qBAAsB,SAA6CirB,GACjEnpD,KAAA,0BADuEmpD,GAGzEhrB,YAAa,SAAoCirB,GAC/CppD,KAAA,iBADqDopD,GAGvDhrB,SAAU,SAAiCt+B,EAAGC,GAC5CC,KAAA,UAAiBA,KAAKk9C,QAAQ+K,OADiBnoD,EAE/CE,KAAA,UAAiBA,KAAKk9C,QAAQgL,OAFiBnoD,GAIjDs+B,mBAAoB,SAA2Cv+B,EAAGC,GAChEC,KAAA,YADmED,GAEnEC,KAAA,WAFmED,IAIrEu+B,cAAe,SAAsCl9B,EAAGyB,EAAG6hC,EAAGjxB,EAAGvI,EAAG4zC,GAClE9+C,KAAA,mBAA0B,CAACoB,EAAGyB,EAAG6hC,EAAGjxB,EAAGvI,EAAG4zC,GAC1C9+C,KAAA,wBAA+BkC,KAAKC,KAAKf,EAAIA,EAAIyB,EAFoBA,GAIrE7C,KAAA,UAAiBA,KAAKk9C,QAAQ+K,MAJuC,EAKrEjoD,KAAA,UAAiBA,KAAKk9C,QAAQgL,MALuC,GAOvE3pB,SAAU,WACRv+B,KAAA,WAAiBA,KAAKk9C,QADqBuL,UAI7CY,UA1rByB,SA0rBzBA,EAAAA,EAAAA,EAAAA,GACE,IAD2CC,EACvC1N,EAAM57C,KADiC47C,IAEvCsB,EAAUl9C,KAF6Bk9C,QAGvCrb,EAAOqb,EAHgCrb,KAIvC0nB,EAAoBrM,EAJmBqM,kBAKvChB,EAAWrL,EAAQqL,SAAWrL,EALSsM,cAMvCC,EACFF,EAAoBxJ,EAAAA,kBAPqB9pB,iBAQvCyzB,KACFH,EAAoBxJ,EAAAA,kBATqB7pB,kBAWrC4xB,EAAc5K,EAAQ4K,cAAgBjmB,EAXD0Y,aAcvC1Y,EAAK+F,iBAAmB8hB,GAA5B5B,KACEwB,EAAYznB,EAAKkb,iBAAiB/8C,KAAtB6hC,WAD6Cob,IAIvDpb,EAAK+F,iBAATkgB,GACElM,EADuCrf,OAEvCqf,EAAAA,UAAAA,EAFuC77C,GAGvC67C,EAHuCyM,YAIvCiB,EAAAA,EAJuCf,GAKvC,GACE3M,EAAAA,aAAAA,MAAAA,EADoB+N,GAIpBF,IAAmB1J,EAAAA,kBAAnB0J,MACAA,IAAmB1J,EAAAA,kBAFrBpqB,aAIEimB,EADA1e,OAIAusB,IAAmB1J,EAAAA,kBAAnB0J,QACAA,IAAmB1J,EAAAA,kBAFrBpqB,aAIEimB,EADA5e,SAGF4e,EApBuCpf,YAuBrCitB,IAAmB1J,EAAAA,kBAAnB0J,MACAA,IAAmB1J,EAAAA,kBAFrBpqB,aAIEimB,EAAAA,SAAAA,EAAAA,EADA77C,GAIA0pD,IAAmB1J,EAAAA,kBAAnB0J,QACAA,IAAmB1J,EAAAA,kBAFrBpqB,aAIEimB,EAAAA,WAAAA,EAAAA,EADA77C,IAKJ,IACcC,KAAKooD,mBAAqBpoD,KAAKooD,iBADzB,KAElBD,KAAW,CACT54B,UAAWqsB,EADF8C,oBAAA5+C,EAAAA,EAAAC,EAAAA,EAAAwoD,SAAAA,EAAAe,UAAAA,KAUf,8BAGE,IAAM1N,EAAmB57C,KAAKwkD,eAAe9E,UAAU,0BAA9B,GAHG,IAGpB97C,QAKRg4C,EAAAA,MAAAA,IAR4B,GAS5BA,EAAAA,SAAAA,IAAAA,EAT4B,IAY5B,IAFA,IAAIz7B,EAAOy7B,EAAIY,aAAa,EAAG,EAAG,GAAI,IAVVr8B,KAWxBsK,GAXwB,EAYnBplB,EAAT,EAAgBA,EAAI8a,EAApB5a,OAAiCF,GAAjC,EACE,GAAI8a,EAAK9a,GAAK,GAAK8a,EAAK9a,GAAxB,IAAkC,CAChColB,GADgC,QAKpC,OAAOiZ,EAAAA,EAAAA,QAAAA,KAAAA,0BAlBqBjZ,IAqB9B+T,SAAU,SAAiCorB,GACzC,IAAI1M,EAAUl9C,KADmCk9C,QAE7Crb,EAAOqb,EAFsCrb,KAGjD,GAAIA,EAAJgnB,YACE,OAAO7oD,KAAK6pD,cADQD,GAItB,IAAIrB,EAAWrL,EAPkCqL,SAQjD,OAAIA,EAAJ,CAIA,IAZiDoB,EAY7C/N,EAAM57C,KAZuC47C,IAa7C4N,EAAgBtM,EAb6BsM,cAc7CM,EAAc5M,EAd+B4M,YAe7CC,EAAc7M,EAf+B6M,YAgB7CC,EAAgB9M,EAhB6B8M,cAiB7CC,EAAa/M,EAAQ+M,WAjBwBD,EAkB7CE,EAAeN,EAlB8BrkD,OAmB7C4kD,EAAWtoB,EAnBkCsoB,SAoB7CC,EAAaD,EAAW,GApBqB,EAqB7CE,EAAkBxoB,EArB2BwoB,gBAsB7CC,EAAoB/B,EAAWrL,EAAQ0L,WAtBM,GAwB7C2B,EACFrN,EAAQqM,oBAAsBxJ,EAAAA,kBAA9B7C,OACCrb,EADDqb,kBAECA,EA3B8C4K,YA+BjD,GAFAlM,EA7BiDrf,OA+B7C2gB,EAAJ4K,YAAyB,CAGvBlM,EAHuBrf,OAIvB,IAAMiuB,EAAUtN,EAAQ0K,UAAUF,WAAW9L,EAJtB,MAKvB+N,EAAmB/N,EALI8C,oBAMvB9C,EANuBpf,UAOvBof,EAAAA,UAPuB4O,EASzB5O,EAAAA,UAAAA,MAAAA,EAAyBsB,EAxCwBuN,YAyCjD7O,EAAAA,UAAcsB,EAAdtB,EAAyBsB,EAAQn9C,EAAIm9C,EAzCYwN,UA2C7CV,EAAJ,EACEpO,EAAAA,MAAAA,GADqB,GAGrBA,EAAAA,MAAAA,EADK,GAIP,IAAIsL,EAAYhK,EAjDiCgK,UAkD7C1yC,EAAQ0oC,EAlDqCyN,gBAmDjD,GAAc,IAAVn2C,GAAJ,IAAmB0yC,EAAiB,CAClC,IAAIuC,EACFvM,EAAQqM,kBAAoBxJ,EAAAA,kBAFI9pB,iBAIhCwzB,IAAmB1J,EAAAA,kBAAnB0J,QACAA,IAAmB1J,EAAAA,kBAFrBpqB,cAIE31B,KAAA,2BADA,KAEAknD,EAAYlnD,KAAKmnD,sBAFjB3I,QAKF0I,GADK1yC,EAIP,IAAIg1C,IACF5N,EAAAA,MAAAA,EADyB4N,GAEzBtC,GAFyBsC,GAK3B5N,EAAAA,UAtEiDsL,EAwEjD,IAxEiD7hD,EAwE7CvF,EAAJ,EAEA,IAAKuF,EAAL,EAAYA,EAAZ6kD,IAAA7kD,EAAmC,CACjC,IAAIulD,EAAQhB,EADqBvkD,GAEjC,IAAIwlD,EAAAA,EAAAA,OAAJD,GACE9qD,GAAMsqD,EAAaQ,EAAdrC,EADW,QAAlB,CAKA,IAIA,MAXiCuC,EAc/B,IADYC,EANVC,GAP6B,EAQ7BxC,GAAWoC,EAAA,UAAD,GARmBd,EAS7B7M,EAAY2N,EATiBK,SAU7BC,EAASN,EAVoBM,OAY7Bl/C,EAAQ4+C,EAZqB5+C,MA4BjC,GAfA,GAEEm/C,EAAUP,EAAMO,SAFJd,EAIZe,IADAA,EAAKR,EAAMO,QAAUA,EAAhBP,GAHO,GAGsB5+C,GAHtBs+C,EAKZS,EAAKI,EAAQ,GALDb,EAOZt+C,EAAQm/C,GAAWA,EAAXA,GAPIn/C,EAQZq/C,EAAUD,EARE5B,EASZ8B,GAAWxrD,EAADirD,GATEvB,IAWZ6B,EAAUvrD,EADL0pD,EAEL8B,EAFK,GAKHzpB,EAAK0pB,WAAav/C,EAAtB,EAAiC,CAI/B,IAAIw/C,EACD,IAAC5P,EAAI6P,YAAYxO,GAAWjxC,MAA7Bu8C,EAL6BiB,EAO/B,GAAIx9C,EAAQw/C,GAAiBxrD,KAA7B0rD,wBAA2D,CACzD,IAAIC,EAAkB3/C,EADmCw/C,EAEzDR,GAFyD,EAGzDpP,EAHyDrf,OAIzDqf,EAAAA,MAAAA,EAJyD,GAKzDyP,GALyDM,OAMhD3/C,IAAJw/C,IACLH,IACKr/C,EAADw/C,GAAD,IAADjD,EAFgCiB,GAQlCxpD,KAAKynD,iBAAmBmD,EAAMgB,UAAY/pB,EAA9C0Y,eACMgQ,IAAJW,EAEEtP,EAAAA,SAAAA,EAAAA,EAF6B0P,IAI7BtrD,KAAA,gBADK2pD,GAEL,IACEkC,EACER,EAAW9C,EAAW2C,EAAOzP,OAAnB37C,EAFF0pD,EAGVsB,EACEQ,EAAW/C,EAAW2C,EAAOzP,OAAnB17C,EAJFypD,EAKVxpD,KAAA,UACEkrD,EADFD,SAAAA,EAAAA,EALUtB,MAqBhB7pD,GALA,EACckM,EAAQs+C,EAAoB9B,EAD5BwB,EAGAh+C,EAAQs+C,EAAoB9B,EADnCwB,EAKP,GACEpO,EADiBpf,WAIrB,EACE0gB,EAAAA,GADYp9C,EAGZo9C,EAAAA,GAAap9C,EADRmqD,EAGPrO,EAjKiDpf,YAoKnDqtB,cAAe,SAAsCD,GAEnD,IAaA,MAf2DkC,EAEvDlQ,EAAM57C,KAFiD47C,IAGvDsB,EAAUl9C,KAH6Ck9C,QAIvDrb,EAAOqb,EAJgDrb,KAKvD0mB,EAAWrL,EAL4CqL,SAMvDyB,EAAgB9M,EANuC8M,cAOvDI,EAAavoB,EAAKsoB,SAAW,GAP0B,EAQvDL,EAAc5M,EARyC4M,YASvDC,EAAc7M,EATyC6M,YAUvDE,EAAa/M,EAAQ+M,WAVkCD,EAWvDpB,EAAa1L,EAAQ0L,YAXkCt5B,EAAAA,qBAYvD46B,EAAeN,EAZwCrkD,OAiB3D,GAHE23C,EAAQqM,oBAAsBxJ,EAAAA,kBAd2BnqB,WAiB3D,IAAuB2yB,EAAvB,CAWA,IARAvoD,KAAA,2BApB2D,KAsB3D47C,EAtB2Drf,OAuB3Dqf,EAAAA,UAAAA,MAAAA,EAAyBsB,EAvBkCuN,YAwB3D7O,EAAAA,UAAcsB,EAAdtB,EAAyBsB,EAxBkCn9C,GA0B3D67C,EAAAA,MAAAA,EA1B2DoO,GA4BtD3kD,EAAL,EAAYA,EAAZ6kD,IAAA7kD,EAEE,GADAulD,EAAQhB,EADyBvkD,IAE7BwlD,EAAAA,EAAAA,OAAJD,GACEkB,EAAiB1B,EAAaQ,EAAdrC,EADA,IAEhBvoD,KAAA,gBAFgB,GAGhBk9C,EAAAA,GAAa4O,EAHG7B,MAAlB,CAOA,IAAIzB,GAAWoC,EAAA,UAAD,GATmBd,EAU7Bla,EAAe/N,EAAKkqB,qBAAqBnB,EAVZoB,gBAWjCpc,GAII5vC,KAAJynD,iBACEznD,KAAA,gBADuB4qD,EAEvB5qD,KAFuBu8B,OAGvBqf,EAAAA,MAAAA,EAHuB2M,GAIvB3M,EAAAA,UAAAA,MAAAA,EAJuBgN,GAKvB5oD,KAAA,oBALuB4vC,GAMvB5vC,KANuBw8B,WAUzBxwB,EADkBsjB,EAAAA,KAAAA,eAAoB,CAACs7B,EAAD5+C,MAAAA,GAxBL48C,GAyBb,GAAKL,EAzBQC,EA2BjC5M,EAAAA,UAAAA,EA3BiC,GA4BjCsB,EAAAA,GAAalxC,EA5BoBi+C,IAY/Bp+C,EAAAA,EAAAA,MAAAA,oBAAAA,OAAyB++C,EAApBoB,eAALngD,wBAkBJ+vC,EA1D2Dpf,UA2D3Dx8B,KAAA,gBA3D2D,OA+D7D4+B,aAAc,SAAqCqtB,EAAQC,KAI3DrtB,sBAAuB,SAA8C,EAA9C,WAUrB7+B,KAAA,aAAwBmsD,EAAxBC,EAAmCC,EAHnCC,GAIAtsD,KAJAy9B,OAKAz9B,KALAw9B,WASF+uB,kBAAmB,SAA0CC,GAAI,IAAAhC,EAAA,OAE/D,qBAAIgC,EAAG,GAAwB,CAC7B,IAAIC,EAAQD,EADiB,GAEzBzE,EACF/nD,KAAK+nD,eAAiB/nD,KAAK47C,IAAI8C,oBAHJ15C,QAIzB0nD,EAAwB,CAC1BC,qBAAsB/Q,SAAAA,GACpB,OAAO,IAAIqE,EAAe,EAExB,EAFK5S,WAGL,EAHKsC,KAIL,EAJKtB,cAKL,EANyBU,gBAU/Byb,EAAU,IAAI,EAAJ,kBAGRxqD,KAHQ47C,IAAAA,EAfmBmM,QAuB7ByC,GAAUoC,EAAAA,EAAAA,yBADLJ,GAGP,OA3B+DhC,GA6BjEvrB,gBAAiB,WACfj/B,KAAA,oBAA2BA,KAAKusD,kBADyBrmD,YAG3Di5B,cAAe,WACbn/B,KAAA,kBAAyBA,KAAKusD,kBADuBrmD,WAErDlG,KAAA,qBAFqD,GAIvDs/B,kBAAmB,SAA0ChnB,EAAG4rB,EAAGrhC,GACjE,IAAI4pD,EAAQxoB,EAAAA,KAAAA,WAAAA,EAAAA,EADwDphC,GAEpE7C,KAAA,gBAFoEysD,EAGpEzsD,KAAA,oBAHoEysD,GAKtEltB,gBAAiB,SAAwCjnB,EAAG4rB,EAAGrhC,GAC7D,IAAI4pD,EAAQxoB,EAAAA,KAAAA,WAAAA,EAAAA,EADoDphC,GAEhE7C,KAAA,cAFgEysD,EAGhEzsD,KAAA,kBAHgEysD,EAIhEzsD,KAAA,qBAJgE,GAOlE0/B,YAAa,SAAoCmtB,GAC/C,GAAK7sD,KAALynD,eAAA,CAGA,IAAI7L,EAAM57C,KAJgD47C,IAM1D57C,KAN0Du8B,OAO1D,IAAIiuB,GAAUoC,EAAAA,EAAAA,yBAP4CC,GAQ1DjR,EAAAA,UAAgB4O,EAAQ9C,WAAW9L,EAAK57C,MARkB,GAU1D,IAAI8sD,EAAMlR,EAVgD+K,2BAW1D,KAAS,CACP,IAAIz6B,EAAS0vB,EADN1vB,OAEHlgB,EAAQkgB,EAFLlgB,MAGHC,EAASigB,EAHNjgB,OAKH8gD,EAAKz9B,EAAAA,KAAAA,eAAoB,CAAC,EAAG,GAL1Bw9B,GAMHE,EAAK19B,EAAAA,KAAAA,eAAoB,CAAC,EAAGrjB,GAN1B6gD,GAOHG,EAAK39B,EAAAA,KAAAA,eAAoB,CAACtjB,EAAO,GAP9B8gD,GAQHI,EAAK59B,EAAAA,KAAAA,eAAoB,CAACtjB,EAAOC,GAR9B6gD,GAUHK,EAAKjrD,KAAKqR,IAAIw5C,EAAT7qD,GAAgB8qD,EAAhB9qD,GAAuB+qD,EAAvB/qD,GAA8BgrD,EAVhC,IAWHE,EAAKlrD,KAAKqR,IAAIw5C,EAAT7qD,GAAgB8qD,EAAhB9qD,GAAuB+qD,EAAvB/qD,GAA8BgrD,EAXhC,IAYHG,EAAKnrD,KAAKsR,IAAIu5C,EAAT7qD,GAAgB8qD,EAAhB9qD,GAAuB+qD,EAAvB/qD,GAA8BgrD,EAZhC,IAaHI,EAAKprD,KAAKsR,IAAIu5C,EAAT7qD,GAAgB8qD,EAAhB9qD,GAAuB+qD,EAAvB/qD,GAA8BgrD,EAbhC,IAePltD,KAAA,iBAA0BqtD,EAA1BF,EAAmCG,EAf5BF,QAuBPptD,KAAA,8BAPK,MAUPA,KArC0Dw8B,YAyC5DmD,iBAAkB,YAChB3T,EAAAA,EAAAA,aAD2D,qCAG7D4T,eAAgB,YACd5T,EAAAA,EAAAA,aADuD,mCAIzDsU,sBAAuB,SAA8C,EAA9C,GAIrB,GAAKtgC,KAALynD,iBAGAznD,KAJAu8B,OAKAv8B,KAAA,wBAA6BA,KAL7B+nD,eAOI5kD,MAAMC,QAAQmqD,IAAlB,IAA6BA,EAAOhoD,QAClCvF,KAAA,gBAAAA,KADgDutD,GAIlDvtD,KAAA,cAAqBA,KAAK47C,IAX1B8C,oBAaA,GAAU,CACR,IAAI1yC,EAAQwhD,EAAK,GAAKA,EADd,GAEJvhD,EAASuhD,EAAK,GAAKA,EAFf,GAGRxtD,KAAA,SAAcwtD,EAAd,GAAuBA,EAAvB,KAHQvhD,GAIRjM,KAJQy9B,OAKRz9B,KALQw9B,YASZ+C,oBAAqB,WACdvgC,KAALynD,iBAGAznD,KAJiEw8B,UAKjEx8B,KAAA,cAAqBA,KAAKytD,mBALuCpO,QAQnE7e,WAAY,SAAmCktB,GAC7C,GAAK1tD,KAALynD,eAAA,CAIAznD,KALoDu8B,OAMpD,IAAIgqB,EAAavmD,KANmC47C,IAoB/C8R,EAALC,WACE3Y,EAAAA,EAAAA,MADmB,sCAMjB0Y,EAAJE,WACE/hD,EAAAA,EAAAA,MADkB,kCAIpB,IAAI26C,EAAmBD,EA9B6B7H,oBAkCpD,GAHIgP,EAAJH,QACEhH,EAAAA,UAAAA,MAAAA,EAAuCmH,EADvBH,SAGbG,EAALF,KACE,MAAM,IAAI5kD,MADK,6BAMjB,IAAIoe,EAASid,EAAAA,KAAAA,2BACXypB,EADWzpB,KAEXsiB,EA1CkD7H,qBA6ChDmP,EAAe,CAAC,EAAD,EAGjBtH,EAAWr6B,OAHMlgB,MAIjBu6C,EAAWr6B,OAJMjgB,QAMnB+a,EAASid,EAAAA,KAAAA,UAAAA,EAAAA,IAAwC,CAAC,EAAG,EAAG,EAAG,GAG3D,IAAIvV,EAAUxsB,KAAKiU,MAAM6Q,EAtD2B,IAuDhD2H,EAAUzsB,KAAKiU,MAAM6Q,EAvD2B,IAwDhDk/B,EAAahkD,KAAKsR,IAAItR,KAAK8b,KAAKgJ,EAAV9kB,IAATA,EAxDmC,GAyDhDikD,EAAcjkD,KAAKsR,IAAItR,KAAK8b,KAAKgJ,EAAV9kB,IAATA,EAzDkC,GA0DhD4rD,EAAJ,EACEpH,EA3DkD,EA4DhDR,EAAJ3H,IACEuP,EAAS5H,EADsB3H,EAE/B2H,EAF+B3H,GAI7B4H,EAAJ5H,IACEmI,EAASP,EADuB5H,EAEhC4H,EAFgC5H,GAKlC,IAAI6H,EAAU,UAAYpmD,KArE0BqmD,WAsEhDqH,EAAJ/rB,QAEEykB,GAAW,UAAapmD,KAAK+tD,eAFd,GAIjB,IAAIzH,EAAgBtmD,KAAKwkD,eAAe9E,UAAU,EAA9B,KA1EgC,GAgFhD+G,EAAWH,EAhFqC1iD,QAoFpD6iD,EAAAA,MAAe,EAAfA,EAA2B,EApFyBC,GAqFpDD,EAAAA,WAAAA,GArFoD93B,GAsFpD83B,EAAAA,UAAAA,MAAAA,EAtFoDD,GAwFhDkH,EAAJ/rB,MAEE3hC,KAAA,gBAAqB,CACnBksB,OAAQo6B,EADWp6B,OAEnBtoB,QAFmB6iD,EAAA/3B,QAAAA,EAAAC,QAAAA,EAAAm/B,OAAAA,EAAApH,OAAAA,EAOnBlD,QAASkK,EAAM/rB,MAPI6hB,QAQnBN,SAAUwK,EAAM/rB,MARGuhB,SASnBH,YAAa2K,EAAM/rB,MAAMohB,aATN,KAUnBiL,sBAVmB,QAerBzH,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAHK,GAILA,EAAAA,UAAAA,EAJK53B,GAKL43B,EAAAA,MAAAA,EALKG,IASPE,EAAAA,EA/GoDH,GAgHpDzmD,KAAA,IAhHoDymD,EAiHpDzmD,KAAA,UAAe,CACb,CAAC,KAAM,eACP,CAAC,KAAM,GACP,CAAC,KAAM,KAETA,KAAA,gBAtHoDumD,GAuHpDvmD,KAvHoDqmD,aA0HpDrmD,KAAA,oBA1HoD,OA6HtDygC,SAAU,SAAiCitB,GACzC,GAAK1tD,KAALynD,eAAA,CAGAznD,KAJgDqmD,aAKhD,IAAII,EAAWzmD,KALiC47C,IAMhD57C,KAAA,IAAWA,KAAK6mD,WANgCxH,WAShDj5C,IAAIpG,KAAK47C,IAAIqS,sBACXjuD,KAAA,2BADgD,EAGhDA,KAAA,8BADK,EAGH0tD,EAAJ/rB,MACE3hC,KAAA,UAAiBA,KAAKkuD,WADP7O,MAGfr/C,KAAA,cAAmBymD,EAAnBv6B,OAAAA,EADK,GAGPlsB,KAnBgDw8B,YAsBlDkE,iBAAkB,WAChB1gC,KAD2Du8B,OAEvDv8B,KAAJ+nD,eACE/nD,KAAA,uBAA4BA,KAA5B47C,IAAsC57C,KADhB+nD,gBAK1BpnB,eAAgB,WACd3gC,KADuDw8B,WAIzDoE,gBAAiB,SAAwC,EAAxC,KASf,GAJA5gC,KADAu8B,OAEAmoB,EAAkB1kD,KAFlB47C,KAGA57C,KAAA,QAAe,IAHf8/C,EAKI38C,MAAMC,QAAQssB,IAAlB,IAA2BA,EAAKnqB,OAAc,CAC5C,IAAIyG,EAAQ0jB,EAAK,GAAKA,EADsB,GAExCzjB,EAASyjB,EAAK,GAAKA,EAFqB,GAG5C1vB,KAAA,SAAc0vB,EAAd,GAAuBA,EAAvB,KAH4CzjB,GAI5CjM,KAJ4Cy9B,OAK5Cz9B,KAL4Cw9B,UAQ9Cx9B,KAAA,gBAAAA,KAbAuvB,GAcAvvB,KAAA,gBAAAA,KAdAutD,IAiBF1sB,cAAe,WACb7gC,KADqDw8B,WAIvDuE,sBAAuB,SAA8CotB,GACnE,GAAKnuD,KAALynD,eAAA,CAGA,IAAI7L,EAAM57C,KAJ8D47C,IAKpE5vC,EAAQmiD,EAAZniD,MACEC,EAASkiD,EAN6DliD,OAOpE27C,EAAY5nD,KAAKk9C,QAPmD0K,UAQpEwG,EAAgBpuD,KAAKk9C,QAR+C4K,YAUpE8C,EAAQ5qD,KAV4DquD,gBAoBxE,GAR4BzD,QAA5BxkD,IAAqCwkD,EAAM0D,WAEvC1D,EAAAA,SADE5+C,GAlsEZ,KAksE4CC,GAlsE5C,IAgNA,YACE,IAIA,MALkCy5B,EAG9B15B,EAAQq0C,EAAZr0C,MACEC,EAASo0C,EAJuBp0C,OAQhCsiD,EAASviD,EARuB,EAS9BwiD,EAAS,IAAI/gC,WAAW8gC,GAAUtiD,EATJ,IAW9BwiD,EACA,IAAIhhC,WAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,IAG9DihC,EAAY1iD,EAAD,GAAc,EAC3B2iD,EAAQtO,EAhBwBlgC,KAiB9BA,EAAO,IAAIsN,WAAWihC,EAA1BziD,GACEimB,EADF,EAGA,IAAK7sB,EAAI,EAAGqgC,EAAKipB,EAAjBppD,OAA+BF,EAA/BqgC,EAAuCrgC,IAGrC,IAFA,IAAI08C,EAAJ,IACEG,EAAOyM,EAFiCtpD,GAGnC08C,EAAP,GACE5hC,EAAK+R,KAASgwB,EAAOH,EAAO,EADb,IAEfA,IAFe,EAgBnB,IAAI6M,EAvC8B,EA6ClC,IAJA,IAAIzuC,EADJ+R,EAxCkC,KA0ChCs8B,EAAAA,GADmB,IAAAI,GAIhBtoD,EAAL,EAAYA,EAAZ0F,EAAuB1F,IACjB6Z,EAAK+R,KAAS/R,EAAK+R,EAAvB,KACEs8B,EAAAA,GAAYruC,EAAK+R,GAAO,EADO,IAAA08B,GAIjC18B,IAMF,IAJA,IAAI/R,EAAK+R,KACPs8B,EAAAA,GADmB,IAAAI,GAIhBvpD,EAAL,EAAYA,EAAZ4G,EAAwB5G,IAAK,CAE3BwpD,EAAKxpD,EAFsBkpD,EAGvBpuC,GAFJ+R,EAAM7sB,EADqBqpD,GAGvBvuC,KAAyBA,EAA7B+R,KACEs8B,EAAAA,GAAaruC,EAAK+R,GAAO,EADa,IAAA08B,GAMxC,IAAIE,GAAO3uC,EAAA,KAAD,IAAuBA,EAAK+R,EAALw8B,GAAAA,EATN,GAU3B,IAAKpoD,EAAL,EAAYA,EAAZ0F,EAAuB1F,IAKjBmoD,EAJJK,GACGA,GAAD,IACC3uC,EAAK+R,EAAL,KADD,IAEC/R,EAAK+R,EAAMw8B,EAAX,KAJuB,MAMxBF,EAAOK,EAAPL,GAAiBC,EADGK,KAAAF,GAItB18B,IAOF,GALI/R,EAAK+R,EAAL/R,KAAyBA,EAA7B+R,KACEs8B,EAAOK,EAAPL,GAAiBruC,EAAK+R,GAAO,EADS,IAAA08B,GAKpCA,EAlF4B,IAmF9B,OADkC,KAWtC,IALAC,EAAKxpD,EAxF6BkpD,EAyFlC,IAAIpuC,EAFJ+R,EAAMw8B,GAAYziD,EAvFgB,MA0FhCuiD,EAAAA,GADmB,IAAAI,GAIhBtoD,EAAL,EAAYA,EAAZ0F,EAAuB1F,IACjB6Z,EAAK+R,KAAS/R,EAAK+R,EAAvB,KACEs8B,EAAOK,EAAPL,GAAiBruC,EAAK+R,GAAO,EADE,IAAA08B,GAIjC18B,IAMF,GAJA,IAAI/R,EAAK+R,KACPs8B,EAAOK,EAAPL,GADmB,IAAAI,GAIjBA,EAxG8B,IAyGhC,OADkC,KAKpC,IAAI1J,EAAQ,IAAI6J,WAAW,CAAC,EAAGR,GAAJ,KAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IACvBS,EA9G8B,GA+GlC,IAAK3pD,EAAL,EAAYupD,GAASvpD,GAArB4G,EAAkC5G,IAAK,CAGrC,IAFA,IAAI/E,EAAI+E,EAD6BkpD,EAEjC9iC,EAAMnrB,EAF2B0L,EAG9B1L,EAAImrB,IAAQ+iC,EAAnBluD,IACEA,IAEF,GAAIA,IAAJmrB,EAAA,CAGA,IATqCwjC,EASjCC,EAAS,CAAC5uD,EAADiuD,EAAAA,GAETlkD,EAAOmkD,EAAXluD,GACE6uD,EADF7uD,EAGA,EAAG,CACD,IAAI8uD,EAAOlK,EADV76C,GAED,GACE/J,GADC8uD,SAEOZ,EAJTluD,IAOU,KADX2uD,EAAKT,EANJluD,KAOD,KAAgB2uD,GAEd5kD,EAFyB4kD,EAIzBT,EAAAA,GAJyB,IAQzBnkD,EAAO4kD,EAAO,GAAD5kD,GAHR,EAKLmkD,EAAAA,IAAcnkD,GAAD,EAAeA,GALvB,GAQP6kD,EAAAA,KAAY5uD,EApBXiuD,GAqBDW,EAAAA,KAAa5uD,EAADiuD,EArBX,GAuBIC,EAALluD,MAAgBsuD,QAGTO,IAxC4B7uD,GAyCrC0uD,EAAAA,KAzCqCE,KAAA7pD,GA+DvC,OAlBkB,YAChBq/B,EAD6BnI,OAG7BmI,EAAAA,MAAQ,EAARA,GAAoB,EAHSz4B,GAI7By4B,EAAAA,UAAAA,GAJ6Bz4B,GAK7By4B,EAL6B2jB,YAM7B,IAAK,IAAItnD,EAAJ,EAAWsuD,EAAKL,EAArBzpD,OAAsCxE,EAAtCsuD,EAA8CtuD,IAAK,CACjD,IAAIqU,EAAI45C,EADyCjuD,GAEjD2jC,EAAAA,OAAStvB,EAATsvB,GAAetvB,EAFkC,IAGjD,IAAK,IAAI9P,EAAJ,EAAWgqD,EAAKl6C,EAArB7P,OAA+BD,EAA/BgqD,EAAuChqD,GAAvC,EACEo/B,EAAAA,OAAStvB,EAATsvB,GAAetvB,EAAE9P,EAD4B,IAIjDo/B,EAb6BxH,OAc7BwH,EAd6B2jB,YAe7B3jB,EAf6BlI,WAu1DN+yB,CAAkB,CAAEpvC,KAAMguC,EAARhuC,KAAAnU,MAAAA,EAAAC,OAAAA,IAC9B,MAKL2+C,GAASA,EAAb0D,SACE1D,EAAAA,SAD2BhP,OAA7B,CAKA,IAAI4T,EAAaxvD,KAAKwkD,eAAe9E,UAAU,aAA9B,EAzBuDzzC,GA8BpEg3C,EAAUuM,EA9B0D5rD,QA+BxEq/C,EA/BwE1mB,OAiCxEkzB,EAAAA,EAjCwEtB,GAmCxElL,EAAAA,yBAnCwE,YAqCxEA,EAAAA,UAAoBmL,EAChBxG,EAAUF,WAAWzE,EADLmL,MArCoDxG,EAwCxE3E,EAAAA,SAAAA,EAAAA,EAAAA,EAxCwEh3C,GA0CxEg3C,EA1CwEzmB,UA4CxEx8B,KAAA,wBAA6BwvD,EA5C2CtjC,WA+C1EmV,4BA/2CyB,SA+2CzBA,EAAAA,GAOE,IAJAquB,EAIA,uDAPFruB,EAIEsuB,EAGA,uDAPFtuB,EAAAA,EAOE,uCAPFA,EAOE,uCACA,GAAKrhC,KAALynD,eAAA,CAGA,IAAIz7C,EAAQq0C,EAJZr0C,MAKIC,EAASo0C,EALbp0C,OAMI27C,EAAY5nD,KAAKk9C,QANrB0K,UAOIwG,EAAgBpuD,KAAKk9C,QAPzB4K,YASI0H,EAAaxvD,KAAKwkD,eAAe9E,UAAU,aAA9B,EATjBzzC,GAcIg3C,EAAUuM,EAdd5rD,QAeAq/C,EAfA1mB,OAiBAkzB,EAAAA,EAjBApP,GAmBA4C,EAAAA,yBAnBA,YAqBAA,EAAAA,UAAoBmL,EAChBxG,EAAUF,WAAWzE,EADLmL,MArBpBxG,EAwBA3E,EAAAA,SAAAA,EAAAA,EAAAA,EAxBAh3C,GA0BAg3C,EA1BAzmB,UA6BA,IADA,IAAIof,EAAM57C,KA5BV47C,IA6BSv2C,EAAJ,EAAWqgC,EAAK3lB,EAArBxa,OAAuCF,EAAvCqgC,EAA+CrgC,GAA/C,EACEu2C,EADqDrf,OAErDqf,EAAAA,UAAAA,EAAAA,EAAAA,EAAAA,EAKE77B,EALF67B,GAME77B,EAAU1a,EARyC,IAUrDu2C,EAAAA,MAAAA,GAVqD,GAWrDA,EAAAA,UAAc4T,EAAd5T,OAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,EAAAA,EAXqD,GAYrDA,EAZqDpf,YAgBzDwE,2BAA4B,SAAmD,GAG7E,GAAKhhC,KAALynD,eAOA,IAJA,IAAI7L,EAAM57C,KAJV47C,IAMIgM,EAAY5nD,KAAKk9C,QANrB0K,UAOIwG,EAAgBpuD,KAAKk9C,QAPzB4K,YAQSziD,EAAJ,EAAWqgC,EAAKkqB,EAArBrqD,OAAoCF,EAApCqgC,EAA4CrgC,IAAK,CAC/C,IAAIwqD,EAAQD,EADmCvqD,GAE3C2G,EAAQ6jD,EAAZ7jD,MACEC,EAAS4jD,EAHoC5jD,OAK3CujD,EAAaxvD,KAAKwkD,eAAe9E,UAAU,aAA9B,EAL8BzzC,GAU3Cg3C,EAAUuM,EAViC5rD,QAW/Cq/C,EAX+C1mB,OAa/CkzB,EAAAA,EAb+CI,GAe/C5M,EAAAA,yBAf+C,YAiB/CA,EAAAA,UAAoBmL,EAChBxG,EAAUF,WAAWzE,EADLmL,MAjB2BxG,EAoB/C3E,EAAAA,SAAAA,EAAAA,EAAAA,EApB+Ch3C,GAsB/Cg3C,EAtB+CzmB,UAwB/Cof,EAxB+Crf,OAyB/Cqf,EAAAA,UAAAA,MAAAA,EAAyBiU,EAzBsBtgC,WA0B/CqsB,EAAAA,MAAAA,GA1B+C,GA2B/CA,EAAAA,UAAc4T,EAAd5T,OAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,EAAAA,EA3B+C,GA4B/CA,EA5B+Cpf,YAgCnDyE,kBAAmB,SAA0CkX,GAC3D,GAAKn4C,KAALynD,eAAA,CAGA,IAAMpH,EAAUlI,EAAMoN,WAAW,MAC7BvlD,KAAKqtC,WAAWx3B,IADJsiC,GAEZn4C,KAAK2vC,KAAK95B,IANoDsiC,GAOlEkI,EAKArgD,KAAA,wBAZkEqgD,IAQhEx0C,EAAAA,EAAAA,MADY,qCAQhBu1B,wBAAyB,SAAgD,EAAhD,OAMvB,GAAKphC,KAALynD,eAAA,CAGA,IAAMpH,EAAUlI,EAAMoN,WAAW,MAC7BvlD,KAAKqtC,WAAWx3B,IADJsiC,GAEZn4C,KAAK2vC,KAAK95B,IANdsiC,GAOA,GAAAkI,EAAA,CAQA,IAHA,IAAIr0C,EAAQq0C,EAZZr0C,MAaIC,EAASo0C,EAbbp0C,OAcIoM,EAdJ,GAeShT,EAAJ,EAAWqgC,EAAK3lB,EAArBxa,OAAuCF,EAAvCqgC,EAA+CrgC,GAA/C,EACEgT,EAAAA,KAAS,CACPkX,UAAW,CAACu+B,EAAQ,EAAG,EAAGpH,EAAQ3mC,EAAvB1a,GAAqC0a,EAAU1a,EAA/C,IACXvF,EAFO,EAGPC,EAHO,EAIP+vD,EAJO9jD,EAKP+jD,EALO9jD,IAQXjM,KAAA,+BAxBAqY,QAQExM,EAAAA,EAAAA,MADY,qCAoBhBq1B,wBAAyB,SAAgD,GAGvE,GAAKlhC,KAALynD,eAAA,CAGA,IAAIz7C,EAAQq0C,EAJZr0C,MAKIC,EAASo0C,EALbp0C,OAMI2vC,EAAM57C,KANV47C,IAQA57C,KARAu8B,OAUAqf,EAAAA,MAAU,EAAVA,GAAsB,EAVtB3vC,GAYA,IAQA,EApBA+jD,EAYIxJ,EAAmB5K,EAZvB+K,2BAaIvlD,EAAIolD,EAAR,GACE3jD,EAAI2jD,EAdN,GAeIyJ,EAAa/tD,KAAKsR,IAAItR,KAAKC,KAAKf,EAAIA,EAAIyB,EAA3BX,GAfjB,GAgBIwiC,EAAI8hB,EAAR,GACE/yC,EAAI+yC,EAjBN,GAkBI0J,EAAchuD,KAAKsR,IAAItR,KAAKC,KAAKuiC,EAAIA,EAAIjxB,EAA3BvR,GAlBlB,GAsBA,GAC0B,oBAAhBiuD,aAA8B9P,aAAtC8P,cACC9P,EAFHlgC,KAIEiwC,EADA/P,MAEK,CAEL,IAAIgQ,GADJL,EAAYhwD,KAAKwkD,eAAe9E,UAAU,cAAe1zC,EADpDC,IAAArI,QAGL0sD,EAAAA,EAAAA,EAAoCtwD,KAAKk9C,QAHpCiD,cAILiQ,EAAaJ,EAJR9jC,OAaP,IANA,IAAIqkC,EAAJvkD,EACEwkD,EAnCFvkD,EAoCIwkD,EApCJ,YAyCGR,EAAa,GAAKM,EAAnB,GACCL,EAAc,GAAKM,EAFtB,GAGE,CACA,IAAIE,EAAJH,EACEI,EAFFH,EAGIP,EAAa,GAAKM,EAAtB,IAEEN,GAAcM,GADdG,EAAWxuD,KAAK8b,KAAKuyC,EADe,KAIlCL,EAAc,GAAKM,EAAvB,IAEEN,GAAeM,GADfG,EAAYzuD,KAAK8b,KAAKwyC,EADgB,MASxCH,GALAL,EAAYhwD,KAAKwkD,eAAe9E,UAAU,EAA9B,EAXZiR,IAAA/sD,SAiBAysD,UAAAA,EAAAA,EAAAA,EAjBAM,GAkBAN,EAAAA,UAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAlBAM,GA6BAP,EAAaJ,EA7Bb9jC,OA8BAqkC,EA9BAG,EA+BAF,EA/BAG,EAgCAF,EAA8B,cAAhBA,EAA8B,YAhC5C,YA8CF,GAZA7U,EAAAA,UAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,EAAAA,EA7EA3vC,GAyFIjM,KAAJouC,WAAqB,CACnB,IAAI9hC,EAAWtM,KAAK4wD,kBAAkB,GADnB3kD,GAEnBjM,KAAA,uBAA4B,CAAAqgD,QAAAA,EAE1Bn0C,KAAMI,EAFoB,GAG1BH,IAAKG,EAHqB,GAI1BN,MAAOA,EAAQw6C,EAJW,GAK1Bv6C,OAAQA,EAASu6C,EALS,KAQ9BxmD,KAnGAw8B,YAsGF2E,6BAA8B,SAAqD,EAArD,GAI5B,GAAKnhC,KAALynD,eAAA,CAGA,IAAI7L,EAAM57C,KAJV47C,IAKIkU,EAAIzP,EALRr0C,MAMI+jD,EAAI1P,EANRp0C,OAQI+jD,EAAYhwD,KAAKwkD,eAAe9E,UAAU,cAAeoQ,EAR7DC,GAUAO,EADaN,EATbpsD,QAUA0sD,EAAoCtwD,KAAKk9C,QAVzCiD,cAYA,IAAK,IAAI96C,EAAJ,EAAWqgC,EAAKrtB,EAArB9S,OAAiCF,EAAjCqgC,EAAyCrgC,IAAK,CAC5C,IAAIwrD,EAAQx4C,EADgChT,GAgB5C,GAdAu2C,EAF4Crf,OAG5Cqf,EAAAA,UAAAA,MAAAA,EAAyBiV,EAHmBthC,WAI5CqsB,EAAAA,MAAAA,GAJ4C,GAK5CA,EAAAA,UACEoU,EADFpU,OAEEiV,EAFFjV,EAGEiV,EAHFjV,EAIEiV,EAJFjV,EAKEiV,EALFjV,EAAAA,GAAAA,EAAAA,EAL4C,GAgBxC57C,KAAJouC,WAAqB,CACnB,IAAI9hC,EAAWtM,KAAK4wD,kBAAkBC,EAAvB/wD,EAAgC+wD,EAD5B9wD,GAEnBC,KAAA,uBAA4B,CAAAqgD,QAAAA,EAE1Bn0C,KAAMI,EAFoB,GAG1BH,IAAKG,EAHqB,GAI1BN,MAJ0B8jD,EAK1B7jD,OAL0B8jD,IAQ9BnU,EA1B4Cpf,aA8BhD8E,yBAA0B,WACnBthC,KAALynD,gBAGAznD,KAAA,mBAJ2E,IAS7E+/B,UAAW,SAAkC+wB,KAG7C9wB,eAAgB,SAAuC8wB,EAAK3O,KAG5DliB,mBAAoB,SAA2C6wB,GAC7D9wD,KAAA,wBAA6B,CAC3B+wD,SAFgE,KAKpE7wB,wBAAyB,SAAgD,EAAhD,GAIvB,OAAI4wB,EACF9wD,KAAA,wBAA6B,CAC3B+wD,QAAS/wD,KAAKiwC,sBAAsB+gB,UAFtB7O,KAKhBniD,KAAA,wBAA6B,CAC3B+wD,SAFG,IAKP/wD,KAAA,eAAsBA,KAVtBixD,oBAYF9wB,iBAAkB,WAChBngC,KAAA,mBAD2Dq/C,MAE3Dr/C,KAAA,eAAsBA,KAFqCixD,oBAO7D7wB,YAAa,aAGbC,UAAW,aAMXinB,YAAa,WACX,IAAI1L,EAAM57C,KADuC47C,IAE7C57C,KAAJkxD,cACMlxD,KAAKkxD,cAAT7M,EACEzI,EAAAA,KADgC,WAGhCA,EADKne,OAGPz9B,KAAA,YANoB,MAQtB47C,EAViDyM,aAYnDlB,oBAhtDyB,SAgtDzBA,GACE,UAAInnD,KAAKmxD,2BAAqC,CAC5C,IAAMC,EAAUpxD,KAAK47C,IADuB+K,2BAG5C3mD,KAAA,2BAAkCkC,KAAKC,KACrCD,KAAKsR,IACH49C,EAAQ,GAAKA,EAAbA,GAA0BA,EAAQ,GAAKA,EADzClvD,GAEEkvD,EAAQ,GAAKA,EAAbA,GAA0BA,EAAQ,GAAKA,EANC,KAU9C,OAAOpxD,KAXkBmxD,4BAa3BP,kBAAmB,SAA0C9wD,EAAGC,GAC9D,IAAIwvB,EAAYvvB,KAAK47C,IAD4C8C,oBAEjE,MAAO,CACLnvB,EAAU,GAAKzvB,EAAIyvB,EAAU,GAA7BA,EAAsCA,EADjC,GAELA,EAAU,GAAKzvB,EAAIyvB,EAAU,GAA7BA,EAAsCA,EAFjC,KAMT0hC,iBAAkB,WAChB,IAAK,IAAI5rD,EAAIrF,KAAKqxD,mBAAmB9rD,OAArC,EAAiDF,GAAjD,EAAyDA,IACvD,IAAKrF,KAAKqxD,mBAAmBhsD,GAA7B0rD,QACE,OADuC,EAI3C,OAN2D,IAU/D,MACE9Q,EAAAA,UAAyBmF,EAAAA,IAAzBnF,IAAoCA,EAAe9/C,UADjCmxD,GAIpB,OAprEqDrR,EAAjC,+HCpCtB,YACE,IAAIsR,EAAYC,EAAWC,EADS,IAEpC,IAAAF,EACE,MAAM,IAAI3oD,MAAM,oBAAV,OAA8B6oD,EAApB,KAElB,OAAOF,EAAUG,OALmBD,2BAjYtC,WAEID,EAjBJ,GAmBA,gBACE,GAAKhE,GAAL,qBAAoBmE,OAApB,CAGA,IAAM3lD,EAAQwhD,EAAK,GAAKA,EAJW,GAK7BvhD,EAASuhD,EAAK,GAAKA,EALU,GAM7BxlD,EAAS,IANoB2pD,OAOnC3pD,EAAAA,KAAYwlD,EAAZxlD,GAAqBwlD,EAArBxlD,GAAAA,EAPmCiE,GAQnC2vC,EAAAA,KARmC5zC,IAWrCwpD,EAAAA,YAAyB,CACvBE,OAAQ,SAA4BD,GAClC,IAAIpnD,EAAOonD,EAD4B,GAEnCjE,EAAOiE,EAF4B,GAGnCG,EAAaH,EAHsB,GAInCtC,EAAKsC,EAJ8B,GAKnCptB,EAAKotB,EAL8B,GAMnC/O,EAAK+O,EAN8B,GAOnCI,EAAKJ,EAP8B,GAQvC,MAAO,CACLpnD,KADK,UAELq9C,WAAY,SAAgC9L,GAE1C,IAF+CkW,EAC/CC,EAAAA,EAD+CvE,GAG/C,UAAInjD,EACFynD,EAAOlW,EAAIoW,qBAAqB7C,EAAzBvT,GAAgCuT,EAAhCvT,GAAuCvX,EAAvCuX,GAA8CvX,EADjC,IAEf,WAAIh6B,IACTynD,EAAOlW,EAAIqW,qBAAqB9C,EAAzBvT,GAAgCuT,EAAhCvT,GAAAA,EAA2CvX,EAA3CuX,GAAkDvX,EAAlDuX,GADqBiW,IAI9B,IAAK,IAAIxsD,EAAJ,EAAWqgC,EAAKksB,EAArBrsD,OAAwCF,EAAxCqgC,IAAArgC,EAAqD,CACnD,IAAIq/B,EAAIktB,EAD2CvsD,GAEnDysD,EAAAA,aAAkBptB,EAAlBotB,GAAwBptB,EAF2B,IAIrD,OAb+CotB,MAmBvD,IAAII,EAAoB,WACtB,4BAEE,IAF2DC,EAEvDjD,EAAStrD,EAAbsrD,OACEkD,EAASxuD,EAHgDwuD,OAIvD9/B,EAAQnS,EAAZA,KACEkyC,EALyD,EAK/ClyC,EAAKnU,MAEbkjD,EAAO7qB,EAAP6qB,GAAiBA,EAAOt5C,EAA5B,KACEu8C,EADmC9tB,EAEnCA,EAFmCzuB,EAGnCA,EAHmCu8C,EAInCA,EAJmCG,EAKnCA,EALmCC,EAMnCA,EANmCJ,GAQjCjD,EAAOt5C,EAAPs5C,GAAiBA,EAAO3qB,EAA5B,KACE4tB,EADmCv8C,EAEnCA,EAFmC2uB,EAGnCA,EAHmC4tB,EAInCA,EAJmCI,EAKnCA,EALmCC,EAMnCA,EANmCL,GAQjCjD,EAAO7qB,EAAP6qB,GAAiBA,EAAOt5C,EAA5B,KACEu8C,EADmC9tB,EAEnCA,EAFmCzuB,EAGnCA,EAHmCu8C,EAInCA,EAJmCG,EAKnCA,EALmCC,EAMnCA,EANmCJ,GAQrC,IAAI9E,GAAM6B,EAAA,GAAatrD,EAAd8qB,SAAiC9qB,EA/BiBkqD,OAgCvDR,GAAM4B,EAAO7qB,EAAP,GAAiBzgC,EAAlB+qB,SAAqC/qB,EAhCa8iD,OAiCvD+L,GAAMvD,EAAA,GAAatrD,EAAd8qB,SAAiC9qB,EAjCiBkqD,OAkCvD4E,GAAMxD,EAAOt5C,EAAP,GAAiBhS,EAAlB+qB,SAAqC/qB,EAlCa8iD,OAmCvDiM,GAAMzD,EAAA,GAAatrD,EAAd8qB,SAAiC9qB,EAnCiBkqD,OAoCvD8E,GAAM1D,EAAO3qB,EAAP,GAAiB3gC,EAAlB+qB,SAAqC/qB,EApCa8iD,OAqC3D,KAAI4G,GAAJsF,GAiBA,IAdA,IAYA,MApD2DC,EAqD3D,MArD2DC,EAwCvDC,EAAMX,EAAVE,GACEU,EAAMZ,EAAOE,EADf,GAEEW,EAAMb,EAAOE,EA1C4C,GA2CvDY,EAAMd,EAAVG,GACEY,EAAMf,EAAOG,EADf,GAEEa,EAAMhB,EAAOG,EA7C4C,GA8CvDc,EAAMjB,EAAVI,GACEc,EAAMlB,EAAOI,EADf,GAEEe,EAAMnB,EAAOI,EAhD4C,GAkDvDgB,EAAOtxD,KAAKH,MAAhBurD,GACEmG,EAAOvxD,KAAKH,MAnD6C6wD,GAsDlD7yD,EAATyzD,EAAmBzzD,GAAnB0zD,EAA8B1zD,IAAK,CACjC,GAAIA,EAAJ2yD,EAAY,CACV,IADU3xD,OACV,EAQA2yD,EAAKrG,GAAMA,EAADoF,IANR1xD,EADEhB,EAAJutD,EAAY,EAEDA,IAAJoF,EAAe,GAGfpF,EAADvtD,IAAYutD,EADXoF,IAIPiB,EAAMZ,GAAOA,EAADG,GAVFnyD,EAWV6yD,EAAMZ,GAAOA,EAADG,GAXFpyD,EAYV8xD,EAAMI,GAAOA,EAADG,GAZFryD,MAaL,CACL,IADKA,OACL,EAQA2yD,EAAKjB,GAAMA,EAADE,IANR5xD,EADEhB,EAAJ6yD,EAAY,EAEDF,IAAJE,EAAe,GAGfF,EAAD3yD,IAAY2yD,EADXE,IAIPe,EAAMT,GAAOA,EAADG,GAVPtyD,EAWL6yD,EAAMT,GAAOA,EAADG,GAXPvyD,EAYL8xD,EAAMO,GAAOA,EAADG,GAZPxyD,EAeP,IA7BiCA,OA6BjC,EAQA8yD,EAAKxG,GAAMA,EAADsF,IANR5xD,EADEhB,EAAJutD,EAAY,EAEDvtD,EAAJ6yD,EAAY,GAGZtF,EAADvtD,IAAYutD,EADXsF,IAIPkB,EAAMf,GAAOA,EAADM,GAtCqBtyD,EAuCjCgzD,EAAMf,GAAOA,EAADM,GAvCqBvyD,EAwCjC+xD,EAAMG,GAAOA,EAADM,GAxCqBxyD,EA4CjC,IAHA,IAAIizD,EAAM9xD,KAAKH,MAAMG,KAAKqR,IAAImgD,EAzCGG,IA0C7BI,EAAM/xD,KAAKH,MAAMG,KAAKsR,IAAIkgD,EA1CGG,IA2C7BvtD,EAAI+rD,EAAUtyD,EA3Ce,EA2CXi0D,EACbl0D,EAATk0D,EAAkBl0D,GAAlBm0D,EAA4Bn0D,KAC1BiB,GAAK2yD,EAAD5zD,IAAY4zD,EADeG,IAE/B,EACE9yD,EADS,EAEAA,EAAJ,IACLA,EADgB,GAGlBuxB,EAAMhsB,KAAQqtD,GAAOA,EAADG,GAAP/yD,EAPkB,EAQ/BuxB,EAAMhsB,KAAQstD,GAAOA,EAADG,GAAPhzD,EARkB,EAS/BuxB,EAAMhsB,KAAQusD,GAAOA,EAADC,GAAP/xD,EATkB,EAU/BuxB,EAAMhsB,KAVyB,KAerC,kBACE,IAEA,EAHyCo/B,EACrCwuB,EAAKC,EADgCjF,OAErCkF,EAAKD,EAFgC/B,OAIzC,OAAQ+B,EAAR9pD,MACE,cACE,IAAIgqD,EAAiBF,EADvBE,eAEMC,EAAOpyD,KAAKiU,MAAM+9C,EAAG3uD,OAAdrD,GAFb,EAGMqyD,EAAOF,EAHb,EAIE,IAAKhvD,EAAL,EAAYA,EAAZivD,EAAsBjvD,IAEpB,IADA,IAAImvD,EAAInvD,EADiBgvD,EAEhB/tD,EAAT,EAAgBA,EAAhBiuD,EAA0BjuD,IAAKkuD,IAC7BC,EAAAA,EAAAA,EAGEP,EAHFO,GAIEP,EAAGM,EAJLC,GAKEP,EAAGM,EALLC,GAMEL,EANFK,GAOEL,EAAGI,EAPLC,GAQEL,EAAGI,EAT6BH,IAWlCI,EAAAA,EAAAA,EAGEP,EAAGM,EAAIH,EAHTI,GAIEP,EAAGM,EAJLC,GAKEP,EAAGM,EALLC,GAMEL,EAAGI,EAAIH,EANTI,GAOEL,EAAGI,EAPLC,GAQEL,EAAGI,EAnB6BH,IAP1C,MA+BE,gBACE,IAAKhvD,EAAI,EAAGqgC,EAAKwuB,EAAjB3uD,OAA4BF,EAA5BqgC,EAAoCrgC,GAApC,EACEovD,EAAAA,EAAAA,EAGEP,EAHFO,GAIEP,EAAG7uD,EAJLovD,GAKEP,EAAG7uD,EALLovD,GAMEL,EANFK,GAOEL,EAAG/uD,EAPLovD,GAQEL,EAAG/uD,EATqC,IAhChD,MA6CE,QACE,MAAM,IAAIuD,MA9Cd,mBAsJF,OAnGA,0BAYE,IAmCA,MAtCA88B,EAUIhX,EAAUxsB,KAAKiU,MAAM6Q,EAVzB,IAWI2H,EAAUzsB,KAAKiU,MAAM6Q,EAXzB,IAYI0tC,EAAcxyD,KAAK8b,KAAKgJ,EAAV9kB,IAZlBwsB,EAaIimC,EAAezyD,KAAK8b,KAAKgJ,EAAV9kB,IAbnBysB,EAeI3iB,EAAQ9J,KAAKqR,IACfrR,KAAK8b,KAAK9b,KAAKklB,IAAIstC,EAAcE,EAAdF,GAhBrB,WAmBIzoD,EAAS/J,KAAKqR,IAChBrR,KAAK8b,KAAK9b,KAAKklB,IAAIutC,EAAeC,EAAfD,GApBrB,WAuBI7G,EAAS4G,EAvBb1oD,EAwBI06C,EAASiO,EAxBb1oD,EA0BIrI,EAAU,CAAAsrD,OAAAA,EAAAkD,OAAAA,EAGZ1jC,SAHYA,EAIZC,SAJYA,EAKZm/B,OAAQ,EALIA,EAMZpH,OAAQ,EANIA,GASVmO,EAAc7oD,EAAQ8oD,EACtBC,EAAe9oD,EAAS6oD,EAG5B,GAAI/lB,EAAJoU,UACEj3B,EAAS6iB,EAAaimB,YAAY,CAAAhpD,MAAAA,EAAAC,OAAAA,EAAAmC,gBAAAA,EAAA6mD,QAAAA,EAAArxD,QAAAA,KAQlCosD,EAAYxL,EAAe9E,UAAU,OAAzB8E,EAAAA,GATc,IAe1BwL,QAAAA,UAAAA,EAtDF,KAuDE9jC,EAAS8jC,EAhBiB9jC,WAiBrB,CAOL,IAAImkC,GANJL,EAAYxL,EAAe9E,UAAU,OAAzB8E,EAAAA,GADP,IAAA5gD,QASDuc,EAAOkwC,EAAOxP,gBAAgB70C,EAT7BC,GAUL,KAAqB,CACnB,IAAIqmB,EAAQnS,EADOA,KAEnB,IAAK9a,EAAI,EAAGqgC,EAAKpT,EAAjB/sB,OAA+BF,EAA/BqgC,EAAuCrgC,GAAvC,EACEitB,EAAAA,GAAWlkB,EADkC,GAE7CkkB,EAAMjtB,EAANitB,GAAelkB,EAF8B,GAG7CkkB,EAAMjtB,EAANitB,GAAelkB,EAH8B,GAI7CkkB,EAAMjtB,EAANitB,GAJ6C,IAOjD,IAAKjtB,EAAL,EAAYA,EAAI4vD,EAAhB1vD,OAAgCF,IAC9B6vD,EAAAA,EAAiBD,EAAjBC,GADmCtxD,GAGrCysD,EAAAA,aAAAA,EA9EF,KA+EEnkC,EAAS8jC,EAvBJ9jC,OA0BP,MAAO,CAAAA,OAAAA,EAELwC,QAASA,EApFX,EAkFOo/B,EAGLn/B,QAASA,EArFX,EAkFO+3B,EAAAoH,OAAAA,EAAApH,OAAAA,IApQa,GA+QxB8K,EAAAA,KAAkB,CAChBE,OAAQ,SAAqBD,GAE3B,IAAIvC,EAASuC,EAFmB,GAG5BW,EAASX,EAHmB,GAI5BwD,EAAUxD,EAJkB,GAK5BzqC,EAASyqC,EALmB,GAM5BlE,EAASkE,EANmB,GAO5BjE,EAAOiE,EAPqB,GAQ5BnjB,EAAamjB,EARe,GAShC,MAAO,CACLpnD,KADK,UAELq9C,WAAY,SAAyB9L,EAAKuZ,EAAOz1B,GAE/C,IAF4DlrB,EAG5D,GAFAu9C,EAAAA,EAD4DvE,GAG5D,EACEh5C,EAAQyvB,EAAAA,KAAAA,8BAAmC2X,EAD5B8C,0BAKf,GADAlqC,EAAQyvB,EAAAA,KAAAA,8BAAmCkxB,EAFtCpN,eAGL,EAAY,CACV,IAAIqN,EAAcnxB,EAAAA,KAAAA,8BADRspB,GAEV/4C,EAAQ,CAACA,EAAM,GAAK4gD,EAAZ,GAA4B5gD,EAAM,GAAK4gD,EAAvC,IAMZ,IAAIC,EAAyBnD,EAAiB,EAAjBA,EAAAA,EAAAA,EAAAA,EAM3BxyB,EAAc,KANawyB,EAO3BiD,EAP2BjD,eAQ3BiD,EAxB0DpmB,cAwC5D,OAbArP,IACEkc,EAAAA,aAAAA,MAAAA,EAA4BuZ,EADZpN,eAEhB,GACEnM,EAAAA,UAAAA,MAAAA,EADU2R,IAKd3R,EAAAA,UACEyZ,EADFzZ,QAEEyZ,EApC0D1mC,SAsC5DitB,EAAAA,MAAUyZ,EAAVzZ,OAAyCyZ,EAtCmB3O,QAwCrD9K,EAAI0Z,cAAcD,EAAlBzZ,OAxCqD,iBA8CpE4V,EAAAA,MAAmB,CACjBE,OAAQ,WACN,MAAO,CACLrnD,KADK,UAELq9C,WAAY,WACV,MAD6C,cAkBrD,IAAI6N,EAAiB,WACnB,IAAIC,EAAY,EAAZA,EAAY,EAQhB,sBACEx1D,KAAA,aAAoBwsD,EADuD,GAE3ExsD,KAAA,OAAcwsD,EAAG,IAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACvCxsD,KAAA,KAAYwsD,EAH+D,GAI3ExsD,KAAA,MAAawsD,EAJ8D,GAK3ExsD,KAAA,MAAawsD,EAL8D,GAM3ExsD,KAAA,UAAiBwsD,EAN0D,GAO3ExsD,KAAA,WAAkBwsD,EAPyD,GAQ3ExsD,KAAA,MAR2EysD,EAS3EzsD,KAAA,sBAT2E0sD,EAU3E1sD,KAAA,cAV2E+nD,EAW3E/nD,KAAA,KAX2E,UAY3EA,KAAA,IAZ2E47C,EAiL7E,OAlKA2Z,EAAAA,UAA0B,CACxBE,oBAAqB,SAA0CN,GAC7D,IAAIvlB,EAAe5vC,KADiD4vC,aAEhE4d,EAAOxtD,KAFyDwtD,KAGhEkI,EAAQ11D,KAHwD01D,MAIhEC,EAAQ31D,KAJwD21D,MAKhEC,EAAY51D,KALoD41D,UAMhEC,EAAa71D,KANmD61D,WAOhEpJ,EAAQzsD,KAPwDysD,MAQhEC,EAAwB1sD,KARwC0sD,uBAUpE1X,EAAAA,EAAAA,MAAK,eAV+D6gB,GAgCpE,IAAI1I,EAAKK,EAAT,GACEJ,EAAKI,EADP,GAEEH,EAAKG,EAFP,GAGEF,EAAKE,EAnC6D,GAsChE4H,EAAcnxB,EAAAA,KAAAA,8BAAmCjkC,KAtCeutD,QAuChEuI,EAAiB7xB,EAAAA,KAAAA,8BACnBjkC,KAxCkE+nD,eA0ChEgO,EAAgB,CAClBX,EAAY,GAAKU,EADC,GAElBV,EAAY,GAAKU,EAFC,IAQhBE,EAAOh2D,KAAKi2D,gBAAgB,EAE9Bj2D,KAAK47C,IAAI1vB,OAFAlgB,MAGT+pD,EArDkE,IAuDhEG,EAAOl2D,KAAKi2D,gBAAgB,EAE9Bj2D,KAAK47C,IAAI1vB,OAFAjgB,OAGT8pD,EA1DkE,IA6DhE/F,EAAYmF,EAAM3Q,eAAe9E,UAAU,UAE7CsW,EAFcb,KAGde,EAHcf,MA7DoD,GAmEhE9E,EAASL,EAnEuDpsD,QAoEhEuyD,EAAWzJ,EAAsBC,qBApE+B0D,GAuFpE,OAlBA8F,EAAAA,WAAsBhB,EArE8C9O,WAuEpErmD,KAAA,mCAvEoEysD,GAyEpE0J,EAAAA,UAAmBH,EAAnBG,MAAAA,EAAAA,EAAqCD,EAArCC,MAAAA,EAzEoE,GA4EpEA,EAAAA,UAAAA,EAAAA,EAAAA,EAAAA,GAAAA,GA5EoE/I,GA8EpEptD,KAAA,mBA9EoEstD,GAgFpE6I,EAAAA,oBAhFoEvmB,GAkFpE5vC,KAAA,wBAlFoEotD,GAsFpEptD,KAAA,UAAe,EAAIg2D,EAAnBxhD,MAA+B,EAAI0hD,EAtFiC1hD,OAuF7Dw7C,EAvF6D9jC,QA0FtE+pC,gBAAiB,SAAuC,EAAvC,KAMf7G,EAAOltD,KAAKklB,IAFZgoC,GAOA,IAAIgH,EAAUl0D,KAAKsR,IA9H4B,IAuH/C6iD,GAQIzuC,EAAO1lB,KAAK8b,KAAKoxC,EARrB56C,GAcA,OALIoT,GAAJwuC,EACExuC,EADmBwuC,EAGnB5hD,EAAQoT,EADHwnC,EAGA,CAAA56C,MAAAA,EAAAoT,KAAAA,IAGT0uC,SAAU,SAAkBH,EAAU3I,EAAML,EAAIC,EAAIC,EAAIC,GACtD,GAAInqD,MAAMC,QAAQoqD,IAAlB,IAA2BA,EAAKjoD,OAAc,CAC5C,IAAIgxD,EAAYlJ,EAD4BF,EAExCqJ,EAAalJ,EAF2BF,EAG5C+I,EAAAA,IAAAA,KAAAA,EAAAA,EAAAA,EAH4CK,GAI5CL,EAJ4C14B,OAK5C04B,EAL4C34B,YAShDi5B,+BAAgC,SAAwC,EAAxC,KAK9B,IAAM7yD,EAAUuyD,EAAhBva,IACEsB,EAAUiZ,EAFZjZ,QAGA,UACE,KAAKsY,EACH,IAAI5Z,EAAM57C,KADZ47C,IAEEh4C,EAAAA,UAAoBg4C,EAFtB8a,UAGE9yD,EAAAA,YAAsBg4C,EAHxB+a,YAIEzZ,EAAAA,UAAoBtB,EAJtB8a,UAKExZ,EAAAA,YAAsBtB,EALxB+a,YADF,MAQE,KAAKnB,EACH,IAAIoB,EAAW3yB,EAAAA,KAAAA,WAAgBwoB,EAAhBxoB,GAA0BwoB,EAA1BxoB,GAAoCwoB,EADrD,IAEE7oD,EAAAA,UAFFgzD,EAGEhzD,EAAAA,YAHFgzD,EAKE1Z,EAAAA,UALF0Z,EAME1Z,EAAAA,YANF0Z,EARF,MAgBE,QACE,MAAM,IAAI,EAAJ,8CAAgBhB,MAI5BlO,WAAY,SAAkC9L,EAAKuZ,IACjDvZ,EAAM57C,KADkD47C,KAGxDA,aAAAA,MAAAA,EAA4B57C,KAH4B+nD,eAIxDnM,EAAAA,UAAAA,MAAAA,EAAyB57C,KAJ+ButD,QAMxD,IAAI8H,EAAyBr1D,KAAKy1D,oBANsBN,GAQxD,OAAOvZ,EAAI0Z,cAAcD,EAR+B,YA9KTE,EAAhC,iIChYrB,IAAMntB,EAAsB9kC,OAAOmB,OA3BnC,8BA6BA2jC,EAAAA,gBACqChiC,IAAnCgiC,EAAoBC,WAApBD,KAEIA,EAhCNC,WAkCAD,EAAAA,eACoChiC,IAAlCgiC,EAAoBkL,UAApBlL,GAEIA,EArCNkL,iHCgBA,WASMujB,EAAe,EAAfA,EAAe,EAMfC,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAYnB,cAWI,GAAsB,kBAAX7pC,GAAX,OAAkCA,EAChC,OADiDA,EAIrD,OAAQA,EAARpoB,MACE,qBACE,OAAO,IAAI,EAAJ,eAAmBooB,EAF9BgW,SAGE,0BACE,OAAO,IAAI,EAAJ,oBAAwBhW,EAJnCgW,SAKE,kCACE,OAAO,IAAI,EAAJ,4BAAgChW,EAAhCgW,QAAgDhW,EAN3DiB,QAOE,4BACE,OAAO,IAAI,EAAJ,sBAA0BjB,EAA1BgW,QAA0ChW,EARrDpB,SASE,QACE,OAAO,IAAI,EAAJ,sBAA0BoB,EAA1BgW,QAA0ChW,EAVrD9lB,iBAcF4vD,EAAAA,WACElwD,SAAAA,EAAAA,EAAAA,EAAAA,GAA4C,mCAC1C7G,KAAA,WAD0Cg3D,EAE1Ch3D,KAAA,WAF0Ci3D,EAG1Cj3D,KAAA,OAH0Ck3D,EAI1Cl3D,KAAA,WAJ0C,EAK1CA,KAAA,SAL0C,EAM1CA,KAAA,sBAN0C,EAO1CA,KAAA,YAAmBsD,OAAOmB,OAPgB,MAQ1CzE,KAAA,kBAAyBsD,OAAOmB,OARU,MAS1CzE,KAAA,qBAA4BsD,OAAOmB,OATO,MAU1CzE,KAAA,cAAqBsD,OAAOmB,OAVc,MAY1CzE,KAAA,mBAA0BgE,SAAAA,GACxB,IAAMmc,EAAOnc,EADoBmc,KAEjC,GAAIA,EAAK82C,aAAe,EAAxBD,WAGA,GAAI72C,EAAJg3C,OACE,wBADeh3C,QAIjB,GAAIA,EAAJjW,SAAA,CACE,IAAMktD,EAAaj3C,EADFi3C,WAEXtkC,EAAa,uBAFFskC,GAGjB,IAAAtkC,EACE,MAAM,IAAIlqB,MAAM,2BAAV,OAAUwuD,IAIlB,UAFO,uBANUA,GAQbj3C,EAAKjW,WAAa2sD,EACpB/jC,EAAAA,QAAmB3S,EADoBA,UAElC,IAAIA,EAAKjW,WAAa2sD,EAG3B,MAAM,IAAIjuD,MADL,4BADLkqB,EAAAA,OAAkBukC,EAAWl3C,EADkB8M,cAVnD,CAiBA,IAAMqqC,EAAS,gBAAmBn3C,EA1BDm3C,QA2BjC,IAAAA,EACE,MAAM,IAAI1uD,MAAM,+BAAV,OAAyCuX,EAA/Bm3C,SAElB,GAAIn3C,EAAJi3C,WAAA,CACE,IAAMG,EAAe,EADFP,WAEbQ,EAAer3C,EAFF62C,WAGnB,aAAY,SAAUttD,GACpBA,EAAQ4tD,EAAOn3C,EADcA,UAA/B,MAGE,SAAUpH,GACRm+C,EAAAA,YAAmB,CACjBF,WADiBO,EAEjBN,WAFiBO,EAGjBttD,SAAU2sD,EACVO,WAAYj3C,EAJKi3C,WAKjBj3C,KALiBpH,OAQrB,SAAUkU,GACRiqC,EAAAA,YAAmB,CACjBF,WADiBO,EAEjBN,WAFiBO,EAGjBttD,SAAU2sD,EACVO,WAAYj3C,EAJKi3C,WAKjBnqC,OAAQoqC,EALSpqC,aAWrB9M,EAAJs3C,SACE,oBADiBt3C,GAInBm3C,EAAOn3C,EA7D0BA,QA+DnC+2C,EAAAA,iBAAAA,UAAmCl3D,KA3EO03D,2DA8E5CnxD,SAAAA,EAAAA,GAUE,IAAMoxD,EAAK33D,KAVW43D,cAWtB,GAAID,EAAJE,GACE,MAAM,IAAIjvD,MAAM,0CAAV,OAAUivD,EAAV,MAERF,EAAAA,GAdsBG,sBAuBxBC,SAAAA,EAAAA,EAAAA,GACE/3D,KAAA,aACE,CACEg3D,WAAYh3D,KADdg3D,WAEEC,WAAYj3D,KAFdi3D,WAGEK,OAHFO,EAAA13C,KAAAA,GAF8BoyB,kCAoBlCqD,SAAAA,EAAAA,EAAAA,GACE,IAAMwhB,EAAap3D,KADwBo3D,aAErCtkC,GAFqC,+BAG3C9yB,KAAA,wBAH2C8yB,EAI3C,IACE9yB,KAAA,aACE,CACEg3D,WAAYh3D,KADdg3D,WAEEC,WAAYj3D,KAFdi3D,WAGEK,OAHFO,EAAAT,WAAAA,EAAAj3C,KAAAA,GAFAoyB,GAWF,MAAOzhB,GACPgC,EAAAA,OADWhC,GAGb,OAAOgC,EAlBoCiX,sCA+B7C4G,SAAAA,EAAAA,EAAAA,EAAAA,GAA8D,WACtD8mB,EAAWz3D,KAD2Cy3D,WAEtDT,EAAah3D,KAFyCg3D,WAGtDC,EAAaj3D,KAHyCi3D,WAItDC,EAASl3D,KAJ6Ck3D,OAM5D,OAAO,IAAIvmC,eACT,CACEN,MAAO2nC,SAAAA,GACL,IAAMC,GADa,+BAqBnB,OAnBA,uBAAmC,CAAAD,WAAAA,EAEjCE,UAFiCD,EAGjCE,SAHiC,KAIjCC,WAJiC,KAKjCC,UALiC,GAOnC,eACE,CAAArB,WAAAA,EAAAC,WAAAA,EAGEK,OAHFO,EAAAJ,SAAAA,EAAAt3C,KAAAA,EAMEm4C,YAAaN,EANfM,aAViB/lB,GAqBZ0lB,EArBYluB,SAwBrBwuB,KAAMP,SAAAA,GACJ,IAAMQ,GADY,+BAYlB,OAVA,gCAFkBA,EAGlBtB,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjBa,YAAaN,EALIM,cASZE,EAZWzuB,SAepB9uB,OAAQgS,SAAAA,IACNvC,EAAAA,EAAAA,QAAOuC,aAAPvC,MADgB,mCAEhB,IAAM+tC,GAFU,+BAahB,OAVA,kCAHgBA,EAIhB,iCAJgB,EAKhBvB,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjBxqC,OAAQoqC,EALSpqC,KAQZwrC,EAbS1uB,UA/CsC2uB,oCAsE9DC,SAAAA,GACE,IAAM39C,EADgB,KAEhBs8C,EAASt3D,KAAK43D,cAAcz3C,EAFZm3C,QAGhBG,EAAWt3C,EAHKs3C,SAIhBT,EAAah3D,KAJGg3D,WAKhBC,EAAa92C,EALG62C,WAMhBE,EAASl3D,KANOk3D,OAQhB0B,EAAa,CACjBC,QADiB,SACjBA,GAAoC,IAArBjxC,EAAqB,uDAApCixC,EAAAA,EAAoC,uCAClC,IAAI74D,KAAJ84D,YAAA,CAGA,IAAMC,EAAkB/4D,KAJUs4D,YAKlCt4D,KAAA,aALkC4nB,EAS9BmxC,EAAkB,GAAK/4D,KAAKs4D,aAAhC,IACEt4D,KAAA,gBADgD,+BAEhDA,KAAA,MAAaA,KAAKg5D,eAF8BjvB,SAIlD/uB,EAAAA,aACE,CAAAg8C,WAAAA,EAAAC,WAAAA,EAGEE,OAAQL,EAHVW,SAAAA,EAAA7kC,MAAAA,GAdgC2f,KAyBpC0D,MA1BiB,WA2BXj2C,KAAJ84D,cAGA94D,KAAA,aAJM,EAKNk3D,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,WAMZz8C,EAAKi+C,YAXNxB,KAcR3tD,MAxCiB,SAwCjBA,IACE4gB,EAAAA,EAAAA,QAAOuC,aAAPvC,MADY,kCAER1qB,KAAJ84D,cAGA94D,KAAA,aALY,EAMZk3D,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjBxqC,OAAQoqC,EALSpqC,OASrB+rC,gBAvDiB,+BAwDjBE,OAxDiB,KAyDjBC,SAzDiB,KA0DjBL,aA1DiB,EA2DjBR,YAAan4C,EA3DIm4C,YA4DjBc,MA5DiB,MA+DnBR,EAAAA,eAvEsBlvD,UAwEtBkvD,EAAAA,MAAmBA,EAAWI,eAxERjvB,QAyEtB/pC,KAAA,eAzEsB44D,EA0EtB,aAAY,SAAUlvD,GACpBA,EAAQ4tD,EAAOn3C,EAAPm3C,KADqBsB,OAA/B,MAGE,WACE1B,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjB4B,SALiB,OAQrB,SAAUpsC,GACRiqC,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjBxqC,OAAQoqC,EALSpqC,6CAczBqsC,SAAAA,GACE,IAAM7B,EAAWt3C,EADSs3C,SAEpBT,EAAah3D,KAFOg3D,WAGpBC,EAAa92C,EAHO62C,WAIpBE,EAASl3D,KAJWk3D,OAM1B,OAAQ/2C,EAARg3C,QACE,KAAKL,EACC32C,EAAJk5C,QACEr5D,KAAA,+BADgB0J,UAGhB1J,KAAA,sCACEq3D,EAAWl3C,EAFR8M,SAJX,MAUE,KAAK6pC,EACC32C,EAAJk5C,QACEr5D,KAAA,8BADgB0J,UAGhB1J,KAAA,qCACEq3D,EAAWl3C,EAFR8M,SAbX,MAmBE,KAAK6pC,EAEH,IAAK92D,KAAKi5D,YAAVxB,GAAiC,CAC/BP,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjB4B,SALiB,IADY,MAc/Br5D,KAAKi5D,YAAYxB,GAAUa,aAAe,GAC1Cn4C,EAAKm4C,YAFP,GAIEt4D,KAAA,8BADA0J,UAIF1J,KAAA,2BAAyCmgB,EAtB3Cm4C,YAuBE,IAAMY,EAAal5D,KAAKi5D,YAAY94C,EAvBtCs3C,UAuBQyB,OACN,aAAY,SAAUxvD,GACpBA,EAAQwvD,GAAUA,QADpB,MAGE,WACEhC,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjB4B,SALiB,OAQrB,SAAUpsC,GACRiqC,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjBxqC,OAAQoqC,EALSpqC,QAxD3B,MAkEE,KAAK6pC,EAKH,IAJApsC,EAAAA,EAAAA,QACE1qB,KAAKu5D,kBADP7uC,GADF,yCAKM1qB,KAAKu5D,kBAAkB9B,GAA3BY,SAA+C,MAG/Cr4D,KAAA,wCAAoDmgB,EARtDyS,OAlEF,MA4EE,KAAKkkC,EAKH,IAJApsC,EAAAA,EAAAA,QACE1qB,KAAKu5D,kBADP7uC,GADF,uCAKM1qB,KAAKu5D,kBAAkB9B,GAA3BY,SAA+C,MAG/Cr4D,KAAA,+BARF,EASEA,KAAA,gCATFi2C,QAUEj2C,KAAA,wBAVFy3D,GA5EF,MAwFE,KAAKX,GACHpsC,EAAAA,EAAAA,QACE1qB,KAAKu5D,kBADP7uC,GADF,uCAKE1qB,KAAA,sCACEq3D,EAAWl3C,EANf8M,SAQEjtB,KAAA,wBARFy3D,GAxFF,MAkGE,KAAKX,EACC32C,EAAJk5C,QACEr5D,KAAA,gCADgB0J,UAGhB1J,KAAA,uCACEq3D,EAAWl3C,EAFR8M,SAKPjtB,KAAA,wBARFy3D,GAlGF,MA4GE,KAAKX,EACH,IAAK92D,KAAKi5D,YAAVxB,GAAiC,MAGjC,IAAM0B,EAAen5D,KAAKi5D,YAAY94C,EAJxCs3C,UAIQ0B,SACN,aAAY,SAAUzvD,GACpBA,EAAQyvD,GAAYA,EAAS9B,EAAWl3C,EADX8M,aAA/B,MAGE,WACEiqC,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjB4B,SALiB,OAQrB,SAAUpsC,GACRiqC,EAAAA,YAAmB,CAAAF,WAAAA,EAAAC,WAAAA,EAGjBE,OAAQL,EAHSW,SAAAA,EAKjBxqC,OAAQoqC,EALSpqC,QASvBjtB,KAAA,qCACEq3D,EAAWl3C,EA5Bf8M,SA8BEjtB,KAAA,4BA9BF,SA+BSA,KAAKi5D,YA/BdxB,GA5GF,MA6IE,QACE,MAAM,IAAI7uD,MA9Id,+HAqJF,+GAGQa,QAAQ+vD,WACZ,CACEx5D,KAAKu5D,kBAAkB9B,GADzBS,UAEEl4D,KAAKu5D,kBAAkB9B,GAFzBU,SAGEn4D,KAAKu5D,kBAAkB9B,GAHzBW,YAAAA,KAIM,SAAUtlC,GACd,OAAOA,GAAcA,EADKiX,YARhC,cAYS/pC,KAAKu5D,kBAZ0B9B,GAAxC,iIAqBAgC,SAAAA,EAAAA,GACMlnB,GAAavyC,KAAjBqpC,qBACErpC,KAAA,qBAD0CuyC,GAG1CvyC,KAAA,mBADKijC,0BAKT9W,WACEnsB,KAAA,qCAA2CA,KADnC03D,0BA5fZX,uHCxEA,mBAkBA2C,EAAAA,WACE7yD,SAAAA,EAAAA,GAAkB,yBAChB6jB,EAAAA,EAAAA,QAAAA,kBAAcvK,EADE,mCAIhBA,EAAOngB,KAAK25D,QAJIx5C,GAOhB,IACMy5C,GADS,IAPCC,EAAAA,iBAQWC,gBARX35C,GAUhBngB,KAAA,aAAoB,IAVJwhB,IAYhB,GACExhB,KAAA,OADe45D,+CAKnBD,SAAAA,GAEE,OAAOx5C,EAAAA,QAAAA,SAAAA,IAAAA,QAAAA,uBAE2B,SAAU+oB,EAAK6wB,GAsB7C,IArBA,IAAMznC,EAAQynC,EAAAA,QAAAA,4BACyB,SAAUrlC,EAAMoR,EAAIC,EAAIC,GAC3D,OAAOxT,OAAOC,aAAkB,GAALqT,EAAAA,EAAUC,EAD0B,EACjBC,MAFpC,oCAIyB,SAAUhT,EAAKnuB,GAClD,UACE,UACE,MAFJ,IAGE,WACE,MAJJ,IAKE,SACE,MANJ,IAOE,SACE,MARJ,IASE,WACE,MAVJ,IAYA,MAAM,IAAI+D,MAAM,YAAV,OAAU/D,EAAV,uBAGNm1D,EArBgD,GAsB3C30D,EAAJ,EAAWqgC,EAAKpT,EAArB/sB,OAAmCF,EAAnCqgC,EAA2CrgC,GAA3C,EAAmD,CACjD,IAAMqvB,EAA6B,IAAtBpC,EAAMmC,WAAWpvB,GAAWitB,EAAMmC,WAAWpvB,EADT,GAS/C20D,GANAtlC,GAAQ,IACRA,EADAA,KAAAA,KAEAA,GAFAA,KAGAA,GAJF,KAKEA,EAESlC,OAAOC,aADhBiC,GAGS,OAAS,MAADA,GAAAvtB,SAAA,IAAAukB,UAAR,GADJ,IAKT,MAAO,IArC6CsuC,2BAyC1DC,SAAAA,GACE,IAAIC,EAAMN,EADQhuC,gBAGlB,eAAIsuC,EAAIC,SAASvgD,cAGf,IADAsgD,EAAMA,EAFsCE,WAGrCF,GAAP,YAAcA,EAAIC,SAASvgD,eACzBsgD,EAAMA,EADgDG,YAK1D,IAAMF,EAAWD,EAAMA,EAAIC,SAAVD,cAXC,KAYlB,GAAKA,GAAD,YAAQC,GAA2BD,EAAvCI,gBAKA,IADA,IAAMltD,EAAW8sD,EAhBCK,WAiBTl1D,EAAJ,EAAWqgC,EAAKt4B,EAArB7H,OAAsCF,EAAtCqgC,EAA8CrgC,IAAK,CACjD,IAAMotC,EAAOrlC,EADoC/H,GAEjD,uBAAIotC,EAAK0nB,SAASvgD,cAIlB,IAAK,IAAItT,EAAJ,EAAWk0D,EAAK/nB,EAAK8nB,WAA1Bh1D,OAA6Ce,EAA7Ck0D,EAAqDl0D,IACnD,aAAImsC,EAAK8nB,WAAWj0D,GAAG6zD,SAASvgD,cAA2B,CACzD,IAAMi3C,EAAQpe,EAAK8nB,WADsCj0D,GAEnDzB,EAAOgsD,EAAMsJ,SAFsCvgD,cAIzD5Z,KAAA,mBAA4B6wD,EAAM/f,YAJuB2pB,6BAUjE5kD,SAAAA,GACE,OAAO7V,KAAK06D,aAAar3D,IAAIwB,GAAQ7E,KAAK06D,aAAa7kD,IAAhDhR,GADC,2BAIVwqC,WACE,OAAO/rC,OAAO26C,YAAYj+C,KADnB06D,iCAITr3D,SAAAA,GACE,OAAOrD,KAAK06D,aAAar3D,IADjBwB,SAzGZ60D,wHCAA,IAAMiB,EAAqB,EAArBA,GAAqB,EAArBA,GAAqB,EAArBA,GAAqB,EAArBA,GAAqB,EAArBA,GAAqB,EAArBA,GAAqB,EAc3B,gBACE,IAAMC,EAAKlf,EADmB1nB,GAE9B,MAAc,MAAP4mC,GAAAA,OAAcA,GAAdA,OAA6BA,GAFN,OAEqBA,MAYrDC,EAAAA,qGACEC,SAAAA,GAAoB,WAClB,OAAOpf,EAAEzoB,QAAQ,cAAc,cAC7B,UAAI8nC,EAAOrvC,UAAU,EAAG,GACtB,OAAO8G,OAAOC,aAAapB,SAAS0pC,EAAOrvC,UAAhB2F,GADQ,KAE9B,SAAI0pC,EAAOrvC,UAAU,EAAG,GAC7B,OAAO8G,OAAOC,aAAapB,SAAS0pC,EAAOrvC,UAAhB2F,GADc,KAG3C,UACE,SACE,MAFJ,IAGE,SACE,MAJJ,IAKE,UACE,MANJ,IAOE,WACE,MARJ,IAUA,OAAO,kBAhBuC0pC,mCAoBlDC,SAAAA,EAAAA,GACE,IAAMC,EADgB,GAElB/oC,EAFkB7B,EAItB,aACE,KAAO6B,EAAMwpB,EAANxpB,QAAkBgpC,EAAaxf,EAAtCxpB,MAA+CA,EAKjD,KACEA,EAAMwpB,EAANxpB,SACCgpC,EAAaxf,EADdxpB,IAAAA,MAEAwpB,EAAExpB,IAHJ,MAIEwpB,EAAExpB,MACFA,EAGF,IAAMrtB,EAAO62C,EAAEhwB,UAAU2E,EAlBH6B,GAoBtB,IADAipC,IAEEjpC,EAAMwpB,EAANxpB,QAAAA,MACAwpB,EAAExpB,IADFA,MAEAwpB,EAAExpB,IAHJ,MAIEwpB,EAAExpB,IACF,CACAipC,IAGA,IAFA,IACEC,EADEC,EAAJ,GAEOnpC,EAAMwpB,EAANxpB,SAAmBgpC,EAAaxf,EAAhCxpB,IAAP,MAAkDwpB,EAAExpB,IAClDmpC,GAAY3f,EADoDxpB,KAAAA,EAKlE,GADAipC,IACA,MAAIzf,EAAExpB,GACJ,OADkB,OATpBA,EAaAipC,IACA,IAAMG,EAAc5f,EAdpBxpB,GAeA,GAAoB,MAAhBopC,GAAJ,MAA2BA,EACzB,OAD8C,KAGhD,IAAMC,EAAe7f,EAAEjiC,QAAQ6hD,IAlB/BppC,GAmBA,GAAIqpC,EAAJ,EACE,OADoB,KAGtBH,EAAY1f,EAAEhwB,UAAUwG,EAtBxBqpC,GAuBAN,EAAAA,KAAgB,CACdp2D,KADcw2D,EAEdzrD,MAAO5P,KAAK86D,iBAFEM,KAIhBlpC,EAAMqpC,EA3BN,EA4BAJ,IAEF,MAAO,CAAAt2D,KAAAA,EAAAo2D,WAAAA,EAGLO,OAAQtpC,EAHH7B,8CAOTorC,SAAAA,EAAAA,GASE,IARA,IAAIvpC,EADgC7B,EAUlC6B,EAAMwpB,EAANxpB,SACCgpC,EAAaxf,EADdxpB,IAAAA,MAEAwpB,EAAExpB,IAHJ,MAIEwpB,EAAExpB,MACFA,EAGF,IAAMrtB,EAAO62C,EAAEhwB,UAAU2E,EAjBW6B,IAGpC,WACE,KAAOA,EAAMwpB,EAANxpB,QAAkBgpC,EAAaxf,EAAtCxpB,MAA+CA,EAcjDipC,GAEA,IADA,IAAMO,EAnB8BxpC,EAoB7BA,EAAMwpB,EAANxpB,SAA8B,MAAXwpB,EAAExpB,IAA5B,MAA4CwpB,EAAExpB,EAAFwpB,OAAqBxpB,EAIjE,MAAO,CAAArtB,KAAAA,EAAA+K,MADO8rC,EAAEhwB,UAAUgwC,EAvBUxpC,GA2BlCspC,OAAQtpC,EAHH7B,2BAOTsrC,SAAAA,GAEE,IADA,IAAIt2D,EADM,EAEHA,EAAIq2C,EAAXn2C,QAAqB,CACnB,IACIe,EAFejB,EAGnB,SAFWq2C,EADQr2C,GAGH,CAEd,IAFcmvD,OAGd,EACA,OAFY9Y,IAFEp1C,IAKZ,QAGE,KAHFA,GAEEkuD,EAAI9Y,EAAEjiC,QAAQ,IAFhBnT,IAGE,EAAW,YACTtG,KAAA,QAAa26D,GAGf36D,KAAA,aAAkB07C,EAAEhwB,UAAUplB,EAPhCkuD,IAQEluD,EAAIkuD,EARN,EADF,MAWE,UAAAluD,EAEE,IAAMs1D,EAAK57D,KAAKy7D,4BAA4B/f,EAF9Cp1C,GAGE,UAAIo1C,EAAEhwB,UAAUplB,EAAIs1D,EAAhBlgB,OAA2Bp1C,EAAIs1D,EAAJt1D,OAA3Bo1C,GAAwD,YAC1D17C,KAAA,QAAa26D,GAGf36D,KAAA,KAAU47D,EAAV/2D,KAAmB+2D,EAPrBhsD,OAQEtJ,GAAKs1D,EAAGJ,OARV,EAXF,MAqBE,QACE,UAAI9f,EAAEhwB,UAAUplB,EAAZo1C,EAAmBp1C,EAAnBo1C,GAAoC,CAEtC,IADA8Y,EAAI9Y,EAAEjiC,QAAQ,SAAOnT,EADiB,IAEtC,EAAW,YACTtG,KAAA,QAAa26D,GAGf36D,KAAA,UAAe07C,EAAEhwB,UAAUplB,EAAZo1C,EANuB8Y,IAOtCluD,EAAIkuD,EAPkC,OAQjC,eAAI9Y,EAAEhwB,UAAUplB,EAAZo1C,EAAmBp1C,EAAnBo1C,GAAyC,CAElD,IADA8Y,EAAI9Y,EAAEjiC,QAAQ,MAAOnT,EAD6B,IAElD,EAAW,YACTtG,KAAA,QAAa26D,GAGf36D,KAAA,QAAa07C,EAAEhwB,UAAUplB,EAAZo1C,EANqC8Y,IAOlDluD,EAAIkuD,EAP8C,MAQ7C,gBAAI9Y,EAAEhwB,UAAUplB,EAAZo1C,EAAmBp1C,EAAnBo1C,GAwBJ,YACL17C,KAAA,QAAa26D,GAxBb,IAAMkB,EAAKngB,EAAEjiC,QAAQ,IAAKnT,EADwB,GAE9Cw1D,GAF8C,EAIlD,IADAtH,EAAI9Y,EAAEjiC,QAAQ,IAAKnT,EAH+B,IAIlD,EAAW,YACTtG,KAAA,QAAa26D,GAGf,GAAIkB,EAAK,GAAKrH,EAAdqH,EAAsB,CAEpB,IADArH,EAAI9Y,EAAEjiC,QAAQ,KAAMnT,EADA,IAEpB,EAAW,YACTtG,KAAA,QACE26D,GAIJmB,GARoB,EAUtB,IAAMC,EAAiBrgB,EAAEhwB,UACvBplB,EADqBo1C,EAErB8Y,GAAKsH,EAAiB,EApB0B,IAsBlD97D,KAAA,UAtBkD+7D,GAuBlDz1D,EAAIkuD,GAAKsH,EAAiB,EAvBwB,GAtCxD,MAmEE,QACE,IAAME,EAAUh8D,KAAKg7D,cAActf,EADrCp1C,GAEE,UAAI01D,EAAkB,YACpBh8D,KAAA,QAAa26D,GAGf,IAAItC,GANN,EAOE,UACE3c,EAAEhwB,UAAUplB,EAAI01D,EAAhBtgB,OAAgCp1C,EAAI01D,EAAJ11D,OAAhCo1C,GAEA2c,GADA,OAEK,SACL3c,EAAEhwB,UAAUplB,EAAI01D,EAAhBtgB,OAAgCp1C,EAAI01D,EAAJ11D,OAAhCo1C,GACA,YACA17C,KAAA,QAAa26D,GAGf36D,KAAA,eAAoBg8D,EAApBn3D,KAAkCm3D,EAAlCf,WAjBF5C,GAkBE/xD,GAAK01D,EAAQR,QAAUnD,EAAW,EAlBpC,QAqBG,CACL,KAAO/xD,EAAIo1C,EAAJp1C,QAAP,MAAuBo1C,EAAEp1C,IACvBA,IAEF,IAAMunB,EAAO6tB,EAAEhwB,UAAUrmB,EAJpBiB,GAKLtG,KAAA,OAAYA,KAAK86D,iBALZjtC,IAOPxoB,EAtGmBiB,kCA0GvB21D,SAAAA,GACE,iBAAOp3D,EAAP,yBAGFq3D,SAAAA,EAAAA,6BAEAC,SAAAA,2BAEAC,SAAAA,6BAEAC,SAAAA,0BAEAC,SAAAA,kCAEAC,SAAAA,EAAAA,EAAAA,gCAEAC,SAAAA,2BAEAC,SAAAA,UAjPF5B,GAoPA6B,EAAAA,WACE71D,SAAAA,EAAAA,EAAAA,GAAiC,wBAC/B7G,KAAA,SAD+Bm6D,EAE/Bn6D,KAAA,UAF+B28D,EAI/Br5D,OAAAA,eAAAA,KAAAA,aAA0C,CAAEsM,MAAF,KAAemzB,UAAf,iDAG5C,WACE,OAAO/iC,KAAKu6D,YAAcv6D,KAAKu6D,WADhB,4BAIjB,WACE,IAAMA,EAAav6D,KAAK8nB,WADRyyC,WAEhB,GAAAA,EAAA,CAGA,IAAMvmC,EAAQumC,EAAW9gD,QALT,MAMhB,QAAIua,EAGJ,OAAOumC,EAAWvmC,EATF,6BAYlB,WACE,OAAKh0B,KAALu6D,WAGOv6D,KAAKu6D,WAAL,KACA,SAAUpqD,GACb,OAAOA,EADa2gC,eADjB,KAJS,IAEP9wC,KAAK28D,WADQ,gCAUxBrC,WACE,OAAOt6D,KAAKu6D,YAAcv6D,KAAKu6D,WAAWh1D,OAD5B,QAnClBm3D,GAwCAE,EAAAA,SAAAA,wCACE/1D,SAAAA,IAAc,sDAEZ,iBAFY,KAGZ,SAHY,KAIZ,aAAkB8zD,EAJN,sDAOdb,SAAAA,GAOE,GANA95D,KAAA,iBADoB,GAEpBA,KAAA,OAFoB,GAGpBA,KAAA,WAAkB26D,EAElB36D,KAAA,SALoBmgB,GAOhBngB,KAAK68D,aAAelC,EAAxB,CAKA,IAAM/uC,EAAN,eAA0B5rB,KAZN88D,iBAYpB,MACA,GAAAlxC,EAGA,MAAO,CAhBaA,gBAAAA,mCAmBtBqwC,SAAAA,GACE,MACE,SADF,MAIA,oEALoBp3D,yBAQtBy3D,SAAAA,GACE,IAzUJ,YACE,IAAK,IAAIj3D,EAAJ,EAAWqgC,EAAKgW,EAArBn2C,OAA+BF,EAA/BqgC,EAAuCrgC,IACrC,IAAK61D,EAAaxf,EAAlBr2C,GACE,OADuB,EAI3B,OAN6B,EAyUvB03D,CAAJlvC,GAAA,CAGA,IAAMmvC,EAAO,IAAIN,EAAc,QAJpB7uC,GAKX7tB,KAAA,sBALWg9D,2BAQbZ,SAAAA,GACE,IAAMY,EAAO,IAAIN,EAAc,QADnB7uC,GAEZ7tB,KAAA,sBAFYg9D,iCAKdT,SAAAA,EAAAA,EAAAA,GACE,IAAMS,EAAO,IAAIN,EADuB73D,GAExCm4D,EAAAA,WAFwC,GAGxCh9D,KAAA,sBAHwCg9D,GAIxC,IAGAh9D,KAAA,YAAiBA,KAPuB88D,kBAQxC98D,KAAA,iBAAwBg9D,EARgBzC,wCAW1CiC,SAAAA,GACEx8D,KAAA,iBAAwBA,KAAKi9D,OAAO5d,OADnB,GAEjB,IAAM6d,EAAcl9D,KAAK88D,iBAAiB98D,KAAK88D,iBAAiBv3D,OAF/C,GAGjB,GAAA23D,EAGA,IAAK,IAAI73D,EAAJ,EAAWqgC,EAAKw3B,EAAY3C,WAAjCh1D,OAAoDF,EAApDqgC,EAA4DrgC,IAC1D63D,EAAAA,WAAAA,GAAAA,WAD+DA,yBAKnET,SAAAA,GACEz8D,KAAA,WADY00B,QAtEhBkoC,CAAA/B,qIC1UA,WAgBAsC,EAAAA,cACEt2D,SAAAA,EAAAA,EAAAA,GAA0B,wBACxB7G,KAAA,SADwB,EAExBA,KAAA,KAFwB6E,EAGxB7E,KAAA,OAHwB6tC,KAO5BuvB,EAAAA,WACEv2D,SAAAA,EAAAA,GAME,GANgB,wBAChB7G,KAAA,KADgB,KAEhBA,KAAA,QAFgB,KAGhBA,KAAA,OAHgB,KAIhBA,KAAA,QAAe,IAJCwhB,IAMhB,OAAIrB,EAAJ,CAGAngB,KAAA,KAAYmgB,EATItb,KAUhB7E,KAAA,QAAemgB,EAVCk9C,QAWhBr9D,KAAA,OAAcmgB,EAXEm9C,MAAA,mCAYIn9C,EAApBo9C,QAZgB,IAYhB,2BAAiC,KAAjC7P,EAAiC,QAC/B1tD,KAAA,YACE0tD,EADF/lD,GAEE,IAAIw1D,EAAqBzP,EAAzB7oD,KAAqC6oD,EAHR7f,UAZjB,8BAmBhB,WAAI1tB,EAAKq9C,UAAqB,oCACRx9D,KAApBy9D,SAD4B,IAC5B,2BAAkC,QAChC/P,SADgC,EADN,+BAnBd,mCAyBCvtC,EAAjB5Z,IAzBgB,IAyBhB,2BAA0B,KAA1BA,EAA0B,QACxBvG,KAAA,wBADwB,GAzBV,iEA6BEmgB,EAAlB1Z,KA7BgB,IA6BhB,2BAA4B,KAA5BA,EAA4B,QAC1BzG,KAAA,wBAD0B,GA7BZ,8EAkClBgxD,SAAAA,GACE,WAAItD,EAAMrjD,KACR,OAAKrK,KAAKy9D,QAAQp6D,IAAIqqD,EAAtB/lD,IAIO3H,KAAKy9D,QAAQ5nD,IAAI63C,EAAjB/lD,IALiBopD,UAEtBllD,EAAAA,EAAAA,MAAAA,qCAAAA,OAA0C6hD,EAArC/lD,MAD0B,GAK5B,YAAI+lD,EAAMrjD,KAAiB,CAMhC,GAHIqjD,EAAJgQ,aACE7xD,EAAAA,EAAAA,MADoB,6CAGjB6hD,EAADiQ,QAAJ,UAAqBjQ,EAAMiQ,OAAoB,oCAE5BjQ,EAAjBkQ,KAF6C,IAE7C,2BAA4B,KAA5Bj2D,EAA4B,QAC1B,IAAK3H,KAAKy9D,QAAQp6D,IAAlBsE,GAEE,OADAkE,EAAAA,EAAAA,MAAAA,qCAAAA,OAAKlE,KADoB,EAI3B,GAAI3H,KAAKy9D,QAAQ5nD,IAAIlO,GAArBopD,QACE,OADgC,GAPS,8BAW7C,OAX6C,EAYxC,aAAIrD,EAAMiQ,OAAoB,oCAClBjQ,EAAjBkQ,KADmC,IACnC,2BAA4B,KAA5Bj2D,EAA4B,QAC1B,IAAK3H,KAAKy9D,QAAQp6D,IAAlBsE,GAEE,OADAkE,EAAAA,EAAAA,MAAAA,qCAAAA,OAAKlE,KADoB,EAI3B,IAAK3H,KAAKy9D,QAAQ5nD,IAAI,GAAtBk7C,QACE,OADiC,GANF,8BAUnC,OAVmC,EAW9B,cAAIrD,EAAMiQ,OAAqB,oCACnBjQ,EAAjBkQ,KADoC,IACpC,2BAA4B,KAA5Bj2D,EAA4B,QAC1B,IAAK3H,KAAKy9D,QAAQp6D,IAAlBsE,GAEE,OADAkE,EAAAA,EAAAA,MAAAA,qCAAAA,OAAKlE,KADoB,EAI3B,IAAK3H,KAAKy9D,QAAQ5nD,IAAI,GAAtBk7C,QACE,OADiC,GAND,8BAUpC,OAVoC,EAW/B,cAAIrD,EAAMiQ,OAAqB,oCACnBjQ,EAAjBkQ,KADoC,IACpC,2BAA4B,KAA5Bj2D,EAA4B,QAC1B,IAAK3H,KAAKy9D,QAAQp6D,IAAlBsE,GAEE,OADAkE,EAAAA,EAAAA,MAAAA,qCAAAA,OAAKlE,KADoB,EAI3B,GAAI3H,KAAKy9D,QAAQ5nD,IAAI,GAArBk7C,QACE,OADgC,GANA,8BAUpC,OAVoC,EAatC,OADAllD,EAAAA,EAAAA,MAAAA,mCAAAA,OAAwC6hD,EAAnCiQ,OAAL9xD,OApDgC,EAwDlC,OADAA,EAAAA,EAAAA,MAAAA,sBAAAA,OAA2B6hD,EAAtBrjD,KAALwB,OA9De,+BAkEjBgyD,SAAAA,GAAkC,IAAhB9M,IAAgB,yDAC3B/wD,KAAKy9D,QAAQp6D,IAAlBsE,GAIA3H,KAAA,yBALgC+wD,GAE9BllD,EAAAA,EAAAA,MAAAA,qCAAAA,OAAKlE,4BAMTm2D,WACE,OAAK99D,KAAKy9D,QAAV71C,KAGI5nB,KAAJ+9D,OACS/9D,KAAK+9D,OADG/4D,QAGV7B,MAAM66D,KAAKh+D,KAAKy9D,QAPd32D,QACe,8BAS1Bm3D,WACE,OAAKj+D,KAAKy9D,QAAV71C,KAGOtkB,OAAO26C,YAAYj+C,KAJhBy9D,SACc,6BAM1BS,SAAAA,GACE,OAAOl+D,KAAKy9D,QAAQ5nD,IAAIlO,IADb,WA9Hfy1D,4ICRA,WAGAe,EAAAA,WACEt3D,SAAAA,EAAAA,EAAAA,GAA2C,oCACzC6jB,EAAAA,EAAAA,QAAAA,EADyC,+EAMzC1qB,KAAA,cANyC,GAOzCA,KAAA,iBAAwBmqB,EAAO4e,kBAPU,EASzC,IAAMD,EAAc3e,EATqB2e,YAUzC,GAAIA,GAAeA,EAAYvjC,OAA/B,EAA2C,CACzC,IAAM4tB,EAAS,IAAI1F,WAAWqb,GADW3V,OAEzCnzB,KAAA,mBAFyCmzB,GAK3CnzB,KAAA,uBAfyCypC,EAgBzCzpC,KAAA,uBAA8BmqB,EAhBW4d,cAiBzC/nC,KAAA,mBAA0BmqB,EAjBe2d,aAkBzC9nC,KAAA,eAAsBmqB,EAlBmB5kB,OAoBzCvF,KAAA,mBApByC,KAqBzCA,KAAA,cArByC,GAuBzCA,KAAA,yCAA6C,cAC3C,iBAAoB,CAAA42C,MAAAA,EAAAhkB,MAAAA,OAGtB5yB,KAAA,4CAAgD,cAC9C,cAAiB,CAAA+1C,OAAAA,EAAArL,MAAAA,OAGnB1qC,KAAA,mDAAuD4yB,SAAAA,GACrD,iBAAoB,CAD0CA,MAAAA,OAIhE5yB,KAAA,mDAAuD,WACrD,EAD2Do+D,wBAI7Dp+D,KAAA,uBAvCyC+qC,oEA0C3CszB,SAAAA,GACE,IAAMlrC,EAAS,IAAI1F,WAAWznB,EAAf4sB,OADIO,OAEnB,QAAA/sB,IAAIJ,EAAK4wC,MACH52C,KAAJs+D,mBACEt+D,KAAA,4BAD2BmzB,GAG3BnzB,KAAA,mBADKmzB,OAGF,CACL,IAAMorC,EAAQv+D,KAAKw+D,cAAcC,MAAK,SAAU9nB,GAC9C,OAAIA,EAAY+nB,SAAW14D,EAA3B4wC,QAGAD,EAAAA,SAJ2DxjB,IAAA,OAO7DzI,EAAAA,EAAAA,QAAAA,EARK,gHAeT,WACE,OAAO1qB,KAAKs+D,mBAAqBt+D,KAAKs+D,mBAA/BK,QADoB,6BAI7BC,SAAAA,GACE,QAAAx4D,IAAIjC,EAAIumC,MAAqB,CAE3B,IAAMm0B,EAAc7+D,KAAKw+D,cAFE,GAGvBK,GAAeA,EAAnBroB,YACEqoB,EAAAA,WAAuB,CAAE9oB,OAAQ5xC,EADQ4xC,aAGtC,CACL,IAAMK,EAAap2C,KADds+D,mBAEDloB,GAAcA,EAAlBI,YACEJ,EAAAA,WAAsB,CAAEL,OAAQ5xC,EAAV4xC,OAAsBrL,MAAOvmC,EAA7BumC,2CAK5B0zB,WACMp+D,KAAJs+D,oBACEt+D,KAAA,mBAD2B+oC,kBAG7B/oC,KAAA,kBAJmB,oCAOrB8+D,SAAAA,GACE,IAAMz5D,EAAIrF,KAAKw+D,cAAc/kD,QADJy3B,GAErB7rC,GAAJ,GACErF,KAAA,uBADU,gCAKd81C,YACEprB,EAAAA,EAAAA,SACG1qB,KADH0qB,mBADc,iEAKd,IAAMq0C,EAAe/+D,KALPg/D,cAOd,OADAh/D,KAAA,cANc,KAOP,IAAIi/D,EAA6B,KAAjC,EAGLj/D,KAVYk/D,gDAchBC,SAAAA,EAAAA,GACE,GAAI1zC,GAAOzrB,KAAXo/D,uBACE,OADsC,KAGxC,IAAMluB,EAAS,IAAImuB,EAAkCr/D,KAAM42C,EAJlCnrB,GAOzB,OAFAzrB,KAAA,0CALyByrB,GAMzBzrB,KAAA,mBANyBkxC,GAAAA,mCAU3BouB,SAAAA,GACMt/D,KAAJs+D,oBACEt+D,KAAA,0BAD2BitB,GAGbjtB,KAAKw+D,cAAcx5D,MAJX,GAKxBu6D,SAAgB,SAAU5oB,GACxBA,EAAAA,OADqC1pB,MAGvCjtB,KAAA,uBARwBirC,cA3H5BkzB,kCAwIAc,EAAAA,WACEp4D,SAAAA,EAAAA,EAAAA,GAA2D,IAAzBkiC,EAAyB,gFACzD/oC,KAAA,QADyDm3D,EAEzDn3D,KAAA,MAAa+oC,IAF4C,EAGzD/oC,KAAA,UAHyD,KAIzDA,KAAA,cAAqB++D,GAJoC,GAKzD/+D,KAAA,QALyD,qCAMrCA,KAApBg/D,eANyD,IAMzD,2BAAwC,KAAxCpsC,EAAwC,QACtC5yB,KAAA,SAAgB4yB,EADsBP,YANiB,8BASzDryB,KAAA,UATyD,GAUzDA,KAAA,cAAqByJ,QAVoCC,UAWzDytD,EAAAA,mBAXyD,KAazDn3D,KAAA,WAbyD,kDAgB3Dw/D,SAAAA,GACMx/D,KAAJy/D,QAGIz/D,KAAK0/D,UAAUn6D,OAAnB,EAC4BvF,KAAK0/D,UADFnkB,QAE7BokB,QAA0B,CAAE/vD,MAAFgjB,EAAgBtqB,MAAhB,IAE1BtI,KAAA,mBADK4yB,GAGP5yB,KAAA,SAAgB4yB,EAVFP,sCAahB,WACE,OAAOryB,KADU4/D,oCAInB,WACE,OAAO5/D,KADM6/D,wCAIf,WACE,OAAO7/D,KAAK8/D,QADSC,oDAIvB,WACE,OAAO//D,KAAK8/D,QADaE,iDAI3B,WACE,OAAOhgE,KAAK8/D,QADMG,gGAIpB,2GACMjgE,KAAKg/D,cAAcz5D,OAAvB,GADF,uBAEUqtB,EAAQ5yB,KAAKg/D,cADczjB,QADrC,kBAGW,CAAE3rC,MAAFgjB,EAAgBtqB,MAAhB,IAHX,WAKMtI,KAAJy/D,MALF,yCAMW,CAAE7vD,WAAFxJ,EAAoBkC,MAApB,IANX,cAQQq3D,GARK,+BASX3/D,KAAA,eATW2/D,GAAb,kBAUSA,EAVI51B,SAAb,0HAaA9uB,SAAAA,GACEjb,KAAA,OADa,EAEbA,KAAA,mBAAuB,SAAU2/D,GAC/BA,EAAAA,QAA0B,CAAE/vD,WAAFxJ,EAAoBkC,MAApB,OAE5BtI,KAAA,UALa,kCAQf+oC,WACM/oC,KAAJy/D,QAGAz/D,KAAA,OAJgB,SAvEpBi/D,GAgFAI,EAAAA,WACEx4D,SAAAA,EAAAA,EAAAA,EAAAA,GAAgC,wBAC9B7G,KAAA,QAD8Bm3D,EAE9Bn3D,KAAA,OAF8B42C,EAG9B52C,KAAA,KAH8ByrB,EAI9BzrB,KAAA,aAJ8B,KAK9BA,KAAA,UAL8B,GAM9BA,KAAA,OAN8B,EAQ9BA,KAAA,WAR8B,kDAWhCw/D,SAAAA,GACMx/D,KAAJy/D,QAGA,IAAIz/D,KAAK0/D,UAAUn6D,OACjBvF,KAAA,aAD+B4yB,GAGJ5yB,KAAK0/D,UAD3BnkB,QAEL2kB,QAA2B,CAAEtwD,MAAFgjB,EAAgBtqB,MAAhB,IAC3BtI,KAAA,mBAAuB,SAAU2/D,GAC/BA,EAAAA,QAA0B,CAAE/vD,WAAFxJ,EAAoBkC,MAApB,OAE5BtI,KAAA,UANK,IAQPA,KAAA,OAdc,EAedA,KAAA,2BAfc,yCAkBhB,WACE,OADyB,mFAI3B,0GACMA,KAAJmgE,aADF,uBAEUvtC,EAAQ5yB,KADOmgE,aAErBngE,KAAA,aAFqB,KADzB,kBAIW,CAAE4P,MAAFgjB,EAAgBtqB,MAAhB,IAJX,WAMMtI,KAAJy/D,MANF,yCAOW,CAAE7vD,WAAFxJ,EAAoBkC,MAApB,IAPX,cASQq3D,GATK,+BAUX3/D,KAAA,eAVW2/D,GAAb,kBAWSA,EAXI51B,SAAb,0HAcA9uB,SAAAA,GACEjb,KAAA,OADa,EAEbA,KAAA,mBAAuB,SAAU2/D,GAC/BA,EAAAA,QAA0B,CAAE/vD,WAAFxJ,EAAoBkC,MAApB,OAE5BtI,KAAA,UALa,GAMbA,KAAA,2BANa,YAhDjBq/D,wGC3OA,WAkBAe,EAAAA,WACEv5D,SAAAA,EAAAA,GAAgC,QAAlBmoC,OAAAA,OAAkB,iCAC9BhvC,KAAA,UAD8B,IACdgvC,8CAGlB,WACE,IAAIvkB,EAAUzqB,KADAqgE,SAKd,OAHA,IACE51C,EAAU61C,EADCC,cAGN78B,EAAAA,EAAAA,QAAAA,KAAAA,YALOjZ,+BAQhB44B,SAAAA,GAA0C,IAA7BC,EAA6B,EAA7BA,MAAAvB,EAA6B,EAA7BA,KAAbsB,EAA0C,EAA1CA,WACE,OAAOid,EAAWjd,aAAaC,EAAOvB,EADEI,8BAI1C6S,SAAAA,GAAkE,IAAtDhpD,EAAsD,EAAtDA,MAAAC,EAAsD,EAAtDA,OAAAmC,EAAsD,EAAtDA,gBAAA6mD,EAAsD,EAAtDA,QAAZD,EAAkE,EAAlEA,QACE,OAAOsL,EAAWtL,YAAY,EAAvBsL,EAAAA,EAAAA,EADyD18D,wBAUlE6tC,WACE6uB,EADM1zB,gBA3BVwzB,oBAgCA,IAAIE,EAAc,WAChB,kBACE,IAAIE,EAASC,EAAGC,aADwBC,GAKxC,GAHAF,EAAAA,aAAAA,EAFwC/rC,GAGxC+rC,EAAAA,cAHwCD,IAIzBC,EAAGG,mBAAmBJ,EAAQC,EAJLI,gBAKzB,CACb,IAAIC,EAAWL,EAAGM,iBADLP,GAEb,MAAM,IAAI53D,MAAM,oCAFHk4D,GAIf,OATwCN,EAW1C,gBACE,OAAOQ,EAAWP,EAAI/rC,EAAM+rC,EADQQ,eAGtC,gBACE,OAAOD,EAAWP,EAAI/rC,EAAM+rC,EADUS,iBAGxC,gBAEE,IADA,IAAIC,EAAUV,EADoBW,gBAEzB/7D,EAAJ,EAAWqgC,EAAK27B,EAArB97D,OAAqCF,EAArCqgC,IAAArgC,EACEo7D,EAAAA,aAAAA,EAAyBY,EADuBh8D,IAKlD,GAFAo7D,EAAAA,YALkCU,IAMrBV,EAAGa,oBAAoBH,EAASV,EANXc,aAOrB,CACX,IAAIT,EAAWL,EAAGe,kBADPL,GAEX,MAAM,IAAIv4D,MAAM,iCAFLk4D,GAIb,OAXkCK,EAapC,kBACEV,EAAAA,cAD2CgB,GAE3C,IAAIC,EAAUjB,EAF6BkB,gBAa3C,OAVAlB,EAAAA,YAAeA,EAAfA,WAH2CiB,GAM3CjB,EAAAA,cAAiBA,EAAjBA,WAAgCA,EAAhCA,eAAmDA,EANRmB,eAO3CnB,EAAAA,cAAiBA,EAAjBA,WAAgCA,EAAhCA,eAAmDA,EAPRmB,eAQ3CnB,EAAAA,cAAiBA,EAAjBA,WAAgCA,EAAhCA,mBAAuDA,EARZoB,SAS3CpB,EAAAA,cAAiBA,EAAjBA,WAAgCA,EAAhCA,mBAAuDA,EATZoB,SAY3CpB,EAAAA,WAAcA,EAAdA,WAAAA,EAAgCA,EAAhCA,KAAyCA,EAAzCA,KAAkDA,EAAlDA,cAZ2C5Q,GAAA6R,EAgB7C,MA/C6CI,EAgD7C,aACE,IAKAA,EAAgBz4D,SAASe,cANL,UAOpB23D,EAAYD,EAAct1C,WAAW,QAAS,CAC5Cw1C,oBARkB,KAYtB,IA8CIC,EA1GyC,KA2PzCC,EA3PyC,KAoa7C,MAAO,CACL3B,UADK,WAEH,IAEE,OADA4B,MADEJ,EAGF,MAAOjxC,IACT,OALU,GADPuyB,aAzQP,gBACE,IAAIr3C,EAAQs3C,EAAZt3C,MACEC,EAASq3C,EAFkCr3C,OAI7Cg2D,GAnDF,WACE,MADqBxB,EAGrB0B,IACAj2C,EAJqB41C,EAKrBA,EALqB,KAMrBrB,EANqBsB,EAOrBA,EAPqB,KAUrB,IAEIZ,EAAUC,EAAcX,EAAI,CAFb2B,EAAmB3B,EAzDtC,o0BA0DqB4B,EAAqB5B,EA1C1C,ssDA4CAA,EAAAA,WAbqBU,GAerB,IAAIvhB,EAfiB,GAgBrBA,EAAAA,GAhBqB6gB,EAiBrB7gB,EAAAA,OAjBqB1zB,EAkBrB0zB,EAAAA,mBAA2B6gB,EAAG6B,mBAAmBnB,EAlB5B,gBAmBrBvhB,EAAAA,iBAAyB6gB,EAAG8B,kBAAkBpB,EAnBzB,cAoBrBvhB,EAAAA,iBAAyB6gB,EAAG6B,mBAAmBnB,EApB1B,cAqBrBvhB,EAAAA,gBAAwB6gB,EAAG6B,mBAAmBnB,EArBzB,aAuBrB,IAAIqB,EAAmB/B,EAAG8B,kBAAkBpB,EAvBvB,cAwBjBsB,EAAmBhC,EAAG6B,mBAAmBnB,EAxBxB,WAyBjBuB,EAAkBjC,EAAG6B,mBAAmBnB,EAzBvB,UA4BjBwB,EAAiBlC,EA5BAmC,eA6BrBnC,EAAAA,WAAcA,EAAdA,aA7BqBkC,GA+BrBlC,EAAAA,WAAcA,EAAdA,aAA+B,IAAIoC,aAAa,CAAC,EAAD,wBAMlCpC,EArCOqC,aAsCrBrC,EAAAA,wBAtCqB+B,GAuCrB/B,EAAAA,oBAAAA,EAAAA,EAA4CA,EAA5CA,OAAAA,EAAAA,EAvCqB,GAyCrBA,EAAAA,UAAAA,EAzCqB,GA0CrBA,EAAAA,UAAAA,EA1CqB,GA4CrBwB,EA5CqBriB,EAoDnBmjB,GAEF,IAAInjB,EAAJqiB,EACE/1C,EAAS0zB,EADX1zB,OAEEu0C,EAAK7gB,EATsC6gB,GAU7Cv0C,EAAAA,MAV6ClgB,EAW7CkgB,EAAAA,OAX6CjgB,EAY7Cw0D,EAAAA,SAAAA,EAAAA,EAAkBA,EAAlBA,mBAAyCA,EAZIuC,qBAa7CvC,EAAAA,UAAa7gB,EAAb6gB,mBAAAA,EAb6Cx0D,GAezCk2C,EAAJe,SACEud,EAAAA,UACE7gB,EADF6gB,mBAEEte,EAAWe,SAFbud,GAGEte,EAAWe,SAHbud,GAIEte,EAAWe,SAJbud,GADuB,GASvBA,EAAAA,UAAa7gB,EAAb6gB,mBAAAA,EAAAA,EAAAA,EADK,GAGPA,EAAAA,UACE7gB,EADF6gB,gBAEyB,eAAvBte,EAAWqB,QAA2B,EA5BK,GAgC7C,IAAIke,EAAUC,EAAclB,EAAInd,EAAOmd,EAhCMwC,UAiCzCC,EAAcvB,EAAclB,EAAI1e,EAAM0e,EAjCG0C,UAqCzChwC,EAASstC,EArCgCmC,eAgE7C,OA1BAnC,EAAAA,WAAcA,EAAdA,aAtC6CttC,GAwC7CstC,EAAAA,WAAcA,EAAdA,aAA+B,IAAIoC,aAAa,CAAC,EAAD,wBAM7BpC,EA9C0BqC,aA+C7CrC,EAAAA,wBAA2B7gB,EA/CkBwjB,kBAgD7C3C,EAAAA,oBAAuB7gB,EAAvB6gB,iBAAAA,EAAkDA,EAAlDA,OAAAA,EAAAA,EAhD6C,GAmD7CA,EAAAA,WAAAA,EAAAA,EAAAA,EAnD6C,GAoD7CA,EAAAA,OAAUA,EApDmC4C,OAqD7C5C,EAAAA,UAAaA,EAAbA,IAAqBA,EArDwB6C,qBAsD7C7C,EAAAA,MAASA,EAtDoC8C,kBAwD7C9C,EAAAA,WAAcA,EAAdA,UAAAA,EAxD6C,GA0D7CA,EA1D6C+C,QA4D7C/C,EAAAA,cA5D6CiB,GA6D7CjB,EAAAA,cA7D6CyC,GA8D7CzC,EAAAA,aA9D6CttC,GAAAjH,GAyQxC8oC,YA5IP,oBACEkN,GA5BF,WACE,MADuBzB,EAGvB0B,IACAj2C,EAJuB41C,EAKvBA,EALuB,KAMvBrB,EANuBsB,EAOvBA,EAPuB,KAUvB,IAEIZ,EAAUC,EAAcX,EAAI,CAFb2B,EAAmB3B,EAxCtC,ogCAyCqB4B,EAAqB5B,EAtB1C,scAwBAA,EAAAA,WAbuBU,GAevB,IAAIvhB,EAfmB,GAgBvBA,EAAAA,GAhBuB6gB,EAiBvB7gB,EAAAA,OAjBuB1zB,EAkBvB0zB,EAAAA,mBAA2B6gB,EAAG6B,mBAAmBnB,EAlB1B,gBAmBvBvhB,EAAAA,cAAsB6gB,EAAG6B,mBAAmBnB,EAnBrB,WAoBvBvhB,EAAAA,eAAuB6gB,EAAG6B,mBAAmBnB,EApBtB,YAqBvBvhB,EAAAA,iBAAyB6gB,EAAG8B,kBAAkBpB,EArBvB,cAsBvBvhB,EAAAA,cAAsB6gB,EAAG8B,kBAAkBpB,EAtBpB,WAwBvBe,EAxBuBtiB,EA6BrB6jB,GAEF,IAAI7jB,EAAJsiB,EACEh2C,EAAS0zB,EADX1zB,OAEEu0C,EAAK7gB,EAN8D6gB,GAQrEv0C,EAAAA,MARqElgB,EASrEkgB,EAAAA,OATqEjgB,EAUrEw0D,EAAAA,SAAAA,EAAAA,EAAkBA,EAAlBA,mBAAyCA,EAV4BuC,qBAWrEvC,EAAAA,UAAa7gB,EAAb6gB,mBAAAA,EAXqEx0D,GAcrE,IACA,IAfqEqoD,EAcjE1F,EAdiE,EAgBrE,IAAKvpD,EAAI,EAAGqgC,EAAKuvB,EAAjB1vD,OAAiCF,EAAjCqgC,EAAyCrgC,IACvC,OAAQ4vD,EAAQ5vD,GAAhBgF,MACE,cAEEukD,KADA0F,EAAQW,EAAQ5vD,GAAG6pD,OAAO3pD,OAAS0vD,EAAQ5vD,GAApCgvD,eADT,GAEW,IAAcY,EAAQ5vD,GAAGgvD,eAAzB,GAFX,EADF,MAKE,gBACEzF,GAASqG,EAAQ5vD,GAAG6pD,OADtB3pD,OAMJ,IAAI2pD,EAAS,IAAI2T,aA5BoD,EA4BvCjU,GAC1BwD,EAAS,IAAI3kC,WA7BoD,EA6BzCmhC,GACxB8U,EAAY9/D,EAAhBsrD,OACEyU,EAAY//D,EA/BuDwuD,OAgCjEwR,EAAJ,EACEC,EAjCmE,EAkCrE,IAAKx+D,EAAI,EAAGqgC,EAAKuvB,EAAjB1vD,OAAiCF,EAAjCqgC,EAAyCrgC,IAAK,CAC5C,IAAI8uD,EAASc,EAAb5vD,GACE6uD,EAAKC,EADPjF,OAEEkF,EAAKD,EAHqC/B,OAI5C,OAAQ+B,EAAR9pD,MACE,cACE,IAAIkqD,EAAOJ,EADbE,eAEEC,EAAQJ,EAAG3uD,OAAJgvD,EAFT,EAGE,IAAK,IAAIzQ,EAAT,EAAkBA,EAAlBwQ,EAA8BxQ,IAE5B,IADA,IAAIrI,EAASqI,EAAMyQ,EADgB,EAE1BuP,EAAT,EAAkBA,EAAlBvP,EAA8BuP,IAAOroB,IACnCyT,EAAAA,GAAiBwU,EAAUxP,EAAGzY,EAAS8Y,EADM,IAE7CrF,EAAO0U,EAAP1U,GAAqBwU,EAAUxP,EAAGzY,EAAS8Y,EAAZL,GAFc,GAG7ChF,EAAO0U,EAAP1U,GAAqBwU,EAAUxP,EAAGzY,EAHW8Y,IAI7CrF,EAAO0U,EAAP1U,GAAqBwU,EAAUxP,EAAGzY,EAAHyY,GAJc,GAK7ChF,EAAO0U,EAAP1U,GAAqBwU,EAAUxP,EAAGzY,EALW,IAM7CyT,EAAO0U,EAAP1U,GAAqBwU,EAAUxP,EAAGzY,EAAHyY,GANc,GAO7C9B,EAAAA,GAAiBuR,EAAUvP,EAAG3Y,EAAS8Y,EAPM,IAQ7CnC,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG3Y,EAAS8Y,EAAZH,GARc,GAS7ChC,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG3Y,EAAS8Y,EAAZH,GATc,GAU7ChC,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG3Y,EAVW8Y,IAW7CnC,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG3Y,EAAH2Y,GAXc,GAY7ChC,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG3Y,EAAH2Y,GAZc,GAa7ChC,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG3Y,EAbW,IAc7C2W,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG3Y,EAAH2Y,GAdc,GAe7ChC,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG3Y,EAAH2Y,GAfc,GAiB7ClF,EAAO0U,EAAP1U,GAAqBA,EAAO0U,EAjBiB,GAkB7C1U,EAAO0U,EAAP1U,GAAqBA,EAAO0U,EAlBiB,GAmB7C1U,EAAO0U,EAAP1U,GAAqBA,EAAO0U,EAnBiB,GAoB7C1U,EAAO0U,EAAP1U,GAAqBA,EAAO0U,EApBiB,GAqB7C1U,EAAO0U,EAAP1U,IAAsBwU,EAAUxP,EArBazY,IAsB7CyT,EAAO0U,EAAP1U,IAAsBwU,EAAUxP,EAAGzY,GAtBU,GAuB7C2W,EAAOyR,EAAPzR,GAAqBA,EAAOyR,EAvBiB,GAwB7CzR,EAAOyR,EAAPzR,IAAsBA,EAAOyR,EAxBgB,GAyB7CzR,EAAOyR,EAAPzR,IAAsBA,EAAOyR,EAzBgB,GA0B7CzR,EAAOyR,EAAPzR,IAAsBA,EAAOyR,EA1BgB,GA2B7CzR,EAAOyR,EAAPzR,IAAsBA,EAAOyR,EA3BgB,GA4B7CzR,EAAOyR,EAAPzR,IAAsBA,EAAOyR,EA5BgB,GA6B7CzR,EAAOyR,EAAPzR,IAAsBuR,EAAUvP,EA7Ba3Y,IA8B7C2W,EAAOyR,EAAPzR,IAAsBuR,EAAUvP,EAAG3Y,GA9BU,GA+B7C2W,EAAOyR,EAAPzR,IAAsBuR,EAAUvP,EAAG3Y,GA/BU,GAgC7CmoB,GAhC6C,GAiC7CC,GAjC6C,GANrD,MA2CE,gBACE,IAAK,IAAIv9D,EAAJ,EAAWk0D,EAAKtG,EAArB3uD,OAAgCe,EAAhCk0D,EAAwCl0D,IACtC4oD,EAAAA,GAAiBwU,EAAUxP,EADgB5tD,IAE3C4oD,EAAO0U,EAAP1U,GAAqBwU,EAAUxP,EAAG5tD,GAFS,GAG3C8rD,EAAAA,GAAiBuR,EAAUvP,EAHgB9tD,IAI3C8rD,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG9tD,GAJS,GAK3C8rD,EAAOyR,EAAPzR,GAAqBuR,EAAUvP,EAAG9tD,GALS,GAM3Cs9D,GAN2C,EAO3CC,GAP2C,GAcnD,EACEpD,EAAAA,WACEryD,EAAgB,GADlBqyD,IAEEryD,EAAgB,GAFlBqyD,IAGEryD,EAAgB,GAHlBqyD,IADmB,GAQnBA,EAAAA,WAAAA,EAAAA,EAAAA,EADK,GAGPA,EAAAA,MAASA,EA1G4D8C,kBA4GrE,IAAIQ,EAAetD,EA5GkDmC,eA6GrEnC,EAAAA,WAAcA,EAAdA,aA7GqEsD,GA8GrEtD,EAAAA,WAAcA,EAAdA,aAAAA,EAAuCA,EA9G8BqC,aA+GrErC,EAAAA,wBAA2B7gB,EA/G0CwjB,kBAgHrE3C,EAAAA,oBAAuB7gB,EAAvB6gB,iBAAAA,EAAkDA,EAAlDA,OAAAA,EAAAA,EAhHqE,GAkHrE,IAAIuD,EAAevD,EAlHkDmC,eAyIrE,OAtBAnC,EAAAA,WAAcA,EAAdA,aAnHqEuD,GAoHrEvD,EAAAA,WAAcA,EAAdA,aAAAA,EAAuCA,EApH8BqC,aAqHrErC,EAAAA,wBAA2B7gB,EArH0CqkB,eAsHrExD,EAAAA,oBACE7gB,EADF6gB,cAAAA,EAGEA,EAHFA,eAAAA,EAAAA,EAtHqE,GA+HrEA,EAAAA,UAAa7gB,EAAb6gB,cAAkC78D,EAAlC68D,OAAkD78D,EA/HmB8iD,QAgIrE+Z,EAAAA,UAAa7gB,EAAb6gB,eAAmC78D,EAAnC68D,QAAoD78D,EAhIiB+qB,SAkIrE8xC,EAAAA,WAAcA,EAAdA,UAAAA,EAlIqE7R,GAoIrE6R,EApIqE+C,QAsIrE/C,EAAAA,aAtIqEsD,GAuIrEtD,EAAAA,aAvIqEuD,GAAA93C,GAyJrE0gB,QAbK,WAcCq1B,GAAcA,EAAlB/1C,SACE+1C,EAAAA,OAAAA,MADmC,EAEnCA,EAAAA,OAAAA,OAFmC,GAIjCC,GAAgBA,EAApBh2C,SACEg2C,EAAAA,OAAAA,MADuC,EAEvCA,EAAAA,OAAAA,OAFuC,GAIzCD,EATQ,KAURC,EAVQ,OAjbI,2GClClB,WAOA,OAvBA,OAgDAgC,EAAAA,gGAKE,YAGE,OAFgBC,EAAWhkD,KADHikD,gBAItB,KAAKC,EAAAA,eAAL9tC,KACE,OAAO,IAAI+tC,EAFfH,GAIE,KAAKE,EAAAA,eAAL/tC,KACE,OAAO,IAAIiuC,EALfJ,GAOE,KAAKE,EAAAA,eAAL5sC,OAGE,OAFkB0sC,EAAWhkD,KAD/BqkD,WAII,SACE,OAAO,IAAIC,EAFfN,GAGE,UACE,OAAIA,EAAWhkD,KAAfukD,YACS,IAAIC,EADoBR,GAEtBA,EAAWhkD,KAAfykD,SACE,IAAIC,EADwBV,GAG9B,IAAIW,EATfX,GAUE,SACE,OAAO,IAAIY,EAXfZ,GAaA,OAAO,IAAIa,EAvBfb,GAyBE,KAAKE,EAAAA,eAALhtC,MACE,OAAO,IAAI4tC,EA1Bfd,GA4BE,KAAKE,EAAAA,eAAL7tC,SACE,OAAO,IAAI0uC,EA7Bff,GA+BE,KAAKE,EAAAA,eAAL5tC,KACE,OAAO,IAAI0uC,EAhCfhB,GAkCE,KAAKE,EAAAA,eAAL3tC,OACE,OAAO,IAAI0uC,EAnCfjB,GAqCE,KAAKE,EAAAA,eAAL1tC,OACE,OAAO,IAAI0uC,EAtCflB,GAwCE,KAAKE,EAAAA,eAALxtC,SACE,OAAO,IAAIyuC,EAzCfnB,GA2CE,KAAKE,EAAAA,eAALltC,MACE,OAAO,IAAIouC,EA5CfpB,GA8CE,KAAKE,EAAAA,eAALjtC,IACE,OAAO,IAAIouC,EA/CfrB,GAiDE,KAAKE,EAAAA,eAALztC,QACE,OAAO,IAAI6uC,EAlDftB,GAoDE,KAAKE,EAAAA,eAALvtC,UACE,OAAO,IAAI4uC,EArDfvB,GAuDE,KAAKE,EAAAA,eAALttC,UACE,OAAO,IAAI4uC,EAxDfxB,GA0DE,KAAKE,EAAAA,eAALrtC,SACE,OAAO,IAAI4uC,EA3DfzB,GA6DE,KAAKE,EAAAA,eAALptC,UACE,OAAO,IAAI4uC,EA9Df1B,GAgEE,KAAKE,EAAAA,eAALntC,MACE,OAAO,IAAI4uC,EAjEf3B,GAmEE,KAAKE,EAAAA,eAAL/sC,eACE,OAAO,IAAIyuC,EApEf5B,GAsEE,QACE,OAAO,IAAI6B,EAvEf7B,UARJD,GAoFA8B,EAAAA,WACEn/D,SAAAA,EAAAA,GAAoE,IAA5Co/D,EAA4C,wDAAtBC,EAAsB,gFAClElmE,KAAA,aADkEimE,EAElEjmE,KAAA,KAAYmkE,EAFsDhkD,KAGlEngB,KAAA,MAAamkE,EAHqD7gB,MAIlEtjD,KAAA,KAAYmkE,EAJsDzuB,KAKlE11C,KAAA,SAAgBmkE,EALkDl2B,SAMlEjuC,KAAA,YAAmBmkE,EAN+CgC,YAOlEnmE,KAAA,gBAAuBmkE,EAP2CiC,gBAQlEpmE,KAAA,mBAA0BmkE,EARwCkC,mBASlErmE,KAAA,uBAA8BmkE,EAToCh2B,uBAUlEnuC,KAAA,WAAkBmkE,EAVgDmC,WAWlEtmE,KAAA,kBAAyBmkE,EAXyCl3B,kBAalE,IACEjtC,KAAA,UAAiBA,KAAKumE,iBADNL,yDAapBK,WAAuC,IAAtBL,EAAsB,wDAC/B/lD,EAAOngB,KAAbmgB,KACEu1B,EAAO11C,KADT01C,KAEEzH,EAAWjuC,KAHwBiuC,SAI/Bu4B,EAAYn9D,SAASe,cAJU,WAKjC4B,EAAQmU,EAAKuP,KAAK,GAAKvP,EAAKuP,KALK,GAMjCzjB,EAASkU,EAAKuP,KAAK,GAAKvP,EAAKuP,KANI,GAQrC82C,EAAAA,aAAAA,qBAA6CrmD,EARRxY,IAYrC,IAAM+nB,EAAOJ,EAAAA,KAAAA,cAAmB,CAC9BnP,EAAKuP,KADyB,GAE9BgmB,EAAKhI,KAAK,GAAKvtB,EAAKuP,KAApBgmB,GAA8BA,EAAKhI,KAFL,GAG9BvtB,EAAKuP,KAHyB,GAI9BgmB,EAAKhI,KAAK,GAAKvtB,EAAKuP,KAApBgmB,GAA8BA,EAAKhI,KAJL,KAUhC,GAHA84B,EAAAA,MAAAA,UAAAA,UAAAA,OAAsCv4B,EAAS1e,UAAUpmB,KAA7B,KAA5Bq9D,KACAA,EAAAA,MAAAA,gBAAAA,IAAAA,OAAsC92C,EAAJ,GAAlC82C,QAAAA,OAAoD92C,EAAlB,GAAlC82C,OAEKN,GAAgB/lD,EAAKsmD,YAAYz6D,MAAtC,EAAiD,CAC/Cw6D,EAAAA,MAAAA,YAAAA,GAAAA,OAAiCrmD,EAAKsmD,YAARz6D,MAA9Bw6D,MACIrmD,EAAKsmD,YAAY16D,QAAU26D,EAAAA,0BAA/B3vC,YAIE/qB,GAAgB,EAAImU,EAAKsmD,YAJyCz6D,MAKlEC,GAAkB,EAAIkU,EAAKsmD,YALuCz6D,OAQpE,IAAM26D,EAAmBxmD,EAAKsmD,YAViBG,uBAWzCC,EAAiB1mD,EAAKsmD,YAXmBK,qBAY/C,GAAIH,EAAmB,GAAKE,EAA5B,EAAgD,CAC9C,IAAME,EAAS,GAATA,OAASJ,EAATI,SAAAA,OAASF,EAATE,MACNP,EAAAA,MAAAA,aAF8CO,EAKhD,OAAQ5mD,EAAKsmD,YAAb16D,OACE,KAAK26D,EAAAA,0BAALvsC,MACEqsC,EAAAA,MAAAA,YADF,QADF,MAKE,KAAKE,EAAAA,0BAALtsC,OACEosC,EAAAA,MAAAA,YADF,SALF,MASE,KAAKE,EAAAA,0BAALrsC,SACExuB,EAAAA,EAAAA,MADF,uCATF,MAaE,KAAK66D,EAAAA,0BAALpsC,OACEzuB,EAAAA,EAAAA,MADF,qCAbF,MAiBE,KAAK66D,EAAAA,0BAAL3vC,UACEyvC,EAAAA,MAAAA,kBADF,QAQErmD,EAAJssC,MACE+Z,EAAAA,MAAAA,YAA8BviC,EAAAA,KAAAA,WAAAA,EAC5B9jB,EAAKssC,MAAM,GADiBxoB,EAE5B9jB,EAAKssC,MAAM,GAHC,EAIZtsC,EAAKssC,MAAM,IAIb+Z,EAAAA,MAAAA,YAFK,EAUT,OAJAA,EAAAA,MAAAA,KAAAA,GAAAA,OAA0B92C,EAAH,GAAvB82C,MACAA,EAAAA,MAAAA,IAAAA,GAAAA,OAAyB92C,EAAH,GAAtB82C,MACAA,EAAAA,MAAAA,MAAAA,GAAAA,OAAwBx6D,EAAxBw6D,MACAA,EAAAA,MAAAA,OAAAA,GAAAA,OAAyBv6D,EAAzBu6D,MA/EqCA,8BA8FvCQ,SAAAA,EAAAA,EAAAA,GAEEtoD,KACEA,EAAUrV,SAASe,cADP,QAEZsU,MAAAA,OAAuB8nD,EAAUz6D,MAFrBE,OAGZyS,EAAAA,MAAAA,MAAsB8nD,EAAUz6D,MAHpBC,MAIZw6D,EAAAA,YAJY9nD,IAOd,IASMuoD,EATe,IAAIC,EAAa,CAAAV,UAAAA,EAAA9nD,QAAAA,EAGpC+tC,MAAOtsC,EAH6BssC,MAIpC3hC,MAAO3K,EAJ6B2K,MAKpCq8C,iBAAkBhnD,EALkBgnD,iBAMpCC,SAAUjnD,EAN0BinD,SAOpCC,aAPoC,IATD36D,SAqBrCu6D,EAAAA,MAAAA,KAAmBT,EAAUz6D,MArBQC,MAuBrCw6D,EAAAA,YAvBqCS,yBAgCvCv6D,YACEsf,EAAAA,EAAAA,aADO,2DAzJXg6C,GA8JA1B,EAAAA,SAAAA,wCACEz9D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAKjY,KAChBi8D,EAAWhkD,KADX4gC,MAEAojB,EAAWhkD,KAJSm3C,QAAA,mBAMtB6M,EANsB,8CAgBxBz3D,WACE1M,KAAA,oBADO,iBAGP,IAAMmgB,EAHC,KAGDA,KAAAgmD,EAHC,KAGDA,YACAt7C,EAAOxhB,SAASe,cAJf,KAsBP,OAhBI+V,EAAJjY,KACEo/D,EAAAA,EAAAA,mBAAAA,EAAwB,CACtBp/D,IAAKiY,EADiBjY,IAEtBqiB,OAAQpK,EAAKonD,UACTv8C,EAAAA,WADI7K,MAEJgmD,EAJkBqB,mBAKtBh9C,IAAK27C,EALiBsB,gBAMtBh9C,QAAS07C,EANauB,sBAQfvnD,EAAJm3C,OACLt3D,KAAA,mBAA4BmgB,EADNm3C,QAGtBt3D,KAAA,YAAqBmgB,EADhB4gC,MAIP/gD,KAAA,sBArBO6qB,GAsBA7qB,KAtBAwmE,mCAiCTmB,SAAAA,EAAAA,GAA6B,WAC3B98C,EAAAA,KAAY7qB,KAAKmmE,YAAYyB,mBADFC,GAE3Bh9C,EAAAA,QAAe,WAIb,OAHA,GACE,yBADeg9C,IADE,GAMrB,IACEh9C,EAAAA,UADe,gDAanBi9C,SAAAA,EAAAA,GAA+B,WAC7Bj9C,EAAAA,KAAY7qB,KAAKmmE,YAAY4B,aADA,IAE7Bl9C,EAAAA,QAAe,WAEb,OADA,iCADmBysC,IAAA,GAIrBzsC,EAAAA,UAN6B,qBAvEjCy5C,CAAA0B,GAiFAzB,EAAAA,SAAAA,wCACE19D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EANsB,8CAgBxBz3D,WACE1M,KAAA,oBADO,iBAGP,IAAM6vD,EAAQxmD,SAASe,cAHhB,OAoBP,OAhBAylD,EAAAA,MAAAA,OAAqB7vD,KAAKwmE,UAAUz6D,MAJ7BE,OAKP4jD,EAAAA,MAAAA,MAAoB7vD,KAAKwmE,UAAUz6D,MAL5BC,MAMP6jD,EAAAA,IACE7vD,KAAKqmE,mBAAL,cAEArmE,KAAKmgB,KAAKtb,KAFV+U,cAPK,OAWPi2C,EAAAA,IAXO,wBAYPA,EAAAA,QAAAA,OAZO,uBAaPA,EAAAA,QAAAA,SAAyBhnD,KAAKC,UAAU,CAAEuB,KAAMrK,KAAKmgB,KAb9Ctb,OAeF7E,KAAKmgB,KAAV6nD,UACEhoE,KAAA,aAAkBA,KAAlBwmE,UAAAA,EAAyCxmE,KADlBmgB,MAIzBngB,KAAA,sBAnBO6vD,GAoBA7vD,KApBAwmE,gBAjBXjC,CAAAyB,GAyCAhB,EAAAA,SAAAA,uJAQEt4D,WAEE,OAAO1M,KAFAwmE,gBARXxB,CAAAgB,GAcAvB,EAAAA,SAAAA,wCACE59D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,EACJ9B,EAAWh2B,yBACTg2B,EAAWhkD,KAAZ8nD,iBAAoC9D,EAAWhkD,KAH5B+nD,WAAA,mBAItB/D,EAJsB,8CAcxBz3D,WACE,IACMy7D,EAAUnoE,KAFTitC,kBAGDtlC,EAAK3H,KAAKmgB,KAHTxY,GAKP3H,KAAA,oBALO,uBAOP,IAAIqa,EAPG,KAQP,GAAIra,KAAJmuC,uBAAiC,CAI/B,IAAM2C,EAAcq3B,EAAQvqB,iBAAiBj2C,EAAI3H,KAAKmgB,KAJvB+nD,YA0B/B,GApBIloE,KAAKmgB,KAATioD,WACE/tD,EAAUhR,SAASe,cADI,aAEvBiQ,YAFuBy2B,IAIvBz2B,EAAUhR,SAASe,cADd,UAELiQ,KAFK,OAGLA,EAAAA,aAAAA,QAHKy2B,IAMPz2B,EAAAA,iBAAAA,SAAkC,SAAUrW,GAC1CmkE,EAAAA,SAAAA,EAAqBnkE,EAAMumB,OADsB3a,UAInDyK,EAAAA,SAAmBra,KAAKmgB,KAnBOkoD,SAoB/BhuD,EAAAA,KAAera,KAAKmgB,KApBWmoD,UAsB/B,OAAItoE,KAAKmgB,KAAKooD,SACZluD,EAAAA,UAAoBra,KAAKmgB,KADIooD,QAI3BvoE,KAAKmgB,KAATqoD,KAAoB,CAClB,IACMC,GADazoE,KAAKmgB,KAAKuP,KAAK,GAAK1vB,KAAKmgB,KAAKuP,KAD/B,IAEa1vB,KAAKmgB,KAFlBooD,OAIlBluD,EAAAA,UAAAA,IAJkB,QAKlBA,EAAAA,MAAAA,cAAAA,QAAAA,OAA8BouD,EAA9BpuD,kBAEG,EACLA,EAAUhR,SAASe,cADd,QAELiQ,YAAsBra,KAAKmgB,KAFtB+nD,WAGL7tD,EAAAA,MAAAA,cAHK,SAILA,EAAAA,MAAAA,QAJK,aAML,IAAIwnB,EANC,KAQH7hC,KAAKmgB,KAAKuoC,aACV1oD,KAAK01C,KAAKrI,WAAWhqC,IAAIrD,KAAKmgB,KAFhCuoC,eAIE7mB,EAAO7hC,KAAK01C,KAAKrI,WAAWx3B,IAAI7V,KAAKmgB,KADrCuoC,cAGF1oD,KAAA,gBAbK6hC,GAqBP,OALA,OAAI7hC,KAAKmgB,KAAKuoD,gBACZruD,EAAAA,MAAAA,UAzDqB,CAAC,OAAQ,SAAU,SAyDCra,KAAKmgB,KADVuoD,gBAItC1oE,KAAA,sBA7DOqa,GA8DAra,KA9DAwmE,uCAyETmC,SAAAA,EAAAA,GAEE,IAAM58D,EAAQsO,EAFatO,MAM3B,GAHAA,EAAAA,SAAAA,GAAAA,OAAoB/L,KAAKmgB,KAARooC,SAAjBx8C,MACAA,EAAAA,UAAkB/L,KAAKmgB,KAAK6pC,cAAgB,EAAI,MAJrB,MAM3BnoB,EAAA,CAIA,IAAIinB,EAVuB,SAWvBjnB,EAAJ6f,MACEoH,EADc,MAELjnB,EAAJinB,OACLA,EADoB,QAGtB/8C,EAAAA,WAhB2B+8C,EAiB3B/8C,EAAAA,UAAkB81B,EAAKknB,OAAS,SAjBL,SAoB3B,IAAM6f,EAAa/mC,EAAKya,WAAa,IAAlBza,OAAsBA,EAAJya,WAAlBza,OApBQ,GAqBrBonB,EAAepnB,EAAKonB,cArBC,wBAsB3Bl9C,EAAAA,WAAmB68D,EAtBQ3f,SAxF/Bwb,CAAAO,GAkHAH,EAAAA,SAAAA,wCACEh+D,SAAAA,EAAAA,GAAwB,2CACtBs9D,EAAkBA,EADIh2B,mEAYxBzhC,WACE,IAAMy7D,EAAUnoE,KADTitC,kBAED9sB,EAAOngB,KAFNmgB,KAGDxY,EAAKwY,EAHJxY,GAIDiI,EAAQu4D,EAAQvqB,iBAAiB,EAErCz9B,EAAK+nD,YANA,QAMc/nD,EAAK+nD,YAG1BloE,KAAA,oBATO,kCAWP,IAAMqa,EAAUhR,SAASe,cAXlB,SAwBP,OAZAiQ,EAAAA,SAAmB8F,EAZZkoD,SAaPhuD,EAAAA,KAbO,WAcPA,EAAAA,KAAera,KAAKmgB,KAdbmoD,UAeP,GACEjuD,EAAAA,aAAAA,WADS,GAIXA,EAAAA,iBAAAA,UAAmC,SAAUrW,GAC3CmkE,EAAAA,SAAAA,EAAqBnkE,EAAMumB,OADuBs+C,YAIpD7oE,KAAA,sBAvBOqa,GAwBAra,KAxBAwmE,gBAbX3B,CAAAG,GAyCAL,EAAAA,SAAAA,wCACE99D,SAAAA,EAAAA,GAAwB,2CACtBs9D,EAAkBA,EADIh2B,mEAYxBzhC,WACE1M,KAAA,oBADO,qCAEP,IAAMmoE,EAAUnoE,KAFTitC,kBAGD9sB,EAAOngB,KAHNmgB,KAIDxY,EAAKwY,EAJJxY,GAKDiI,EAAQu4D,EAAQvqB,iBAAiB,EAErCz9B,EAAK+nD,aAAe/nD,EAPf2oD,aAUDzuD,EAAUhR,SAASe,cAVlB,SAgCP,OArBAiQ,EAAAA,SAAmB8F,EAXZkoD,SAYPhuD,EAAAA,KAZO,QAaPA,EAAAA,KAAe8F,EAbRmoD,UAcP,GACEjuD,EAAAA,aAAAA,WADS,GAIXA,EAAAA,iBAAAA,UAAmC,SAAUrW,GAC3C,IADkD,EAC5Ca,EAAOb,EAAMumB,OAD+B1lB,KAAA,6BAE9BwE,SAAS0/D,kBAA7BlkE,IAFkD,IAElD,2BAAsD,KAAtDmkE,EAAsD,QAChDA,IAAUhlE,EAAdumB,QACE49C,EAAAA,SACEa,EAAMlhD,WAAWmhD,aADnBd,uBAD0B,IAHoB,8BAUlDA,EAAAA,SAAAA,EAAqBnkE,EAAMumB,OAVuBs+C,YAapD7oE,KAAA,sBA/BOqa,GAgCAra,KAhCAwmE,gBAbX7B,CAAAK,GAiDAF,EAAAA,SAAAA,uJASEp4D,WAIE,IAAM85D,EAAY,KAAZA,gBAAAA,EAAAA,WAAAA,SAAAA,MAAAA,KAAAA,MAEN,OADAA,EAAAA,UALO,oCAAAA,QATX1B,CAAAR,GAmBAS,EAAAA,SAAAA,wCACEl+D,SAAAA,EAAAA,GAAwB,2CACtBs9D,EAAkBA,EADIh2B,mEAYxBzhC,WACE1M,KAAA,oBADO,yBAEP,IAAMmoE,EAAUnoE,KAFTitC,kBAGDtlC,EAAK3H,KAAKmgB,KAHTxY,GAYPwgE,EAAAA,iBAAAA,EAEEnoE,KAAKmgB,KAAK+nD,WAAW3iE,OAAS,EAAIvF,KAAKmgB,KAAK+nD,WAA5C,GAdK,MAiBP,IAAMgB,EAAgB7/D,SAASe,cAjBxB,UAkBP8+D,EAAAA,SAAyBlpE,KAAKmgB,KAlBvBkoD,SAmBPa,EAAAA,KAAqBlpE,KAAKmgB,KAnBnBmoD,UAqBFtoE,KAAKmgB,KAAVgpD,QAEED,EAAAA,KAAqBlpE,KAAKmgB,KAAKxX,QAFXpD,OAGhBvF,KAAKmgB,KAATipD,cACEF,EAAAA,UADyB,IAxBtB,mCA8BclpE,KAAKmgB,KAA1BxX,SA9BO,IA8BP,2BAAwC,KAAxC4X,EAAwC,QAChC8oD,EAAgBhgE,SAASe,cADO,UAEtCi/D,EAAAA,YAA4B9oD,EAFU+oD,aAGtCD,EAAAA,MAAsB9oD,EAHgBgpD,YAIlCvpE,KAAKmgB,KAAK+nD,WAAWh1D,SAASqN,EAAlCgpD,cACEF,EAAAA,aAAAA,YADqD,GAGvDH,EAAAA,YAPsCG,IA9BjC,8BA+CP,OAPAH,EAAAA,iBAAAA,SAAwC,SAAUllE,GAChD,IAAM2E,EAAU3E,EAAMumB,OADiC5hB,QAEjDiH,EAAQjH,EAAQA,EAARA,eAFyCiH,MAGvDu4D,EAAAA,SAAAA,EAHuDv4D,MAMzD5P,KAAA,sBA9COkpE,GA+CAlpE,KA/CAwmE,gBAbXzB,CAAAC,GAgEAC,EAAAA,SAAAA,wCACEp+D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KAAkB9B,EAAWhkD,KAAK2K,QAASq5C,EAAWhkD,KADtCinD,UAAA,mBAEtBjD,EAFsB,8CAYxBz3D,WAcE,GAFA1M,KAAA,oBAZO,kBAGc,CAAC,OAAD,8CAWJkT,SAASlT,KAAKmgB,KAA/BqpD,YACE,OAAOxpE,KADwCwmE,UAIjD,IAAMiD,EAAW,wBAAXA,OAAmCzpE,KAAKmgB,KAA7BupD,SAAXD,MACAE,EAAgB3pE,KAAKsjD,MAAMsmB,cAnB1BH,GAoBP,IAAAE,EACE,OAAO3pE,KADWwmE,UAIpB,IAAMS,EAAQ,IAAIC,EAAa,CAC7BV,UAAWxmE,KADkBwmE,UAE7B9nD,QAF6BirD,EAG7Bld,MAAOzsD,KAAKmgB,KAHiBssC,MAI7B3hC,MAAO9qB,KAAKmgB,KAJiB2K,MAK7Bq8C,iBAAkBnnE,KAAKmgB,KALMgnD,iBAM7BC,SAAUpnE,KAAKmgB,KANcinD,WAWzByC,EAAaC,WAAWH,EAAc59D,MAnCrCG,MAoCD69D,EAAcD,WAAWH,EAAc59D,MApCtCC,OA2CP,OANAhM,KAAA,2CAA2C6pE,EAAJE,EAAvC,eACEJ,EAAc59D,MADuBI,KAGvCnM,KAAA,+BAA+B6pE,EAAHE,EAA5B,MAEA/pE,KAAA,sBAA2BinE,EA1CpBv6D,UA2CA1M,KA3CAwmE,gBAbXvB,CAAAe,GA4DAkB,EAAAA,WACErgE,SAAAA,EAAAA,GAAwB,wBACtB7G,KAAA,UAAiBmkE,EADKqC,UAEtBxmE,KAAA,QAAemkE,EAFOzlD,QAGtB1e,KAAA,MAAamkE,EAHS1X,MAItBzsD,KAAA,MAAamkE,EAJSr5C,MAKtB9qB,KAAA,iBAAwBmkE,EALFgD,iBAMtBnnE,KAAA,SAAgBmkE,EANMiD,SAOtBpnE,KAAA,YAAmBmkE,EAAWkD,cAPR,EAStBrnE,KAAA,QATsB,6CAmBxB0M,WACE,IAEMsnC,EAAU3qC,SAASe,cAHlB,OAIP4pC,EAAAA,UAJO,eAUPh0C,KAAA,YAAmBA,KAAKqnE,YAAcrzB,EAAUh0C,KAVzCwmE,UAWPxmE,KAAA,mCAXO,GAaP,IAAMinE,EAAQ59D,SAASe,cAbhB,OAcP68D,EAAAA,UAdO,QAgBP,IAAMxa,EAAQzsD,KAhBPysD,MAiBP,KAAW,CAET,IAAMn0C,EAnBD,IAmB2B,IAAMm0C,EAA5Bud,IAAwCvd,EAFzC,GAGHvoB,EApBD,IAoB2B,IAAMuoB,EAA5Bud,IAAwCvd,EAHzC,GAIH5pD,EArBD,IAqB2B,IAAM4pD,EAA5Bud,IAAwCvd,EAJzC,GAKTwa,EAAAA,MAAAA,gBAA8BhjC,EAAAA,KAAAA,WAAAA,EAAgB3rB,EAAhB2rB,EAAuBC,EAL5C,EAKmDrhC,GAG9D,IAAMioB,EAAQzhB,SAASe,cAzBhB,MA0BP0gB,EAAAA,YAAoB9qB,KA1Bb8qB,MA2BPm8C,EAAAA,YA3BOn8C,GAgCP,IAAMm/C,EAAal5C,EAAAA,cAAAA,aAA2B/wB,KAhCvCmnE,kBAiCP,KAAgB,CACd,IAAMA,EAAmB99D,SAASe,cADpB,QAEd+8D,EAAAA,YAFc,qBAGdA,EAAAA,QAAAA,OAHc,yBAIdA,EAAAA,QAAAA,SAAoCt+D,KAAKC,UAAU,CACjDoqB,KAAM+2C,EAD2CC,qBAEjDj6C,KAAMg6C,EAF2CE,uBAInDlD,EAAAA,YARcE,GAWhB,IAAMC,EAAWpnE,KAAKoqE,gBAAgBpqE,KA5C/BonE,UAsDP,OATAH,EAAAA,YA7COG,GAgDPpnE,KAAA,iCAAuCA,KAAKqqE,QAAQ5/D,KAhD7C,OAiDPzK,KAAA,qCAA2CA,KAAKsqE,MAAM7/D,KAAKzK,MAjDpD,IAkDPA,KAAA,oCAA0CA,KAAKuqE,MAAM9/D,KAAKzK,MAlDnD,IAmDPinE,EAAAA,iBAAAA,QAAgCjnE,KAAKuqE,MAAM9/D,KAAKzK,MAnDzC,IAqDPg0C,EAAAA,YArDOizB,GAAAjzB,iCAiETo2B,SAAAA,GAGE,IAFA,IAAM9pE,EAAI+I,SAASe,cADK,KAElBogE,EAAQpD,EAASpqD,MAFC,gBAGf3X,EAAJ,EAAWqgC,EAAK8kC,EAArBjlE,OAAmCF,EAAnCqgC,IAAArgC,EAAgD,CAC9C,IAAMolE,EAAOD,EADiCnlE,GAE9C/E,EAAAA,YAAc+I,SAASgf,eAFuBoiD,IAG1CplE,EAAIqgC,EAAR,GACEplC,EAAAA,YAAc+I,SAASe,cADT,OAIlB,OAVwB9J,yBAmB1B+pE,WACMrqE,KAAJ0qE,OACE1qE,KAAA,OADe,GAGfA,KAAA,OADK,wBAYTsqE,WAAmB,IAAbK,EAAa,wDACjB,IACE3qE,KAAA,QADO,GAGLA,KAAK4qE,YAAYC,aAArB,YACE7qE,KAAA,4BAD2C,UAE3CA,KAAA,wBAF2C,wBAa/CuqE,WAAoB,IAAdO,IAAc,yDAClB,IACE9qE,KAAA,QADS,GAGNA,KAAK4qE,YAAYC,aAAlB,WAA6C7qE,KAAjD0qE,SACE1qE,KAAA,mCAD4D,GAE5DA,KAAA,wBAF4D,SA5IlEknE,GAmJAhC,EAAAA,SAAAA,wCACEr+D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WAME,OALA1M,KAAA,oBADO,qBAGFA,KAAKmgB,KAAV6nD,UACEhoE,KAAA,aAAkBA,KAAlBwmE,UAAAA,KAAwCxmE,KADjBmgB,MAGlBngB,KANAwmE,gBAjBXtB,CAAAc,GA2BAb,EAAAA,SAAAA,wCACEt+D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WACE1M,KAAA,oBADO,iBAMP,IAAMmgB,EAAOngB,KANNmgB,KAODnU,EAAQmU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAP3B,GAQDzjB,EAASkU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAR5B,GASDrB,EAAMruB,KAAKsmE,WAAW7hE,OAAOuH,EAT5BC,GAaDw+D,EAAOzqE,KAAKsmE,WAAWl8D,cAbtB,YA8BP,OAhBAqgE,EAAAA,aAAAA,KAAwBtqD,EAAKuP,KAAK,GAAKvP,EAAK4qD,gBAdrC,IAePN,EAAAA,aAAAA,KAAwBtqD,EAAKuP,KAAK,GAAKvP,EAAK4qD,gBAfrC,IAgBPN,EAAAA,aAAAA,KAAwBtqD,EAAKuP,KAAK,GAAKvP,EAAK4qD,gBAhBrC,IAiBPN,EAAAA,aAAAA,KAAwBtqD,EAAKuP,KAAK,GAAKvP,EAAK4qD,gBAjBrC,IAoBPN,EAAAA,aAAAA,eAAkCtqD,EAAKsmD,YAAYz6D,OApB5C,GAqBPy+D,EAAAA,aAAAA,SArBO,eAuBPp8C,EAAAA,YAvBOo8C,GAwBPzqE,KAAA,iBAxBOquB,GA4BPruB,KAAA,aAAkBA,KAAlBwmE,UAAAA,EA5BOrmD,GA8BAngB,KA9BAwmE,gBAjBXrB,CAAAa,GAmDAZ,EAAAA,SAAAA,wCACEv+D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WACE1M,KAAA,oBADO,mBAMP,IAAMmgB,EAAOngB,KANNmgB,KAODnU,EAAQmU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAP3B,GAQDzjB,EAASkU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAR5B,GASDrB,EAAMruB,KAAKsmE,WAAW7hE,OAAOuH,EAT5BC,GAcD++D,EAAc7qD,EAAKsmD,YAdlBz6D,MAeDi/D,EAASjrE,KAAKsmE,WAAWl8D,cAfxB,YAiCP,OAjBA6gE,EAAAA,aAAAA,IAAyBD,EAhBlB,GAiBPC,EAAAA,aAAAA,IAAyBD,EAjBlB,GAkBPC,EAAAA,aAAAA,QAA6Bj/D,EAlBtBg/D,GAmBPC,EAAAA,aAAAA,SAA8Bh/D,EAnBvB++D,GAsBPC,EAAAA,aAAAA,eAAoCD,GAtB7B,GAuBPC,EAAAA,aAAAA,SAvBO,eAwBPA,EAAAA,aAAAA,OAxBO,QA0BP58C,EAAAA,YA1BO48C,GA2BPjrE,KAAA,iBA3BOquB,GA+BPruB,KAAA,aAAkBA,KAAlBwmE,UAAAA,EA/BOrmD,GAiCAngB,KAjCAwmE,gBAjBXpB,CAAAY,GAsDAX,EAAAA,SAAAA,wCACEx+D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WACE1M,KAAA,oBADO,mBAMP,IAAMmgB,EAAOngB,KANNmgB,KAODnU,EAAQmU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAP3B,GAQDzjB,EAASkU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAR5B,GASDrB,EAAMruB,KAAKsmE,WAAW7hE,OAAOuH,EAT5BC,GAcD++D,EAAc7qD,EAAKsmD,YAdlBz6D,MAeDk/D,EAASlrE,KAAKsmE,WAAWl8D,cAfxB,eAiCP,OAjBA8gE,EAAAA,aAAAA,KAA0Bl/D,EAhBnB,GAiBPk/D,EAAAA,aAAAA,KAA0Bj/D,EAjBnB,GAkBPi/D,EAAAA,aAAAA,KAA0Bl/D,EAAQ,EAAIg/D,EAlB/B,GAmBPE,EAAAA,aAAAA,KAA0Bj/D,EAAS,EAAI++D,EAnBhC,GAsBPE,EAAAA,aAAAA,eAAoCF,GAtB7B,GAuBPE,EAAAA,aAAAA,SAvBO,eAwBPA,EAAAA,aAAAA,OAxBO,QA0BP78C,EAAAA,YA1BO68C,GA2BPlrE,KAAA,iBA3BOquB,GA+BPruB,KAAA,aAAkBA,KAAlBwmE,UAAAA,EA/BOrmD,GAiCAngB,KAjCAwmE,gBAjBXnB,CAAAW,GAsDAV,EAAAA,SAAAA,wCACEz+D,SAAAA,EAAAA,GAAwB,8BACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,OAMtB,mBANsB,IAQtB,mBARsB,qBAStB,iBATsB,4DAmBxB16D,WACE1M,KAAA,oBAA2BA,KADpBmrE,mBAMP,IANO,EAMDhrD,EAAOngB,KANNmgB,KAODnU,EAAQmU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAP3B,GAQDzjB,EAASkU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAR5B,GASDrB,EAAMruB,KAAKsmE,WAAW7hE,OAAOuH,EAT5BC,GAeHuiD,EAfG,gCAgBkBruC,EAAzBirD,UAhBO,IAgBP,2BAAwC,KAAxCC,EAAwC,QAChCvrE,EAAIurE,EAAWvrE,EAAIqgB,EAAKuP,KADQ,GAEhC3vB,EAAIogB,EAAKuP,KAAK,GAAK27C,EAFatrE,EAGtCyuD,EAAAA,KAAY1uD,EAAI,IAHsBC,IAhBjC,8BAqBPyuD,EAASA,EAAOrlD,KArBT,KAuBP,IAAMmiE,EAAWtrE,KAAKsmE,WAAWl8D,cAAcpK,KAvBxCurE,gBAsCP,OAdAD,EAAAA,aAAAA,SAxBO9c,GA2BP8c,EAAAA,aAAAA,eAAsCnrD,EAAKsmD,YAAYz6D,OA3BhD,GA4BPs/D,EAAAA,aAAAA,SA5BO,eA6BPA,EAAAA,aAAAA,OA7BO,QA+BPj9C,EAAAA,YA/BOi9C,GAgCPtrE,KAAA,iBAhCOquB,GAoCPruB,KAAA,aAAkBA,KAAlBwmE,UAAAA,EApCOrmD,GAsCAngB,KAtCAwmE,gBApBXlB,CAAAU,GA8DAP,EAAAA,SAAAA,wCACE5+D,SAAAA,EAAAA,GAAwB,sCAEtB,cAFsBs9D,IAItB,mBAJsB,oBAKtB,iBALsB,uCAD1BsB,CAAAH,GAUAC,EAAAA,SAAAA,wCACE1+D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WAME,OALA1M,KAAA,oBADO,kBAGFA,KAAKmgB,KAAV6nD,UACEhoE,KAAA,aAAkBA,KAAlBwmE,UAAAA,KAAwCxmE,KADjBmgB,MAGlBngB,KANAwmE,gBAjBXjB,CAAAS,GA2BAR,EAAAA,SAAAA,wCACE3+D,SAAAA,EAAAA,GAAwB,8BACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,OAMtB,mBANsB,IAQtB,mBARsB,gBAYtB,iBAZsB,4DAsBxB16D,WACE1M,KAAA,oBAA2BA,KADpBmrE,mBAKP,IALO,EAKDhrD,EAAOngB,KALNmgB,KAMDnU,EAAQmU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAN3B,GAODzjB,EAASkU,EAAKuP,KAAK,GAAKvP,EAAKuP,KAP5B,GAQDrB,EAAMruB,KAAKsmE,WAAW7hE,OAAOuH,EAR5BC,GAAA,6BAUekU,EAAtBqrD,UAVO,IAUP,2BAAqC,OAArCC,EAAqC,QAK/Bjd,EAL+B,gCAMnCid,GANmC,IAMnC,2BAAkC,KAAlCJ,EAAkC,QAC1BvrE,EAAIurE,EAAWvrE,EAAIqgB,EAAKuP,KADE,GAE1B3vB,EAAIogB,EAAKuP,KAAK,GAAK27C,EAFOtrE,EAGhCyuD,EAAAA,KAAAA,GAAAA,OAAY1uD,EAAZ0uD,KAAAA,OAAYzuD,KATqB,8BAWnCyuD,EAASA,EAAOrlD,KAXmB,KAanC,IAAMmiE,EAAWtrE,KAAKsmE,WAAWl8D,cAAcpK,KAbZurE,gBAcnCD,EAAAA,aAAAA,SAdmC9c,GAiBnC8c,EAAAA,aAAAA,eAAsCnrD,EAAKsmD,YAAYz6D,OAjBpB,GAkBnCs/D,EAAAA,aAAAA,SAlBmC,eAmBnCA,EAAAA,aAAAA,OAnBmC,QAuBnCtrE,KAAA,aAAkBA,KAAlBwmE,UAAAA,EAvBmCrmD,GAyBnCkO,EAAAA,YAzBmCi9C,IAV9B,8BAuCP,OADAtrE,KAAA,iBAtCOquB,GAuCAruB,KAvCAwmE,gBAvBXhB,CAAAQ,GAkEAN,EAAAA,SAAAA,wCACE7+D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WAME,OALA1M,KAAA,oBADO,sBAGFA,KAAKmgB,KAAV6nD,UACEhoE,KAAA,aAAkBA,KAAlBwmE,UAAAA,KAAwCxmE,KADjBmgB,MAGlBngB,KANAwmE,gBAjBXd,CAAAM,GA2BAL,EAAAA,SAAAA,wCACE9+D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WAME,OALA1M,KAAA,oBADO,sBAGFA,KAAKmgB,KAAV6nD,UACEhoE,KAAA,aAAkBA,KAAlBwmE,UAAAA,KAAwCxmE,KADjBmgB,MAGlBngB,KANAwmE,gBAjBXb,CAAAK,GA2BAJ,EAAAA,SAAAA,wCACE/+D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WAME,OALA1M,KAAA,oBADO,qBAGFA,KAAKmgB,KAAV6nD,UACEhoE,KAAA,aAAkBA,KAAlBwmE,UAAAA,KAAwCxmE,KADjBmgB,MAGlBngB,KANAwmE,gBAjBXZ,CAAAI,GA2BAH,EAAAA,SAAAA,wCACEh/D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WAME,OALA1M,KAAA,oBADO,sBAGFA,KAAKmgB,KAAV6nD,UACEhoE,KAAA,aAAkBA,KAAlBwmE,UAAAA,KAAwCxmE,KADjBmgB,MAGlBngB,KANAwmE,gBAjBXX,CAAAG,GA2BAF,EAAAA,SAAAA,wCACEj/D,SAAAA,EAAAA,GAAwB,wBACtB,IAAMo/D,KACJ9B,EAAWhkD,KAAK6nD,UAChB7D,EAAWhkD,KADX2K,OAEAq5C,EAAWhkD,KAJSinD,UAAA,mBAMtBjD,EAAA8B,GANsB,8CAgBxBv5D,WAME,OALA1M,KAAA,oBADO,kBAGFA,KAAKmgB,KAAV6nD,UACEhoE,KAAA,aAAkBA,KAAlBwmE,UAAAA,KAAwCxmE,KADjBmgB,MAGlBngB,KANAwmE,gBAjBXV,CAAAE,GA2BAD,EAAAA,SAAAA,wCACEl/D,SAAAA,EAAAA,GAAwB,8BAGtB,OAFA,iBADsB,IAGQ,KAHR6kE,KAGhB9zB,EAAN,EAAMA,SAAAokB,EAAN,EAAMA,QAHgB,OAItB,YAAgB2P,EAAAA,EAAAA,oBAJM/zB,GAKtB,UALsBokB,EAOlB,cAAJ4P,UACE,2DAA+D,CAC7D5kE,OAAAA,uBAAAA,GACAW,IAAIkkE,EAAAA,EAAAA,mBAFyDj0B,GAAAA,SAAAA,EAAAokB,QAAAA,IAR3C,6CAyBxBtvD,WACE1M,KAAA,oBADO,2BAGP,IAAM0e,EAAUrV,SAASe,cAHlB,OAaP,OATAsU,EAAAA,MAAAA,OAAuB1e,KAAKwmE,UAAUz6D,MAJ/BE,OAKPyS,EAAAA,MAAAA,MAAsB1e,KAAKwmE,UAAUz6D,MAL9BC,MAMP0S,EAAAA,iBAAAA,WAAqC1e,KAAK8rE,UAAUrhE,KAN7C,OAQFzK,KAAKmgB,KAAN6nD,WAAwBhoE,KAAKmgB,KAAK2K,QAAS9qB,KAAKmgB,KAApDinD,UACEpnE,KAAA,aAAkBA,KAAlBwmE,UAAAA,EAA2CxmE,KADuBmgB,MAIpEngB,KAAA,sBAZO0e,GAaA1e,KAbAwmE,mCAsBTsF,WACO9rE,KAALomE,gBAIApmE,KAAA,6BAAkCA,KAAlCg8D,QAAgDh8D,KAAhD43C,SALU,KAER/rC,EAAAA,EAAAA,MADyB,wEAjD/Bk6D,CAAAC,GAsEA+F,EAAAA,gGAQE,YACE,IADwB,EAClBC,EAAN,GACEC,EAFsB,gCAML9H,EAAnB+H,aANwB,IAMxB,2BAA2C,KAA3C/rD,EAA2C,QACzCA,IAGIA,EAAAA,iBAAwBkkD,EAAAA,eAA5BhtC,MAIA20C,EAAAA,KARyC7rD,GAKvC8rD,EAAAA,KADgD9rD,KAV5B,8BAgBpB8rD,EAAJ1mE,QACEymE,EAAAA,KAAAA,MAAAA,EAD2BC,GAI7B,+BAAsC,CAAtC,WACQ5xD,EAAU6pD,EAAyBz/D,OAAO,CAAA0b,KAAAA,EAE9CmjC,MAAO6gB,EAFuCljE,IAG9Cy0C,KAAMyuB,EAHwCzuB,KAI9CzH,SAAUk2B,EAJoCl2B,SAK9Ck4B,YAAahC,EALiCgC,YAM9CC,gBAAiBjC,EAN6BiC,gBAO9CC,mBAAoBlC,EAAWkC,oBAPe,GAQ9Cl4B,uBACEA,mBAAOg2B,EAAPh2B,wBACIg2B,EADJh2B,uBAGFm4B,WAAY,IAZkC7/B,EAAAA,cAa9CwG,kBACEk3B,EAAWl3B,mBAAqB,IAdY7B,EAAAA,oBAgB5C/wB,EAAJ4rD,cACE9B,EAAAA,IAAAA,YAA2B9pD,EADH3N,iCAa9B,YAA0B,mCACLy3D,EAAnB+H,aADwB,IACxB,2BAA2C,KAA3C/rD,EAA2C,QACnC9F,EAAU8pD,EAAWljE,IAAI2oE,cAAc,wBAA7BzF,OACUhkD,EAAxBxY,GADcw8D,OAGhB,IACE9pD,EAAAA,MAAAA,UAAAA,UAAAA,OAAoC8pD,EAAWl2B,SAAS1e,UAAUpmB,KAAxC,KAA1BkR,OANoB,8BAWxB8pD,EAAAA,IAAAA,gBAXwB,gBA1D5B4H,+HCr7CA,WAuCII,EAAmB,WACrB,IAEIC,EAHmD,KASvD,kBAEE,IANF,EAMMC,EAAUhjE,SAASe,cAFe,QAGlCkiE,EAAoB,CACtB5pE,MADsB,EAEtB6pE,YAFsB,EAGtBrR,cAHsB,EAItBsR,kBAJsB,KAKtBC,cALsB,EAMtBC,YANsB,EAOtBC,aAPsB,EAQtBC,WARsB,EAStBp4D,MATsB,GAaxB,GADAqyB,EAAAA,UAAAA,KAfsCwlC,GAJxC,EAoBsBQ,EAApB75C,KAnBQo5C,EAAoBU,KADA95C,GAoBG,OAC7Bs5C,EAAAA,cAD6B,OAE7BzlC,EAAAA,mBAAAA,IAAAA,EAF6BylC,GAM/B,IAAIS,EAAK9oC,EAAAA,KAAAA,UAAe4C,EAAKmmC,UAApB/oC,UAAyC4oC,EAtBZt9C,WAuBlC7sB,EAAQR,KAAKS,MAAMoqE,EAAX7qE,GAAkB6qE,EAvBQ,IAwBlChhE,EAAQkV,EAAO4rD,EAxBmBI,UAyBlClhE,EAAJo+C,WACEznD,GAASR,KAAKmT,GADI,GAGpB,IAQA,EApCsClJ,EA4BlC+gE,EAAahrE,KAAKC,KAAK4qE,EAAG,GAAKA,EAARA,GAAgBA,EAAG,GAAKA,EA5Bb,IA6BlCI,EA7BkCD,EA8BlCnhE,EAAJqhE,OACED,EAAaphE,EAAMqhE,OADHD,EAEPphE,EAAJshE,UACLF,GAAc,EAAIphE,EAALshE,SADWF,GAK1B,IAAIzqE,GACFwJ,EAAO6gE,EADQ,GAEf5gE,EAAM4gE,EAAG,GAFMI,IAIfjhE,EAAO6gE,EAAG,GAAKI,EAAajrE,KAAKe,IAD5BP,GAELyJ,EAAM4gE,EAAG,GAAKI,EAAajrE,KAAKc,IAF3BN,IAMP2pE,EAAAA,MAAAA,KAAAA,GAAAA,OAAqBngE,EAArBmgE,MACAA,EAAAA,MAAAA,IAAAA,GAAAA,OAAoBlgE,EAApBkgE,MACAA,EAAAA,MAAAA,SAAAA,GAAAA,OAAyBa,EAAzBb,MACAA,EAAAA,MAAAA,WAA2BtgE,EAjDW68D,WAmDtCyD,EAAAA,YAAsBQ,EAnDgB75C,IAsDlC6T,EAAJymC,wBACEjB,EAAAA,QAAAA,SAA2BQ,EADGI,UAGhC,IAAIvqE,IACF4pE,EAAAA,MAA0B5pE,GAAS,IAAMR,KAD1BmT,KAMjB,IAAIk4D,GA/DkC,EAgEtC,GAAIV,EAAK75C,IAAIztB,OAAb,EACEgoE,GADuB,OAElB,GAAIV,EAAKt9C,UAAU,KAAOs9C,EAAKt9C,UAA/B,GAA6C,CAClD,IAAMi+C,EAAYtrE,KAAKklB,IAAIylD,EAAKt9C,UAAhC,IACEk+C,EAAYvrE,KAAKklB,IAAIylD,EAAKt9C,UAFsB,IAMhDi+C,IAAcC,GACdvrE,KAAKsR,IAAIg6D,EAAWC,GAAavrE,KAAKqR,IAAIi6D,EAA1CtrE,GAFF,MAIEqrE,GADA,GAgBJ,GAZA,IACMxhE,EAAJo+C,SACEmiB,EAAAA,YAAgCO,EAAK5gE,OAAS46B,EAAKmmC,UADjCx4D,MAGlB83D,EAAAA,YAAgCO,EAAK7gE,MAAQ66B,EAAKmmC,UAD7Cx4D,OAITqyB,EAAAA,mBAAAA,IAAAA,EArFsCylC,GAsFlCzlC,EAAJ6mC,oBACE7mC,EAAAA,YAD2BwlC,GAIzBxlC,EAAJ8mC,sBAAgC,CAC9B,IAAIC,EAAJ,EACEC,EAF4B,EAG9B,IAAInrE,IACFkrE,EAAW1rE,KAAKc,IADDN,GAEfmrE,EAAW3rE,KAAKe,IAFDP,IAIjB,IAIA,EAX8BG,EAO1BirE,GACD/hE,EAAA,SAAiB8gE,EAAjB5gE,OAA+B4gE,EAAhC7gE,OAA8C66B,EAAKmmC,UARvBx4D,MAS1Bu5D,EAT0Bb,EAY9B,IAAIxqE,GACFjB,EAAI,CAACmsE,EAAUC,GAAXA,EAAAA,EAAAA,EAAAA,GACJhrE,EAAIysB,EAAAA,KAAAA,2BAAgC,CAAC,EAAG,EAAGw+C,EAAUC,GAFtCtsE,IAIfoB,EAAI,CAACqJ,EAAMC,EAAKD,EAAZ4hE,EAA6B3hE,EAA7B4hE,GAGNlnC,EAAAA,QAAAA,KAAkB,CAChB36B,KAAMrJ,EADU,GAEhBsJ,IAAKtJ,EAFW,GAGhBmrE,MAAOnrE,EAHS,GAIhBorE,OAAQprE,EAJQ,GAKhB5B,IALgBorE,EAMhBzkD,KAAM,CAACkmD,EAAUC,GANDtsE,EAAAA,KAYtB,cACE,IAAIolC,EAAJqnC,UAAA,CAGA,IAAIC,EAAWtnC,EAJKunC,UAKhBt7C,EAAa+T,EALG2C,YAMhB6kC,EAAiBF,EAND5oE,OAUpB,GAAI8oE,EA5IiD,IA4IP,OAC5CxnC,EAAAA,gBAD4C,OAE5C/T,EAF4CppB,UAM9C,IAAKm9B,EAAL6mC,mBACE,IAAK,IAAIroE,EAAT,EAAgBA,EAAhBgpE,EAAoChpE,IAClCwhC,EAAAA,YAAiBsnC,EADsB9oE,IAK3CwhC,EAAAA,gBAtBoB,EAuBpB/T,EAvBoBppB,WA0BtB,kBAEE,IADA,IAAIqP,EADsC,EAEjC1T,EAAT,EAAgBA,EAAhBupD,EAA2BvpD,IAAK,CAC9B,IAAMqR,EAAI43D,EAAG7yB,KACT/kC,EAAJ,IACEqC,EAASA,EAAS7W,KAAKqR,IAAImD,EAAlBqC,GADArC,GAIb,OAR0CqC,EAW5C,cAKE,IAJA,IAAIiO,EAAS6f,EADO0nC,QAEhBtgC,EAAWpH,EAFKmmC,UAIhBwB,EAuDN,gBACE,IAAIxnD,EAASynD,EAAMp2D,KAAI,SAAUq2D,EAAKrpE,GACpC,MAAO,CACLgoD,GAAIqhB,EADCxiE,KAELohD,GAAIohB,EAFCviE,IAGLsmD,GAAIic,EAHCV,MAILtb,GAAIgc,EAJCT,OAKLj6C,MALK3uB,EAMLspE,WANKvoE,EAOLwoE,WAPKxoE,MAUTyoE,EAAAA,EAZ0C7nD,GAa1C,IAAIwnD,EAAW,IAAIrrE,MAAMsrE,EAbiBlpE,QA4C1C,OA9BAyhB,EAAAA,SAAe,SAAUnkB,GACvB,IAAIwC,EAAIxC,EADkBmxB,MAE1Bw6C,EAAAA,GAAc,CACZtiE,KAAMrJ,EADM8rE,MAEZxiE,IAFY,EAGZ6hE,MAAOnrE,EAHK+rE,MAIZX,OAJY,MAUhBQ,EAAAA,KAAU,SAAUC,EAAKrpE,GACvB,IAAI6F,EAAIsjE,EAARnpE,GACExC,EAAImkB,EAFoB3hB,GAG1BxC,EAAAA,GAAO6rE,EAHmBviE,IAI1BtJ,EAAAA,GAAOmJ,EAAQd,EAJW8iE,MAK1BnrE,EAAAA,GAAO6rE,EALmBT,OAM1BprE,EAAAA,GAAOmJ,EAAQd,EANWgB,KAO1BrJ,EAAAA,MAP0BwC,EAQ1BxC,EAAAA,WAR0BuD,EAS1BvD,EAAAA,WAT0BuD,KAW5ByoE,EAAAA,EArC0C7nD,GAuC1CA,EAAAA,SAAe,SAAUnkB,GACvB,IAAIwC,EAAIxC,EADkBmxB,MAE1Bw6C,EAAAA,GAAAA,IAAkB3rE,EAFQ8rE,MAG1BH,EAAAA,GAAAA,OAAqB3rE,EAHK+rE,SAvCcJ,EAvD3BM,CAAa7gC,EAAb6gC,MAA6B7gC,EAA7B6gC,OAJK9nD,GAKX3hB,EAAT,EAAgBA,EAAImpE,EAApBjpE,OAAqCF,IAAK,CACxC,IAAIpE,EAAM+lB,EAAO3hB,GADuBpE,IAEpC8tE,EAAgBloC,EAAKmoC,mBAAmBn5D,IAFJ5U,GAGxC,OAAI8tE,EAAcrsE,MAAlB,CAUA,IAAIwI,EAAIsjE,EAARnpE,GACExC,EAAImkB,EAdkC3hB,GAepC5D,EAAIoB,EAARpB,EACEijC,EAAIjjC,EADN,GAEEi6C,EAAIj6C,EAjBkC,GAmBpC+sD,EAAS,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG3rD,EAAE+kB,KAAN,IAAgB,CAAC/kB,EAAE+kB,KAAH,MAAgB/kB,EAAzC+kB,MACT0mD,EAAK,IAAIW,aApB2B,IAqBxCzgB,EAAAA,SAAe,SAAUluD,EAAGgG,GAC1B,IAAIoQ,EAAIutB,EAAAA,KAAAA,eAAAA,EADqBxiC,GAE7B6sE,EAAGhoE,EAAHgoE,GAAY5pC,IAAMx5B,EAAA,KAASwL,EAAV,IAFYguB,EAG7B4pC,EAAGhoE,EAAHgoE,GAAY5yB,IAAMxwC,EAAA,IAAQwL,EAAT,IAHYglC,EAI7B4yB,EAAGhoE,EAAHgoE,GAAY5pC,IAAMx5B,EAAA,MAAUwL,EAAX,IAJYguB,EAK7B4pC,EAAGhoE,EAAHgoE,IAAa5yB,IAAMxwC,EAAA,OAAWwL,EAAZ,IALWglC,EAO7B4yB,EAAGhoE,EAAHgoE,IAAa5yB,IAAMxwC,EAAA,KAASwL,EAAV,KAPWglC,EAQ7B4yB,EAAGhoE,EAAHgoE,IAAa5pC,IAAMx5B,EAAA,IAAQwL,EAAT,IARWguB,EAS7B4pC,EAAGhoE,EAAHgoE,IAAa5yB,IAAMxwC,EAAA,MAAUwL,EAAX,KATWglC,EAU7B4yB,EAAGhoE,EAAHgoE,IAAa5pC,IAAMx5B,EAAA,OAAWwL,EAAZ,IAVWguB,EAY7B4pC,EAAGhoE,EAAHgoE,IAAa5pC,IAAMx5B,EAAA,KAASwL,EAAV,KAZWguB,EAa7B4pC,EAAGhoE,EAAHgoE,IAAa5yB,IAAMxwC,EAAA,IAAQwL,EAAT,KAbWglC,EAc7B4yB,EAAGhoE,EAAHgoE,IAAa5pC,IAAMx5B,EAAA,MAAUwL,EAAX,KAdWguB,EAe7B4pC,EAAGhoE,EAAHgoE,IAAa5yB,IAAMxwC,EAAA,OAAWwL,EAAZ,KAfWglC,EAiB7B4yB,EAAGhoE,EAAHgoE,IAAa5yB,IAAMxwC,EAAA,KAASwL,EAAV,IAjBWglC,EAkB7B4yB,EAAGhoE,EAAHgoE,IAAa5pC,IAAMx5B,EAAA,IAAQwL,EAAT,KAlBWguB,EAmB7B4pC,EAAGhoE,EAAHgoE,IAAa5yB,IAAMxwC,EAAA,MAAUwL,EAAX,IAnBWglC,EAoB7B4yB,EAAGhoE,EAAHgoE,IAAa5pC,IAAMx5B,EAAA,OAAWwL,EAAZ,KApBWguB,KAwB/B,IAAIwqC,EAAW,EAAIhtE,KAAKqR,IAAIrR,KAAKklB,IAAdllB,GAAsBA,KAAKklB,IA7CNs0B,IA8CxCqzB,EAAAA,YAA4BI,EAAgBb,EAAI,GAAI,IA9CZY,EA+CxCH,EAAAA,WAA2BI,EAAgBb,EAAI,GAAI,IA/CXY,EAgDxCH,EAAAA,aAA6BI,EAAgBb,EAAI,EAAG,IAhDZY,EAiDxCH,EAAAA,cAA8BI,EAAgBb,EAAI,GAAI,IAjDdY,EAkDxCroC,EAAAA,mBAAAA,IAAAA,EAlDwCkoC,QAItCA,EAAAA,YAA4B/nD,EAAO3hB,GAAG6G,KAAOsiE,EAASnpE,GADzB6G,KAE7B6iE,EAAAA,WAA2B/nD,EAAO3hB,GAAG8G,IAAMqiE,EAASnpE,GAFvB8G,IAG7B4iE,EAAAA,aAA6BP,EAASnpE,GAAG2oE,MAAQhnD,EAAO3hB,GAH3B2oE,MAI7Be,EAAAA,cAA8BP,EAASnpE,GAAG4oE,OAASjnD,EAAO3hB,GAJ7B4oE,OAK7BpnC,EAAAA,mBAAAA,IAAAA,EAL6BkoC,IAkGnC,gBAEE/nD,EAAAA,MAAY,SAAU5lB,EAAGyB,GACvB,OAAOzB,EAAEisD,GAAKxqD,EAAPzB,IAAeA,EAAE4yB,MAAQnxB,EADNmxB,SAK5B,IASIo7C,EAAU,CACZ,CACE/+C,OAAO,IACP5E,IAFF4jD,EAAAA,EAGEC,SAbe,CACjBjiB,IAAI,IACJC,IAAI,IACJmF,GAHiB,EAIjBC,GAJiB2c,EAAAA,EAKjBr7C,OALiB,EAMjB26C,MANiB,EAOjBC,MAPiB,KAiBnB5nD,EAAAA,SAAe,SAAUsoD,GAIvB,IADA,IAAIjqE,EAH6B,EAI1BA,EAAI+pE,EAAJ/pE,QAAsB+pE,EAAQ/pE,GAAGomB,KAAO6jD,EAA/ChiB,IACEjoD,IAGF,IADA,IAKA,EAZiCkqE,EAO7BjpE,EAAI8oE,EAAQ7pE,OAPiB,EAQ1Be,GAAK,GAAK8oE,EAAQ9oE,GAAG+pB,OAASi/C,EAArC5c,IACEpsD,IAIF,QAEEkpE,GAAU,IACZ,IAAKhb,EAALnvD,EAAYmvD,GAAZluD,EAAoBkuD,IAAK,CAGvB,IAHuBib,GAQrBA,GANFF,GADAG,EAAcN,EADS5a,IAAA8a,UAIF7c,GAAK6c,EAA1BjiB,GAKIkiB,EAAiBv7C,MAAQs7C,EAAzBC,MACIA,EADJA,MAEID,EAP+BjiB,QAQhCjnD,IAAImpE,EAAiBX,OAGlBW,EAAA,GAAsBD,EAAvBjiB,IAHwC,EAMxCkiB,EAFFX,OAIPY,IACEA,EADkBC,GAStB,IAHAH,EAAAA,MA1CiCE,EA6C5Bhb,EAALnvD,EAAYmvD,GAAZluD,EAAoBkuD,SAGlBpuD,KADAmpE,GADAG,EAAcN,EADS5a,IAAA8a,UAGFV,MAEfW,EAAiB9c,GAAK6c,EAA1BjiB,GAGMkiB,EAAiBv7C,MAAQs7C,EAA7Bt7C,QACEu7C,EAAAA,MAAyBA,EADkB9c,IAI7C8c,EAAAA,MADKC,EAGED,EAAiBX,MAArBY,IAELD,EAAAA,MAAyBrtE,KAAKsR,IAAIg8D,EAASD,EAFA9c,KAO/C,IAAIkd,EAAJ,GACEC,EAnE+B,KAoEjC,IAAKpb,EAALnvD,EAAYmvD,GAAZluD,EAAoBkuD,IAAK,CAIvB,IAAIqb,GAFJN,GADAG,EAAcN,EADS5a,IAAA8a,UAKJ7c,GAAK6c,EAAtBC,GAAAA,EALqBD,EAMnBM,IAAJC,EAEEF,EAAeA,EAAepqE,OAA9BoqE,GAAAA,IAAgDD,EAFhBjkD,KAIhCkkD,EAAAA,KAAoB,CAClBt/C,MAAOq/C,EADWr/C,MAElB5E,IAAKikD,EAFajkD,IAGlB6jD,SAHkBO,IAKpBD,EANKC,GA6BT,IApBIT,EAAQ/pE,GAAGgrB,MAAQi/C,EAAvBhiB,KACEqiB,EAAAA,GAAAA,MAA0BL,EADQhiB,GAElCqiB,EAAAA,QAAuB,CACrBt/C,MAAO++C,EAAQ/pE,GADMgrB,MAErB5E,IAAK6jD,EAFgBhiB,GAGrBgiB,SAAUF,EAAQ/pE,GAHGiqE,YAMrBA,EAAS5c,GAAK0c,EAAQ9oE,GAA1BmlB,MACEkkD,EAAeA,EAAepqE,OAA9BoqE,GAAAA,IAAgDL,EADhB5c,GAEhCid,EAAAA,KAAoB,CAClBt/C,MAAOi/C,EADW5c,GAElBjnC,IAAK2jD,EAAQ9oE,GAFKmlB,IAGlB6jD,SAAUF,EAAQ9oE,GAHAgpE,YAUjB9a,EAALnvD,EAAYmvD,GAAZluD,EAAoBkuD,IAGlB,QAAApuD,KADAmpE,GADAG,EAAcN,EADS5a,IAAA8a,UAGFV,MAArB,CAGA,IAAIkB,GANmB,EAOvB,IACE/uE,EAAIsE,EADN,GAEGyqE,GAAQ/uE,GAAT,GAAmBquE,EAAQruE,GAAGsvB,OAASk/C,EAFzCjiB,GAGEvsD,IAEA+uE,EAAOV,EAAQruE,GAAGuuE,WADlBC,EAGF,IACExuE,EAAIuF,EADN,GAEGwpE,GAAQ/uE,EAAIquE,EAAb7pE,QAA+B6pE,EAAQruE,GAAG0qB,KAAO8jD,EAFnD7c,GAGE3xD,IAEA+uE,EAAOV,EAAQruE,GAAGuuE,WADlBC,EAGF,IAAKxuE,EAAL,GAAa+uE,GAAQ/uE,EAAI4uE,EAAzBpqE,OAAgDxE,IAC9C+uE,EAAOH,EAAe5uE,GAAGuuE,WAD0BC,EAGrDO,IACEP,EAAAA,MADSC,GAKbrsE,MAAAA,UAAAA,OAAAA,MAAAA,EAEE,CAACkC,EAAGiB,EAAIjB,EAAR,UAzI+BsqE,OA8InCP,EAAAA,SAAgB,SAAUM,GACxB,IAAIH,EAAmBG,EADcJ,cAErClpE,IAAImpE,EAAiBX,QACnBW,EAAAA,MAAyBrtE,KAAKsR,IAAIxH,EAAOujE,EADD9c,QAgB9C,cAQG,WAR0B3hB,EAQ1B,EAR0BA,YAAAi/B,EAQ1B,EAR0BA,kBAAAvJ,EAQ1B,EAR0BA,UAAAv4B,EAQ1B,EAR0BA,SAAAkgC,EAQ1B,EAR0BA,SAAA6B,EAQ1B,EAR0BA,oBAA7BC,EAQG,EARHA,qBASEjwE,KAAA,aADC8wC,EAED9wC,KAAA,mBAFC+vE,EAGD/vE,KAAA,WAHCwmE,EAIDxmE,KAAA,UAAiBwmE,EAJhBn6C,cAKDrsB,KAAA,UALCiuC,EAMDjuC,KAAA,UAAiBmuE,GANhB,GAODnuE,KAAA,qBAA4BgwE,GAP3B,GAQDhwE,KAAA,wBARCiwE,EASDjwE,KAAA,yBACEssB,WAAW6qB,gBAAiB7qB,WAAW6qB,cAVxC1sB,SAaDzqB,KAAA,QAbC,KAcDA,KAAA,wBAdC,KAeDA,KAAA,0BAfC,KAgBDA,KAAA,eAhBC,KAiBDA,KAAA,mBAA0B,IAjBzBsyC,QAkBDtyC,KAAA,gBAlBC,EAmBDA,KAAA,WAnBC,EAoBDA,KAAA,aApBC,+BAqBDA,KAAA,aArBC,KAsBDA,KAAA,QAtBC,GAyBDA,KAAA,6BACW,WACH,EAAJkwE,iBAGE,8BAHuB,EAIvB,+BAJuB,EAKvB,iBALuB,SAF7B,OAUS,eA2MX,OAvMAC,EAAAA,UAAgC,CAC9B,cACE,OAAOnwE,KAAKwpC,YADAO,SAId9uB,OAAQ,WACNjb,KAAA,WADkC,EAE9BA,KAAJowE,UACEpwE,KAAA,eAAoB,IAAI,EAAJ,eADJ,8BAEhBA,KAAA,QAFgB,MAIlB,OAAIA,KAAKqwE,eACP50D,aAAazb,KADiBqwE,cAE9BrwE,KAAA,aAF8B,MAIhCA,KAAA,mBAAwB,IAAI4I,MAVM,+BAapC0nE,cAlB8B,SAkB9BA,EAAAA,GACE,IAAK,IAAIjrE,EAAJ,EAAWY,EAAM8qC,EAAtBxrC,OAAoCF,EAApCY,EAA6CZ,IAC3CrF,KAAA,0BAA+B+wC,EAAM1rC,GADW2tB,KAEhDu9C,EAAAA,KAAiBx/B,EAAjBw/B,GAFgDC,IAMpDC,YAzB8B,SAyB9BA,GACE,IAAMnE,EAAoBtsE,KAAKgvE,mBAAmBn5D,IAD/Bw2D,GAEnB,IAAIC,EAAJpR,aAAA,CAIA,IAAI3rC,EANe,GAOnB,OAAI+8C,EAAkBC,YAAmB,CACvC,MAAiCF,EADMtgE,MACjCw8C,EAAN,EAAMA,SAAAqgB,EAAN,EAAMA,WAIJrgB,IAAavoD,KAAbuoD,yBACAqgB,IAAe5oE,KAFjB0wE,4BAIE1wE,KAAA,8BAA2BuoD,EAA3B,YAA2BqgB,GAC3B5oE,KAAA,wBAFAuoD,EAGAvoD,KAAA,0BAHA4oE,GAMF,IAAM58D,EAAYhM,KAAKkwE,eAAezkB,YAAY4gB,EAbXv7B,aAajC9kC,MAEFA,EAAJ,IACEsgE,EAAAA,MAA0BA,EAAkBC,YAD/BvgE,EAEbujB,EAAAA,UAAAA,OAAsB+8C,EAAV93D,MAAZ+a,MAGJ,IAAI+8C,EAAkB5pE,QACpB6sB,EAAAA,UAAAA,OAAsB+8C,EAAV5pE,MAAZ6sB,SAAAA,OAAYA,IAEVA,EAAUhqB,OAAd,IACMvF,KAAJ2tE,wBACErB,EAAAA,kBAD8B/8C,GAGhC88C,EAAAA,MAAAA,UAJwB98C,GAM1BvvB,KAAA,yBApCmBssE,GAqCnBtsE,KAAA,uBArCmBqsE,KAwCrBsE,QAAS,SAA0BC,GAAS,WACpC99C,GADoC,+BAEtC09C,EAAaltE,OAAOmB,OAFkB,MAKpCynB,EAASlsB,KAAKusB,UAAUniB,cALY,UAc1C,GAJE8hB,EAAAA,WAVwC,EAY1ClsB,KAAA,eAAsBksB,EAAOM,WAAW,KAAM,CAAEi2B,OAZN,IActCziD,KAAJ6wE,aAAuB,CACrB,IAAMC,EAAY9wE,KAAK6wE,aADF9/B,MAEfggC,EAAa/wE,KAAK6wE,aAFH5vD,OAGrBjhB,KAAA,gBAHqB+wE,GAIrBj+C,EAJqBppB,cAKhB,KAAI1J,KAAJ0tE,mBAiBL,MAAM,IAAI9kE,MACR,uEAJF5I,KAAA,QAAeA,KAAK0tE,mBAdcv8B,YACrB,SAAPC,IACJ,uBAAyB,YAAqB,IAApBxhC,EAAoB,EAApBA,MAAoB,EAArBtH,KAErBwqB,EADQppB,WAKVpG,OAAAA,OAAAA,EAA0BsM,EANkBqR,QAO5C,gBAAmBrR,EAAnBmhC,MAP4Cy/B,GAQ5Cp/B,OACCte,EAVcnpB,QAcnBynC,GAQFte,EAAAA,QAAAA,MAAwB,WACtB09C,EAD4B,KAE5BI,EAKE,eAAoBtlE,YAAW,WAC7BoB,EADmC,GAEnC,eAFmC,OAFhCkkE,GADLlkE,EAFY,KAUb1M,KAAKwpC,YAtDkC7/B,SAyD5CqnE,eAAgB,SAAkCC,GAChD,GAAKjxE,KAAD2tE,uBAAgC3tE,KAApCkxE,eAAA,CAGA,OAAIlxE,KAAKuuE,UACP1yD,EADyB,MAEzB7b,KAAA,QAFyB,MAO3B,IAHA,IAAMmxE,EAAN,GACEC,EAT0D,GAWnD/rE,EAAJ,EAAWqgC,EAAK1lC,KAAKouE,UAA1B7oE,OAA4CF,EAA5CqgC,EAAoDrgC,IAAK,CACvD,IAAMpE,EAAMjB,KAAKouE,UADsC/oE,GAEjDgsE,EAAWrxE,KAAKgvE,mBAAmBn5D,IAFc5U,GAInDowE,EAAJnW,eAGA,GACEiW,EAAAA,OADc,EAEdC,EAAAA,OAFc,EAIVC,EAAJ7E,mBACE2E,EAAAA,KAAkBE,EADY7E,mBAG5B6E,EAASzE,WAAb,GACEwE,EAAAA,KAAAA,GAAAA,OAAmBC,EAAHzE,WAAhBwE,OACAD,EAAAA,KAAAA,cAAAA,QAAiCE,EAAfzE,WAAlBuE,SAEAC,EAAAA,KADK,GAGHC,EAAS1E,aAAb,EACEyE,EAAAA,KAAAA,GAAAA,OAAmBC,EAAS1E,aAAe0E,EAA3B78D,MAAhB48D,OAEAA,EAAAA,KADK,GAGHC,EAAS5E,cAAb,EACE2E,EAAAA,KAAAA,GAAAA,OAAmBC,EAAH5E,cAAhB2E,OAEAA,EAAAA,KADK,GAGHC,EAAS3E,YAAb,GACE0E,EAAAA,KAAAA,GAAAA,OAAmBC,EAAS3E,YAAc2E,EAA1B78D,MAAhB48D,OACAD,EAAAA,KAAAA,cAAAA,QACiBE,EAAD3E,YAAwB2E,EAAtC78D,MADF28D,SAIAC,EAAAA,KADK,GAIPnwE,EAAAA,MAAAA,QAAoBmwE,EAAWjoE,KAhCjB,KAiCVgoE,EAAJ5rE,SACEtE,EAAAA,MAAAA,UAAsBkwE,EAAahoE,KADZ,QAIzBlI,EAAAA,MAAAA,QADK,KAELA,EAAAA,MAAAA,UAAsBowE,EAFjB7E,wBASb,YACE,IAAI3lC,EAAO,IAAIspC,EAAoB,CACjCr/B,YAAawgC,EADoBxgC,YAEjCi/B,kBAAmBuB,EAFcvB,kBAGjCvJ,UAAW8K,EAHsB9K,UAIjCv4B,SAAUqjC,EAJuBrjC,SAKjCkgC,SAAUmD,EALuBnD,SAMjC6B,oBAAqBsB,EANYtB,oBAOjCC,qBAAsBqB,EAPWrB,uBAUnC,OADAppC,EAAAA,QAAayqC,EAV4BV,SAAA/pC,GAjrBtB,2HCrCvB,WAjBA,cAgCI0qC,EAAc,WAChB,MAAM,IAAI3oE,MADkB,iDAImC,IA6V/D4oE,EAAA,SAAY5hE,GACV,GAAIiS,OAAO0S,UAAX3kB,GACE,OAAOA,EADoBzI,WAG7B,IAAMu0C,EAAI9rC,EAAM6hE,QAJC,IAKbpsE,EAAIq2C,EAAEn2C,OALO,EAMjB,SAAIm2C,EAAEr2C,GACJ,OADgBq2C,EAKlB,GACEr2C,UAZe,MAaRq2C,EAAEr2C,IACX,OAAOq2C,EAAEhwB,UAAU,EAAY,MAATgwB,EAAEr2C,GAAaA,EAAIA,EAdxB,IA0BnBqsE,EAAA,SAAYjwE,GACV,GAAa,IAATA,EAAE,IAAN,IAAkBA,EAAE,GAAU,CAC5B,GAAa,IAATA,EAAE,IAAN,IAAkBA,EAAE,GAClB,OAAa,IAATA,EAAE,IAAN,IAAkBA,EAAE,GAAU,GAG9B,gBAAgB+vE,EAAG/vE,EAAZ,IAAP,YAA4B+vE,EAAG/vE,EAAxB,IAAP,KAEF,GAAIA,EAAE,KAAOA,EAATA,IAAiBA,EAAE,MAAQA,EAA/B,GAAqC,CACnC,IAAML,EAAI,IAACc,KAAKyvE,KAAKlwE,EAAVS,IAAyBA,KADDmT,GAEnC,uBAAiBm8D,EAAVpwE,GAAP,WAGF,GAAa,IAATK,EAAE,IAAFA,IAAcA,EAAE,IAAhBA,IAA4BA,EAAE,IAAlC,IAA8CA,EAAE,GAC9C,0BAAoB+vE,EAAG/vE,EAAhB,IAAP,YAAgC+vE,EAAG/vE,EAA5B,IAAP,KAGJ,MACE,iBAAU+vE,EAAG/vE,EAAb,gBAAsB+vE,EAAG/vE,EAAzB,gBAAkC+vE,EAAG/vE,EAArC,gBAA8C+vE,EAAG/vE,EAAjD,gBAA0D+vE,EAAG/vE,EAA7D,mBACG+vE,EAAG/vE,EAAN,IADA,MAxYEmwE,EAAe,CACnBC,UADmB,SAEnBC,WAFmB,SAGnBlqB,UAHmB,WAOf1D,EAAkB,CAAC,OAAQ,QAAS,UACpCC,EAAmB,CAAC,QAAS,QAAS,SAEtC4tB,EAAuB,WAc3B,IAbA,IAAMC,EAAa,IAAIvkD,WAAW,CAAC,IAAD,uBAY5BwkD,EAAW,IAAIljB,WAbkB,KAc9B1pD,EAAT,EAAgBA,EAAhB,IAAyBA,IAAK,CAE5B,IADA,IAAIq/B,EADwBr/B,EAEnB0qD,EAAT,EAAgBA,EAAhB,EAAuBA,IAEnBrrB,EADF,EAAIA,EACE,WAAeA,GAAD,EADT,WAGJA,GAAD,EADC,WAITutC,EAAAA,GAT4BvtC,EAsB9B,oBACE,IAAIpkC,EAD2Cm7C,EAEzCx1C,EAAMisE,EAFmC3sE,OAI/C4a,EAAAA,GAAWla,GAAD,GAJqC,IAK/Cka,EAAK7f,EAAL6f,GAAela,GAAD,GALiC,IAM/Cka,EAAK7f,EAAL6f,GAAela,GAAD,EANiC,IAO/Cka,EAAK7f,EAAL6f,GAP+C,IAOjCla,EAGdka,EAFA7f,GAR+C,OAUrC+J,EAAKoqB,WAAW,GAC1BtU,EAAK7f,EAAL6f,GAX+C,IAWjC9V,EAAKoqB,WAAW,GAC9BtU,EAAK7f,EAAL6f,GAZ+C,IAYjC9V,EAAKoqB,WAAW,GAC9BtU,EAAK7f,EAAL6f,GAb+C,IAajC9V,EAAKoqB,WAAW,GAC9Bn0B,GAd+C,EAgB/C6f,EAAAA,IAAAA,EAhB+C7f,GAmB/C,IAAM6xE,EA7BR,gBAEE,IADA,IAAIA,GAD2B,EAEtB9sE,EAATgrB,EAAoBhrB,EAApBomB,EAA6BpmB,IAAK,CAChC,IAAMjE,EAD0B,KACrB+wE,EAAMhyD,EAAP9a,IAEV8sE,EAAOA,IAAD,EADIF,EAFsB7wE,GAKlC,OAP+B,EAOxB+wE,EAsBKC,CAAMjyD,EAAMs7B,EAAZ22B,EAFZ9xE,GAAK4xE,EAjB0C3sE,QAoB/C4a,EAAAA,GAAWgyD,GAAD,GApBqC,IAqB/ChyD,EAAK7f,EAAL6f,GAAegyD,GAAD,GArBiC,IAsB/ChyD,EAAK7f,EAAL6f,GAAegyD,GAAD,EAtBiC,IAuB/ChyD,EAAK7f,EAAL6f,GAvB+C,IAuBjCgyD,EA0DhB,cACE,IAAIlsE,EAAMosE,EAD+B9sE,OAEnC+sE,EAFmC,MAInCC,EAAgBrwE,KAAK8b,KAAK/X,EAJSqsE,GAKnCE,EAAO,IAAI/kD,WAAW,EAAIxnB,EAAJ,EAAUssE,EALG,GAMrC3W,EANqC,EAOzC4W,EAAK5W,KAPoC,IAQzC4W,EAAK5W,KARoC,IAWzC,IADA,IAAI1pC,EAVqC,EAWlCjsB,EAAPqsE,GAEEE,EAAK5W,KAFsB,EAG3B4W,EAAK5W,KAHsB,IAI3B4W,EAAK5W,KAJsB,IAK3B4W,EAAK5W,KALsB,EAM3B4W,EAAK5W,KANsB,EAO3B4W,EAAAA,IAASH,EAASx/C,SAASX,EAAKA,EAAhCsgD,GAP2B5W,GAQ3BA,GAR2B0W,EAS3BpgD,GAT2BogD,EAU3BrsE,GAV2BqsE,EAc7BE,EAAK5W,KAzBoC,EA0BzC4W,EAAK5W,KA1BoC,IA0B5B31D,EACbusE,EAAK5W,KAAS31D,GAAD,EA3B4B,IA4BzCusE,EAAK5W,KAAe,KAAN31D,EACdusE,EAAK5W,MAAS,OAAC,IAAF,EA7B4B,IA8BzC4W,EAAAA,IAASH,EAASx/C,SAAlB2/C,GA9ByC5W,GA+BzCA,GAAMyW,EAAS9sE,OA/B0B2sB,EAiCzC,IAAMugD,EAxFR,gBAGE,IAFA,IAAIrxE,EAD6B,EAE7ByB,EAF6B,EAGxBwC,EAATgrB,EAAoBhrB,EAApBomB,IAAApmB,EAEExC,GAAKA,GADLzB,GAAKA,GAAD,IAAM+e,EAAK,KADiB,cAIlC,OAAQtd,GAAD,GAP0BzB,EAwFnBsxE,CAAQL,EAAU,EAAGA,EAjCM9sE,QAsCzC,OAJAitE,EAAK5W,KAAS6W,GAAD,GAlC4B,IAmCzCD,EAAK5W,KAAS6W,GAAD,GAnC4B,IAoCzCD,EAAK5W,KAAS6W,GAAD,EApC4B,IAqCzCD,EAAK5W,KArCoC,IAqC5B6W,EArC4BD,EAyC3C,oBACE,IAEA,IAHsD9jB,EAChD1iD,EAAQq0C,EADwCr0C,MAEhDC,EAASo0C,EAFuCp0C,OAIhDqmB,EAAQ+tB,EAJwClgC,KAMtD,UACE,KAAKihC,EAAAA,UAALjrB,eACEw8C,EADF,EAEEC,EAFF,EAGElkB,EAAY1iD,EAAD,GAHb,EADF,MAME,KAAKo1C,EAAAA,UAALhrB,UACEu8C,EADF,EAEEC,EAFF,EAGElkB,EAHF,EAGa1iD,EATf,MAWE,KAAKo1C,EAAAA,UAAL/qB,WACEs8C,EADF,EAEEC,EAFF,EAGElkB,EAHF,EAGa1iD,EAdf,MAgBE,QACE,MAAM,IAAIpD,MAjBd,kBAwBA,IAHA,IAAMypE,EAAW,IAAI5kD,YAAY,EAADihC,GA3BsBziD,GA4BlD4mE,EAAJ,EACEC,EA7BoD,EA8B7C/yE,EAAT,EAAgBA,EAAhBkM,IAAAlM,EACEsyE,EAASQ,KADsB,EAE/BR,EAAAA,IACE//C,EAAMO,SAASigD,EAAaA,EAD9BT,GAF+BQ,GAM/BC,GAN+BpkB,EAO/BmkB,GAP+BnkB,EAUjC,GAAIvN,IAASC,EAAAA,UAATD,gBAAJ4xB,EAAiD,CAE/CF,EAF+C,EAG/C,IAAK,IAAI9yE,EAAT,EAAgBA,EAAhBkM,EAA4BlM,IAAK,CAC/B8yE,IACA,IAAK,IAAIxtE,EAAT,EAAgBA,EAAhBqpD,EAA8BrpD,IAC5BgtE,EAASQ,MADwB,KAMvC,IAAMG,EAAO,IAAIvlD,WAAW,CACzBzhB,GAAD,GAD0B,IAEzBA,GAAD,GAF0B,IAGzBA,GAAD,EAH0B,QAI1BA,EACCC,GAAD,GAL0B,IAMzBA,GAAD,GAN0B,IAOzBA,GAAD,EAP0B,QAQ1BA,EAR0B,YAetBumE,EAlJR,YACE,IAAAhsC,EAAAA,SAIE,OAAOysC,EAJMZ,GAMf,IAUE,IAVErhD,EAaAA,EADEK,SAAS6U,QAAQC,SAAjB9U,OAAJ,EAA0CghD,EAIhCa,OAAOlV,KAFVqU,GAIP,IAAMc,EAAS31B,oBAAAA,MAAAA,YAAAA,EAAmD,CAChEhpB,MAnBA,IAqBF,OAAO2+C,aAAkB1lD,WAAa0lD,EAAS,IAAI1lD,WArBjD0lD,GAsBF,MAAOjoE,IACPW,EAAAA,EAAAA,MACE,gEAFQX,GAMZ,OAAO+nE,EAnCsBZ,GAkJhBe,CAlEyCf,GAqEhDgB,EACJrB,EAAWzsE,OAAS+tE,GAAyBN,EAA7ChB,OAA2DQ,EAtEPjtE,OAuEhD4a,EAAO,IAAIsN,WAvEqC4lD,GAwElD53B,EAxEkD,EAiFtD,OARAt7B,EAAAA,IAAAA,EAzEsDs7B,GA2EtD83B,EAAAA,OAAAA,EAAAA,EADA93B,GAAUu2B,EA1E4CzsE,QA6EtDguE,EAAAA,QAAAA,EAAAA,EADA93B,GA1OqC,GA0ONu3B,EA5EuBztE,QA8EtDk2C,GA5OqC,GA4ON+2B,EA9EuBjtE,OA+EtDguE,EAAAA,OAAsB,IAAI9lD,WAA1B8lD,GAAAA,EA/EsD93B,IAiF/CrW,EAAAA,EAAAA,iBAAAA,EAAAA,YAjF+CG,GAqFxD,OAAO,SAA6B8a,EAAS9a,EAAiBwtC,GAG5D,OAAOS,EAAOnzB,OADKj6C,IAAjBi6C,EAAQc,KAAqBC,EAAAA,UAA7Bf,eAAwDA,EAFUc,KAGvC5b,EAHuCwtC,IAnP3C,GA0P7BU,EArQ+D,WAsQ7D5sE,SAAAA,IAAc,wBACZ7G,KAAA,cADY,EAEZA,KAAA,WAAkB4xE,EAFNE,WAGZ9xE,KAAA,SAHY,EAKZA,KAAA,WALYsvB,EAAAA,gBAMZtvB,KAAA,WANYsvB,EAAAA,qBAOZtvB,KAAA,QAPY,EAQZA,KAAA,kBAAyB+/C,EAAAA,kBARbtqB,KASZz1B,KAAA,gBATY,EAYZA,KAAA,EAZY,EAaZA,KAAA,EAbY,EAgBZA,KAAA,MAhBY,EAiBZA,KAAA,MAjBY,EAoBZA,KAAA,YApBY,EAqBZA,KAAA,YArBY,EAsBZA,KAAA,WAtBY,EAuBZA,KAAA,SAvBY,EA0BZA,KAAA,UAAiB4xE,EA1BLhqB,UA2BZ5nD,KAAA,YA3BY,UA6BZA,KAAA,UA7BY,EA8BZA,KAAA,YA9BY,EA+BZA,KAAA,UA/BY,EAgCZA,KAAA,SAhCY,GAiCZA,KAAA,QAjCY,GAkCZA,KAAA,WAlCY,EAoCZA,KAAA,UApCY,GAqCZA,KAAA,UArCY,EAuCZA,KAAA,aAvCY,GA0CZA,KAAA,cA1CY,KA2CZA,KAAA,UA3CY,KA6CZA,KAAA,OA7CY,GAtQ+C,0CAsT7DI,WACE,OAAOkD,OAAOmB,OADR,QAtTqD,6BA0T7Du7C,SAAAA,EAAAA,GACEhgD,KAAA,EADoBF,EAEpBE,KAAA,EAFoBD,MA1TuC,KAiZ3D2zE,EAjZ2D,EAkZ3DC,EAlZ2D,EAmZ3DC,EAnZ2D,EAsZ/DrC,EAAAA,YAAAA,EAAAA,WACE1qE,SAAAA,EAAAA,EAAAA,GAAuD,IAAzB0+B,EAAyB,wDAqBrD,aArBqD,wBACrDvlC,KAAA,WAAkB,IADmCymC,EAAAA,cAGrDzmC,KAAA,QAAe,IAHsCyzE,EAIrDzzE,KAAA,gBAJqDsvB,EAAAA,gBAKrDtvB,KAAA,eALqD,GAMrDA,KAAA,WANqD,GAOrDA,KAAA,WAPqDqtC,EAQrDrtC,KAAA,KARqD2vC,EASrD3vC,KAAA,YATqD,KAUrDA,KAAA,eAVqD,EAYrDA,KAAA,YAZqD,EAarDA,KAAA,cAAqBsD,OAAOmB,OAbyB,MAcrDzE,KAAA,SAdqD,KAerDA,KAAA,kBAfqDulC,EAoBrDvlC,KAAA,mBApBqD,GAqBrD,MACEA,KAAA,mBAAwBolD,EAAAA,IAAxBkM,IADoBA,EAtB1BigB,OAAAA,aAAAA,EAAAA,CAAAA,CAAAA,IAAAA,OAAAA,MA2BEh1C,WACEv8B,KAAA,oBAAyBA,KADpB6zE,iBAEL,IAAM50B,EAAMj/C,KAFPk9C,QAGLl9C,KAAA,gBAHKi/C,GAILj/C,KAAA,QAAei/C,EAJV7+C,UA3BTmxE,CAAAA,IAAAA,UAAAA,MAkCE/0C,WACEx8B,KAAA,gBAAuBA,KAAK8zE,eADpBz0B,MAERr/C,KAAA,QAAeA,KAAK+zE,WAFZ10B,MAGRr/C,KAAA,YAHQ,KAIRA,KAAA,KAJQ,OAlCZuxE,CAAAA,IAAAA,QAAAA,MAyCE7jB,SAAAA,GACE1tD,KADWu8B,OAEXv8B,KAAA,cAFW+wC,GAGX/wC,KAHWw8B,YAzCf+0C,CAAAA,IAAAA,mBAAAA,MA+CEyC,SAAAA,GAIE,IAJ6B,WACvB9kC,EAAUU,EADaV,QAEvBC,EAAYS,EAFWT,UAIpB9pC,EAAJ,EAAWqgC,EAAKwJ,EAArB3pC,OAAqCF,EAArCqgC,EAA6CrgC,IAC3C,GAAI6pC,EAAQ7pC,KAAO+/C,EAAAA,IAAnBtpB,WAAA,CADgD,mCAK9BqT,EAAlB9pC,IALgD,yBAKhDsI,EALgD,QAMxC23C,EAAW33C,EAAI43C,WAAW,MAAQ,EAAvB53C,WAAyC,EAD5BgiC,KAExB5F,EAAU,IAAItgC,SAAQC,SAAAA,GAC1B47C,EAAAA,IAAAA,EADqC57C,MAGvC,4BAL8BqgC,IAAhC,2BAAgC,IALgB,+BAalD,OAAOtgC,QAAQy/B,IAAIlpC,KAAKk9C,QAjBK+2B,gBA/CjC1C,CAAAA,IAAAA,YAAAA,MAmEEhiD,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACE,IAAMskD,EAAkB,CAACzyE,EAAGyB,EAAG6hC,EAAGjxB,EAAGvI,EAAG4zC,GACxC9+C,KAAA,gBAAuBikC,EAAAA,KAAAA,UACrBjkC,KADqBikC,gBAFG4vC,GAM1B7zE,KAAA,KAN0B,OAnE9BuxE,CAAAA,IAAAA,SAAAA,MA4EE2C,SAAAA,EAAAA,GAA+B,WAC7Bl0E,KAAA,SAD6BiuC,EAG7B,IAAMkmC,EAAan0E,KAAKi0C,YAHKhG,GAI7B,OAAOjuC,KAAKg0E,iBAAiBpkC,GAAcv8B,MAAK,WAG9C,OAFA,kBADoDic,EAAAA,gBAEpD,gBAAmB,gBAFiCsgB,IAAAukC,OAhF1D5C,CAAAA,IAAAA,gBAAAA,MAuFE6C,SAAAA,GAKE,IAJA,IAAMC,EAAoBr0E,KADAs0E,mBAEpBnlC,EAAYS,EAFQT,UAGpBD,EAAUU,EAHUV,QAIpBqlC,EAJoB,GAKjBlvE,EAAJ,EAAWqgC,EAAKwJ,EAArB3pC,OAAqCF,EAArCqgC,EAA6CrgC,IAAK,CAChD,IAAMy/C,EAAO5V,EADmC7pC,GAEhDkvE,EAAAA,KAAY,CAAAzvB,KAAAA,EAEVnhD,GAAI0wE,EAFMvvB,GAGV9+C,KAAMmpC,EAHI9pC,KAMd,OAzLJ,SAAsBkvE,GACpB,IAD4B,EACxBC,EADwB,GAEtBriB,EAFsB,gCAI5BoiB,GAJ4B,IAI5B,2BAAoC,KAApCE,EAAoC,QAClC,SAAIA,EAAc9wE,GAOlB,YAAI8wE,EAAc9wE,GAChB6wE,EAASriB,EADyB9S,MAGlCm1B,EAAAA,KADKC,IARLD,EAAAA,KAAY,CAAE1vB,KAAF,GAAYnhD,GAAZ,QAAyBotC,MAAzB,KACZohB,EAAAA,KAF+BqiB,GAG/BA,EAASA,EAAOA,EAAOjvE,OAAdivE,GAHsBzjC,QALP,8BAkB5B,OAlB4ByjC,EAyLnBE,CAbmBH,KAvF9BhD,CAAAA,IAAAA,gBAAAA,MAuGEoD,SAAAA,GAAsB,mCACpBH,GADoB,IACpB,2BAAoC,KAApCI,EAAoC,QAC5BjxE,EAAKixE,EADuBjxE,GAE5BmhD,EAAO8vB,EAFqB9vB,KAG5B9+C,EAAO4uE,EAHqB5uE,KAKlC,SAAQ8+C,GACN,KAAKM,EAAAA,IAALznB,UACE39B,KADF29B,YADF,MAIE,KAAKynB,EAAAA,IAALtpB,WAJF,MAOE,KAAKspB,EAAAA,IAALpnB,WACEh+B,KAAA,WADFgG,GAPF,MAUE,KAAKo/C,EAAAA,IAAL/mB,mBACEr+B,KAAA,mBAAwBgG,EAAxB,GAAiCA,EADnC,IAVF,MAaE,KAAKo/C,EAAAA,IAALnnB,QACEj+B,KAAA,QADFgG,GAbF,MAgBE,KAAKo/C,EAAAA,IAAL5mB,SAGA,KAAK4mB,EAAAA,IAAL3mB,eACEz+B,KAAA,SAAcgG,EADhB,IAnBF,MAsBE,KAAKo/C,EAAAA,IAALxnB,QACE59B,KADF49B,UAtBF,MAyBE,KAAKwnB,EAAAA,IAALhnB,SACEp+B,KAAA,SAAcgG,EAAd,GAAuBA,EADzB,IAzBF,MA4BE,KAAKo/C,EAAAA,IAALvnB,eACE79B,KAAA,eAAoBgG,EADtB,IA5BF,MA+BE,KAAKo/C,EAAAA,IAALtnB,eACE99B,KAAA,eAAoBgG,EADtB,IA/BF,MAkCE,KAAKo/C,EAAAA,IAALrnB,UACE/9B,KAAA,UAAegG,EADjB,IAlCF,MAqCE,KAAKo/C,EAAAA,IAAL9mB,cACEt+B,KAAA,cACEgG,EADF,GAEEA,EAFF,GAGEA,EAHF,GAIEA,EAJF,GAKEA,EALF,GAMEA,EAPJ,IArCF,MA+CE,KAAKo/C,EAAAA,IAALjnB,YACEn+B,KAAA,YAAiBgG,EADnB,IA/CF,MAkDE,KAAKo/C,EAAAA,IAALlnB,qBACEl+B,KAAA,qBAA0BgG,EAD5B,IAlDF,MAqDE,KAAKo/C,EAAAA,IAALrpB,aACE/7B,KAAA,aAAkBgG,EADpB,IArDF,MAwDE,KAAKo/C,EAAAA,IAALnpB,YACEj8B,KAAA,YAAiBgG,EADnB,IAxDF,MA2DE,KAAKo/C,EAAAA,IAALppB,WACEh8B,KAAA,WAAgBgG,EADlB,IA3DF,MA8DE,KAAKo/C,EAAAA,IAALlpB,cACEl8B,KAAA,cAAmBgG,EADrB,IA9DF,MAiEE,KAAKo/C,EAAAA,IAAL7lB,gBACEv/B,KAAA,gBAAqBgG,EAArB,GAA8BA,EAA9B,GAAuCA,EADzC,IAjEF,MAoEE,KAAKo/C,EAAAA,IAAL9lB,kBACEt/B,KAAA,kBAAuBgG,EAAvB,GAAgCA,EAAhC,GAAyCA,EAD3C,IApEF,MAuEE,KAAKo/C,EAAAA,IAALnmB,gBACEj/B,KAAA,gBADFgG,GAvEF,MA0EE,KAAKo/C,EAAAA,IAALjmB,cACEn/B,KAAA,cADFgG,GA1EF,MA6EE,KAAKo/C,EAAAA,IAAL1lB,YACE1/B,KAAA,YAAiBgG,EADnB,IA7EF,MAgFE,KAAKo/C,EAAAA,IAALjpB,QACEn8B,KAAA,QAAagG,EAAb,GAAsBA,EADxB,IAhFF,MAmFE,KAAKo/C,EAAAA,IAALhpB,mBACEp8B,KAAA,mBAAwBgG,EAD1B,IAnFF,MAsFE,KAAKo/C,EAAAA,IAAL/oB,YACEr8B,KAAA,YAAiBgG,EADnB,IAtFF,MAyFE,KAAKo/C,EAAAA,IAAL9oB,UACEt8B,KAAA,UAAegG,EADjB,IAzFF,MA4FE,KAAKo/C,EAAAA,IAALloB,KACEl9B,KADFk9B,OA5FF,MA+FE,KAAKkoB,EAAAA,IAALjoB,OACEn9B,KADFm9B,SA/FF,MAkGE,KAAKioB,EAAAA,IAALpoB,OACEh9B,KADFg9B,SAlGF,MAqGE,KAAKooB,EAAAA,IAALhoB,WACEp9B,KADFo9B,aArGF,MAwGE,KAAKgoB,EAAAA,IAAL/nB,aACEr9B,KADFq9B,eAxGF,MA2GE,KAAK+nB,EAAAA,IAAL3nB,KACEz9B,KAAA,KADF,WA3GF,MA8GE,KAAKolD,EAAAA,IAAL1nB,OACE19B,KAAA,KADF,WA9GF,MAiHE,KAAKolD,EAAAA,IAAL9jB,yBACEthC,KADFshC,2BAjHF,MAoHE,KAAK8jB,EAAAA,IAALnkB,kBACEjhC,KAAA,kBAAuBgG,EADzB,IApHF,MAuHE,KAAKo/C,EAAAA,IAALlkB,wBACElhC,KAAA,wBAA6BgG,EAD/B,IAvHF,MA0HE,KAAKo/C,EAAAA,IAALrkB,sBACE/gC,KAAA,sBAA2BgG,EAD7B,IA1HF,MA6HE,KAAKo/C,EAAAA,IAAL9kB,sBACEtgC,KAAA,sBAA2BgG,EAA3B,GAAoCA,EADtC,IA7HF,MAgIE,KAAKo/C,EAAAA,IAAL7kB,oBACEvgC,KADFugC,sBAhIF,MAmIE,KAAK6kB,EAAAA,IAALtoB,UACE98B,KADF88B,YAnIF,MAsIE,KAAKsoB,EAAAA,IAALnoB,YACEj9B,KADFi9B,cAtIF,MAyIE,KAAKmoB,EAAAA,IAAL9nB,gBACEt9B,KADFs9B,kBAzIF,MA4IE,KAAK8nB,EAAAA,IAAL7nB,kBACEv9B,KADFu9B,oBA5IF,MA+IE,KAAK6nB,EAAAA,IAAL7mB,SACEv+B,KADFu+B,WA/IF,MAkJE,KAAK6mB,EAAAA,IAAL71B,UACEvvB,KAAA,UACEgG,EADF,GAEEA,EAFF,GAGEA,EAHF,GAIEA,EAJF,GAKEA,EALF,GAMEA,EAPJ,IAlJF,MA4JE,KAAKo/C,EAAAA,IAAL7jB,cACEvhC,KAAA,cAAmBgG,EAAnB,GAA4BA,EAD9B,IA5JF,MA+JE,KAAKo/C,EAAAA,IAAL5nB,QACEx9B,KADFw9B,UA/JF,MAkKE,QACEx9B,KAAA,MAAW40E,EADb7jC,OAlKF,MAqKE,SACEllC,EAAAA,EAAAA,MAAAA,0BAAAA,OAAKlI,MA5KS,iCAvGxB4tE,CAAAA,IAAAA,iBAAAA,MAyREzzC,SAAAA,GACE99B,KAAA,oBAD0B+pD,IAzR9BwnB,CAAAA,IAAAA,iBAAAA,MA6RE1zC,SAAAA,GACE79B,KAAA,oBAD0B8pD,IA7R9BynB,CAAAA,IAAAA,WAAAA,MAiSEhzC,WACEv+B,KAAA,WAAiBA,KAAKk9C,QADbuL,WAjSb8oB,CAAAA,IAAAA,gBAAAA,MAqSEjzC,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACE,IAAM4e,EAAUl9C,KADck9C,QAE9BA,EAAAA,WAAqBA,EAAQ23B,WAAa,CAACzzE,EAAGyB,EAAG6hC,EAAGjxB,EAAGvI,EAAG4zC,GAC1D5B,EAAAA,gBAA0Bh7C,KAAKC,KAAKf,EAAIA,EAAIyB,EAHdA,GAK9Bq6C,EAAAA,EAAYA,EAAQ+K,MALU,EAM9B/K,EAAAA,EAAYA,EAAQgL,MANU,EAQ9BhL,EAAAA,QAR8B,GAS9BA,EAAAA,QAT8B,GAU9BA,EAAAA,MAAgBl9C,KAAKsmE,WAAWl8D,cAVF,aAW9B8yC,EAAAA,MAAAA,eAAAA,KAAAA,cAAkDA,EAXpB0rB,YAY9B1rB,EAAAA,MAAAA,eAAAA,KAAAA,YAAAA,GAAAA,OAGKs0B,EAAGt0B,EAANqL,UAHFrL,OAKAA,EAAAA,MAAAA,eAAAA,KAAAA,IAAwCs0B,GAAIt0B,EAjBdn9C,IAmB9Bm9C,EAAAA,WAAqBl9C,KAAKsmE,WAAWl8D,cAnBP,YAoB9B8yC,EAAAA,WAAAA,YAA+BA,EApBD43B,SArSlCvD,CAAAA,IAAAA,YAAAA,MA4TE5zC,WACE,IAAMuf,EAAUl9C,KADNk9C,QAEVA,EAAAA,EAAYA,EAAQ+K,MAFV,EAGV/K,EAAAA,EAAYA,EAAQgL,MAHV,EAIVhL,EAAAA,WAJU5tB,EAAAA,gBAKV4tB,EAAAA,WALU5tB,EAAAA,gBAMV4tB,EAAAA,gBANU,EAOVA,EAAAA,MAAgBl9C,KAAKsmE,WAAWl8D,cAPtB,aAQV8yC,EAAAA,WAAqBl9C,KAAKsmE,WAAWl8D,cAR3B,YASV8yC,EAAAA,OAAiBl9C,KAAKsmE,WAAWl8D,cATvB,SAUV8yC,EAAAA,QAVU,GAWVA,EAAAA,QAXU,KA5Tdq0B,CAAAA,IAAAA,WAAAA,MA0UEnzC,SAAAA,EAAAA,GACE,IAAM8e,EAAUl9C,KADHk9C,QAEbA,EAAAA,EAAYA,EAAQ+K,OAFPnoD,EAGbo9C,EAAAA,EAAYA,EAAQgL,OAHPnoD,EAKbm9C,EAAAA,QALa,GAMbA,EAAAA,QANa,GAObA,EAAAA,MAAgBl9C,KAAKsmE,WAAWl8D,cAPnB,aAQb8yC,EAAAA,MAAAA,eAAAA,KAAAA,cAAkDA,EARrC0rB,YASb1rB,EAAAA,MAAAA,eAAAA,KAAAA,YAAAA,GAAAA,OAGKs0B,EAAGt0B,EAANqL,UAHFrL,OAKAA,EAAAA,MAAAA,eAAAA,KAAAA,IAAwCs0B,GAAIt0B,EAd/Bn9C,MA1UjBwxE,CAAAA,IAAAA,WAAAA,MA2VE/yC,SAAAA,GACE,IAAM0e,EAAUl9C,KADDk9C,QAETrb,EAAOqb,EAFErb,KAGT0mB,EAAWrL,EAHFqL,SAIf,OAAIA,EAAJ,CAIA,IARe,EAQTiB,EAAgBtM,EARPsM,cASTM,EAAc5M,EATL4M,YAUTC,EAAc7M,EAVL6M,YAWTC,EAAgB9M,EAXP8M,cAYTC,EAAa/M,EAAQ+M,WAZZD,EAaTG,EAAWtoB,EAbFsoB,SAcTC,EAAaD,EAAW,GAdf,EAeTE,EAAkBxoB,EAfTwoB,gBAgBTC,EAAoB/B,EAAWrL,EAAQ0L,WAhB9B,GAkBX9oD,EAlBW,+BAmBf8pD,GAnBe,IAmBf,2BAA4B,KAA5BgB,EAA4B,QAC1B,UAAIA,EAIG,IAAIC,EAAAA,EAAAA,OAAJD,GACL9qD,GAAMsqD,EAAaQ,EAAdrC,EADkB,QAAlB,CAKP,IAAMC,GAAWoC,EAAA,UAAD,GAVUd,EAWpB7M,EAAY2N,EAXQK,SAY1B,SAZ0BK,OAY1B,EACIt/C,EAAQ4+C,EAbc5+C,MAc1B,KAAc,CACZ,IADYo/C,OACZ,EACMD,EAAUP,EAAMO,SAFVd,EAIZe,IADAA,EAAKR,EAAMO,QAAUA,EAAhBP,GAHO,GAGsB5+C,GAHtBs+C,EAKZ,IAAMS,EAAKI,EAAQ,GALPb,EAOZt+C,EAAQm/C,GAAWA,EAAXA,GAPIn/C,EAQZq/C,EAAUD,EARE5B,EASZ8B,GAAWxrD,EAADirD,GATEvB,OAWZ6B,EAAUvrD,EADL0pD,EAEL8B,EAFK,GAKHV,EAAMgB,UAAY/pB,EAAtB0Y,eACE2C,EAAAA,QAAAA,KAAqBA,EAAQp9C,EADSurD,GAEtC,GACEnO,EAAAA,QAAAA,MAAsBA,EAADn9C,EADTurD,GAGdpO,EAAAA,MAAAA,aALsCD,GAoBxCn9C,GANA,EACckM,EAAQs+C,EAAoB9B,EAD5BwB,EAGAh+C,EAAQs+C,EAAoB9B,EADnCwB,OA1CLlqD,GAAKkqD,EAFaD,GApBP,8BAsEf7M,EAAAA,MAAAA,eAAAA,KAAAA,IAGEA,EAAQ63B,QAAQ18D,IAAIm5D,GAAIroE,KAzEX,MA2Ef,EACE+zC,EAAAA,MAAAA,eAAAA,KAAAA,IAGEA,EAAQ83B,QAAQ38D,IAAIm5D,GAAIroE,KAJd,MAOZ+zC,EAAAA,MAAAA,eAAAA,KAAAA,IAAwCs0B,GAAIt0B,EADvCn9C,IAIP,EACEm9C,EAAAA,GADYp9C,EAGZo9C,EAAAA,GAAap9C,EADRmqD,EAIP/M,EAAAA,MAAAA,eAAAA,KAAAA,cAAkDA,EA3FnC0rB,YA4Ff1rB,EAAAA,MAAAA,eAAAA,KAAAA,YAAAA,GAAAA,OAGKs0B,EAAGt0B,EAANqL,UAHFrL,OAKIA,EAAQ20B,YAAcD,EAA1BC,WACE30B,EAAAA,MAAAA,eAAAA,KAAAA,aAAiDA,EADD20B,WAG9C30B,EAAQ40B,aAAeF,EAA3BE,YACE50B,EAAAA,MAAAA,eAAAA,KAAAA,cAAkDA,EADA40B,YAIpD,IAAMroB,EACJvM,EAAQqM,kBAAoBxJ,EAAAA,kBAzGf9pB,iBA4Hf,GAjBEwzB,IAAmB1J,EAAAA,kBAAnB0J,MACAA,IAAmB1J,EAAAA,kBAFrBpqB,aAIMunB,EAAQ0K,YAAcgqB,EAA1BhqB,WACE1K,EAAAA,MAAAA,eAAAA,KAAAA,OAA2CA,EADK0K,WAG9C1K,EAAQyK,UAAZ,GACEzK,EAAAA,MAAAA,eAAAA,KAAAA,eAAmDA,EAD1ByK,YAGlBzK,EAAQqM,oBAAsBxJ,EAAAA,kBAAlC/pB,YAGLknB,EAAAA,MAAAA,eAAAA,KAAAA,OAHsE,eAKtEA,EAAAA,MAAAA,eAAAA,KAAAA,OADK,QAKLuM,IAAmB1J,EAAAA,kBAAnB0J,QACAA,IAAmB1J,EAAAA,kBAFrBpqB,YAGE,CACA,IAAMs/C,EAAiB,GAAK/3B,EAAQyN,iBADpC,GAEA3qD,KAAA,qBAA0Bk9C,EAA1B43B,MAFAG,GAQF,IAAIxqB,EAAavN,EAvIFuN,WAwIf,IAAIvN,EAAQwN,YACVD,EAAaA,EADazlD,SAE1BylD,IAAiBvN,EAFSwN,UAK5BxN,EAAAA,WAAAA,eAAAA,KAAAA,YAAAA,GAAAA,OAGKw0B,EAAHjnB,GAHFvN,WAAAA,OAG6Bs0B,EAA3BvnB,GAHF/M,UAKAA,EAAAA,WAAAA,eAn4B2D,uCAm4B3DA,YAlJe,YAmJfA,EAAAA,WAAAA,YAA+BA,EAnJhB43B,OAoJf53B,EAAAA,OAAAA,YAA2BA,EApJZg4B,YAsJfl1E,KAAA,oCAAyCk9C,EAtJ1Bg4B,eA3VnB3D,CAAAA,IAAAA,qBAAAA,MAofElzC,SAAAA,EAAAA,GACEr+B,KAAA,YADuBD,GAEvBC,KAAA,WAFuBD,KApf3BwxE,CAAAA,IAAAA,eAAAA,MAyfE4D,SAAAA,GACE,IAAKxsB,EAALxoC,KACE,MAAM,IAAIvX,MACR,qGAIC5I,KAALo1E,WACEp1E,KAAA,SAAgBA,KAAKsmE,WAAWl8D,cADd,aAElBpK,KAAA,oCAFkB,YAGlBA,KAAA,iBAAsBA,KAHJo1E,WAMpB,IAAMltE,GAAMk9B,EAAAA,EAAAA,iBACVujB,EADUvjB,KAEVujB,EAFUvjB,SAGVplC,KAhBkBulC,iBAkBpBvlC,KAAA,sBACE,qCAA8B2oD,EAA9BrM,WAAAA,MAAAA,aAAAA,OACAp0C,EADA,YA5gBNqpE,CAAAA,IAAAA,UAAAA,MAghBEtzC,SAAAA,GACE,IAAMif,EAAUl9C,KADDk9C,QAETyL,EAAU3oD,KAAKqtC,WAAWx3B,IAAIgW,EAFrB,IAGXjE,EAAOiE,EAHI,GAIfqxB,EAAAA,KAJeyL,GAOb3oD,KAAKq1E,YACJ1sB,EADDpO,aAECv6C,KAAKs1E,cAAc3sB,EAHtBrM,cAKEt8C,KAAA,aADA2oD,GAEA3oD,KAAA,cAAmB2oD,EAAnBrM,YAFAqM,GAKFzL,EAAAA,WAAqByL,EAAQC,WACzBD,EADiBA,WAfNr5B,EAAAA,qBAmBf,IAAIw5B,EAnBW,SAoBXH,EAAJjH,MACEoH,EADiB,MAERH,EAAJG,OACLA,EADuB,QAGzB,IAAMC,EAASJ,EAAQI,OAAS,SAzBjB,SA2BXnhC,EAAJ,GACEA,GADYA,EAEZs1B,EAAAA,eAFY,GAIZA,EAAAA,cADK,EAGPA,EAAAA,SAjCet1B,EAkCfs1B,EAAAA,WAAqByL,EAlCNrM,WAmCfY,EAAAA,WAnCe4L,EAoCf5L,EAAAA,UApCe6L,EAsCf7L,EAAAA,MAAgBl9C,KAAKsmE,WAAWl8D,cAtCjB,aAuCf8yC,EAAAA,MAAAA,eAAAA,KAAAA,IAAwCs0B,GAAIt0B,EAvC7Bn9C,IAwCfm9C,EAAAA,QAxCe,GAyCfA,EAAAA,QAzCe,KAhhBnBq0B,CAAAA,IAAAA,UAAAA,MA4jBE3zC,WACE,IAAMsf,EAAUl9C,KADRk9C,QAGNA,EAAQqM,kBAAoBxJ,EAAAA,kBAA5B7C,kBACAA,EADAA,YAEAA,EAAQg4B,WAHV5a,kBAMEpd,EAAAA,QAAkBA,EAFlBg4B,WAGAl1E,KAAA,KAHA,WAIAA,KAJAw9B,aAlkBN+zC,CAAAA,IAAAA,eAAAA,MA2kBEx1C,SAAAA,GACM/vB,EAAJ,IACEhM,KAAA,kBADagM,KA5kBnBulE,CAAAA,IAAAA,aAAAA,MAilBEv1C,SAAAA,GACEh8B,KAAA,gBAAuBkkD,EADPn4C,KAjlBpBwlE,CAAAA,IAAAA,cAAAA,MAqlBEt1C,SAAAA,GACEj8B,KAAA,iBAAwBmkD,EADPp4C,KArlBrBwlE,CAAAA,IAAAA,gBAAAA,MAylBEr1C,SAAAA,GACEl8B,KAAA,mBADmB2lD,IAzlBvB4rB,CAAAA,IAAAA,iBAAAA,MA6lBEgE,SAAAA,GACEv1E,KAAA,oBAD0BwnD,IA7lB9B+pB,CAAAA,IAAAA,oBAAAA,MAimBEjyC,SAAAA,EAAAA,EAAAA,GACEt/B,KAAA,oBAA2BikC,EAAAA,KAAAA,WAAAA,EAAAA,EADFphC,KAjmB7B0uE,CAAAA,IAAAA,eAAAA,MAqmBEiE,SAAAA,GACEx1E,KAAA,kBADsB2nD,IArmB1B4pB,CAAAA,IAAAA,kBAAAA,MAymBEhyC,SAAAA,EAAAA,EAAAA,GACEv/B,KAAA,kBAAyBikC,EAAAA,KAAAA,WAAAA,EAAAA,EADFphC,GAEvB7C,KAAA,cAAqBA,KAAKsmE,WAAWl8D,cAFd,aAGvBpK,KAAA,gBAHuB,GAIvBA,KAAA,gBAJuB,KAzmB3BuxE,CAAAA,IAAAA,kBAAAA,MAgnBEtyC,SAAAA,GACEj/B,KAAA,oBAA2BA,KAAKy1E,oBADZzvE,KAhnBxBurE,CAAAA,IAAAA,gBAAAA,MAonBEpyC,SAAAA,GACEn/B,KAAA,kBAAyBA,KAAKy1E,oBADZzvE,KApnBtBurE,CAAAA,IAAAA,cAAAA,MAwnBE7xC,SAAAA,GACE,IAAM1zB,EAAQhM,KAAKiuC,SADHjiC,MAEVC,EAASjM,KAAKiuC,SAFJhiC,OAGV6gD,EAAM7oB,EAAAA,KAAAA,iBAAsBjkC,KAHlB6zE,iBAIV9mB,EAAKz9B,EAAAA,KAAAA,eAAoB,CAAC,EAAG,GAJnBw9B,GAKVE,EAAK19B,EAAAA,KAAAA,eAAoB,CAAC,EAAGrjB,GALnB6gD,GAMVG,EAAK39B,EAAAA,KAAAA,eAAoB,CAACtjB,EAAO,GANvB8gD,GAOVI,EAAK59B,EAAAA,KAAAA,eAAoB,CAACtjB,EAAOC,GAPvB6gD,GAQVK,EAAKjrD,KAAKqR,IAAIw5C,EAAT7qD,GAAgB8qD,EAAhB9qD,GAAuB+qD,EAAvB/qD,GAA8BgrD,EARzB,IASVE,EAAKlrD,KAAKqR,IAAIw5C,EAAT7qD,GAAgB8qD,EAAhB9qD,GAAuB+qD,EAAvB/qD,GAA8BgrD,EATzB,IAUVG,EAAKnrD,KAAKsR,IAAIu5C,EAAT7qD,GAAgB8qD,EAAhB9qD,GAAuB+qD,EAAvB/qD,GAA8BgrD,EAVzB,IAWVI,EAAKprD,KAAKsR,IAAIu5C,EAAT7qD,GAAgB8qD,EAAhB9qD,GAAuB+qD,EAAvB/qD,GAA8BgrD,EAXzB,IAaVx9B,EAAO1vB,KAAKsmE,WAAWl8D,cAbb,YAchBslB,EAAAA,eAAAA,KAAAA,IAdgBy9B,GAehBz9B,EAAAA,eAAAA,KAAAA,IAfgB09B,GAgBhB19B,EAAAA,eAAAA,KAAAA,QAAmC29B,EAhBnBF,GAiBhBz9B,EAAAA,eAAAA,KAAAA,SAAoC49B,EAjBpBF,GAkBhB19B,EAAAA,eAAAA,KAAAA,OAAkC1vB,KAAK01E,oBAlBvB1vE,IAmBZhG,KAAKk9C,QAAQyK,UAAjB,GACEj4B,EAAAA,eAAAA,KAAAA,eAA0C1vB,KAAKk9C,QADjByK,WAGhC3nD,KAAA,oCAtBgB0vB,KAxnBpB6hD,CAAAA,IAAAA,sBAAAA,MAopBEkE,SAAAA,GACE,wBAAIzvE,EAAK,GACAhG,KAAK21E,mBADmB3vE,GAG1BhG,KAAK01E,oBAJY1vE,KAppB5BurE,CAAAA,IAAAA,qBAAAA,MA8pBEoE,SAAAA,GACE,IAAMlpB,EAAQzmD,EADS,GAEjB4pC,EAAe5pC,EAFE,GAGjBunD,EAASvnD,EAAK,IAHGspB,EAAAA,gBAIvB,iBAAyBtpB,EAJF,GAIvB,GAAMmnD,EAAN,KAAMC,EAAN,KAAMC,EAAN,KAAMC,EAAN,KACMoI,EAAQ1vD,EALS,GAMjB2vD,EAAQ3vD,EANS,GAOjB4vD,EAAY5vD,EAPK,GASjB4vE,EAAW,UAAXA,OAAqBhC,KAC3B,EAAmBtkD,EAAAA,KAAAA,eAAoB,CAAC69B,EAAIC,GAVrBG,GAUvB,sBAAMsoB,EAAN,KAAMC,EAAN,KACA,EAAmBxmD,EAAAA,KAAAA,eAAoB,CAAC+9B,EAAIC,GAXrBC,GAWvB,sBAAMwoB,EAAN,KAAMC,EAAN,KACA,EAAyB/xC,EAAAA,KAAAA,8BAZFspB,GAYvB,sBACM0oB,EAASvgB,EADf,KAEMwgB,EAASvgB,EAFf,KAIMwgB,EAASn2E,KAAKsmE,WAAWl8D,cAhBR,eAiBvB+rE,EAAAA,eAAAA,KAAAA,KAjBuBP,GAkBvBO,EAAAA,eAAAA,KAAAA,eAlBuB,kBAmBvBA,EAAAA,eAAAA,KAAAA,QAnBuBF,GAoBvBE,EAAAA,eAAAA,KAAAA,SApBuBD,GAqBvBC,EAAAA,eAAAA,KAAAA,IAAAA,GAAAA,OAAiCN,IACjCM,EAAAA,eAAAA,KAAAA,IAAAA,GAAAA,OAAiCL,IAGjC,IAAMznD,EAAMruB,KAzBWquB,IA0BjBwlD,EAAkB7zE,KA1BD6zE,gBA2BjBjsB,EAAY5nD,KAAKk9C,QA3BA0K,UA4BjBL,EAAcvnD,KAAKk9C,QA5BFqK,YA8BjBiG,EAAOxtD,KAAKsmE,WAAW7hE,OAAOsxE,EAAvBF,EAAkCG,EA9BxBF,GAiCvB,GAFA91E,KAAA,IA/BuBwtD,EAgCvBxtD,KAAA,gBAhCuButD,EAiCvB,IAAIqI,EAAiB,OACbgB,GAAW3yB,EAAAA,EAAAA,MAAAA,WAAAA,MAAAA,EAAAA,mBADEwoB,IAEnBzsD,KAAA,kBAFmB42D,EAGnB52D,KAAA,oBAHmB42D,EAerB,OAVA52D,KAAA,cAAmBA,KAAKo0E,cAtCDxkC,IAyCvB5vC,KAAA,IAzCuBquB,EA0CvBruB,KAAA,gBA1CuB6zE,EA2CvB7zE,KAAA,kBA3CuB4nD,EA4CvB5nD,KAAA,oBA5CuBunD,EA8CvB4uB,EAAAA,YAAmB3oB,EAAK+M,WA9CD,IA+CvBv6D,KAAA,iBA/CuBm2E,GAgDvB,eAAOP,EAAP,OA9sBJrE,CAAAA,IAAAA,sBAAAA,MAotBEmE,SAAAA,GACE,OAAQ1vE,EAAR,IACE,kBACE,IADFowE,EACQC,EAAY,UAAZA,OAAsBzC,KACtBhiB,EAAa5rD,EAFrB,GAKE,OAAQA,EAAR,IACE,YACE,IAAMswE,EAAStwE,EADjB,GAEQuwE,EAASvwE,EAFjB,IAGEowE,EAAWp2E,KAAKsmE,WAAWl8D,cAH7B,uBAIEgsE,eAAAA,KAAAA,KAJFC,GAKED,EAAAA,eAAAA,KAAAA,gBALF,kBAMEA,EAAAA,eAAAA,KAAAA,KAAoCE,EANtC,IAOEF,EAAAA,eAAAA,KAAAA,KAAoCE,EAPtC,IAQEF,EAAAA,eAAAA,KAAAA,KAAoCG,EARtC,IASEH,EAAAA,eAAAA,KAAAA,KAAoCG,EATtC,IADF,MAYE,aACE,IAAMC,EAAaxwE,EADrB,GAEQywE,EAAczwE,EAFtB,GAGQ0wE,EAAc1wE,EAHtB,GAIQ2wE,EAAe3wE,EAJvB,IAKEowE,EAAWp2E,KAAKsmE,WAAWl8D,cAL7B,uBAMEgsE,eAAAA,KAAAA,KANFC,GAOED,EAAAA,eAAAA,KAAAA,gBAPF,kBAQEA,EAAAA,eAAAA,KAAAA,KAAoCK,EARtC,IASEL,EAAAA,eAAAA,KAAAA,KAAoCK,EATtC,IAUEL,EAAAA,eAAAA,KAAAA,IAVFO,GAWEP,EAAAA,eAAAA,KAAAA,KAAoCI,EAXtC,IAYEJ,EAAAA,eAAAA,KAAAA,KAAoCI,EAZtC,IAaEJ,EAAAA,eAAAA,KAAAA,KAbFM,GAZF,MA2BE,QACE,MAAM,IAAI9tE,MAAM,6BAAV,OAAuC5C,EAA7B,KAjCtB,mCAmCE4rD,GAnCF,IAmCE,2BAAoC,KAApCglB,EAAoC,QAC5BC,EAAO72E,KAAKsmE,WAAWl8D,cADK,YAElCysE,EAAAA,eAAAA,KAAAA,SAAoCD,EAFF,IAGlCC,EAAAA,eAAAA,KAAAA,aAAwCD,EAHN,IAIlCR,EAAAA,YAJkCS,IAnCtC,8BA0CE,OADA72E,KAAA,iBAzCFo2E,GA0CE,eAAOC,EAAP,KACF,WAEE,OADAxqE,EAAAA,EAAAA,MADF,8BA5CF,KA+CE,YACE,MAhDJ,UAiDE,QACE,MAAM,IAAIjD,MAAM,oBAAV,OAA8B5C,EAApB,QAvwBxBurE,CAAAA,IAAAA,UAAAA,MA2wBEp1C,SAAAA,EAAAA,GACEn8B,KAAA,kBAD4B4lD,EAE5B5lD,KAAA,kBAF4B6lD,IA3wBhC0rB,CAAAA,IAAAA,gBAAAA,MAgxBEhwC,SAAAA,EAAAA,GACE,IADuB,EACjB2b,EAAUl9C,KADOk9C,QAEnBp9C,EAAIo9C,EAARp9C,EACEC,EAAIm9C,EAHiBn9C,EAInB0T,EAJmB,GAKnBnN,EALmB,+BAOvB2gD,GAPuB,IAOvB,2BACE,SADoB,SAElB,KAAK7B,EAAAA,IAALroB,UACEj9B,EAAIkG,EAAKM,KACTvG,EAAIiG,EAAKM,KACT,IAAM0F,EAAQhG,EAAKM,KACb2F,EAASjG,EAAKM,KACd8gD,EAAKtnD,EALbkM,EAMQq7C,EAAKtnD,EANbkM,EAOEwH,EAAAA,KAAAA,IAEE+9D,EAFF/9D,GAGE+9D,EAHF/9D,GAAAA,IAKE+9D,EALF/9D,GAME+9D,EANF/9D,GAAAA,IAQE+9D,EARF/9D,GASE+9D,EATF/9D,GAAAA,IAWE+9D,EAXF/9D,GAYE+9D,EAZF/9D,GAPF,KADF,MAwBE,KAAK2xC,EAAAA,IAAL3oB,OACE38B,EAAIkG,EAAKM,KACTvG,EAAIiG,EAAKM,KACTmN,EAAAA,KAAAA,IAAY+9D,EAAZ/9D,GAAmB+9D,EAHrBzxE,IAxBF,MA6BE,KAAKqlD,EAAAA,IAAL1oB,OACE58B,EAAIkG,EAAKM,KACTvG,EAAIiG,EAAKM,KACTmN,EAAAA,KAAAA,IAAY+9D,EAAZ/9D,GAAmB+9D,EAHrBzxE,IA7BF,MAkCE,KAAKqlD,EAAAA,IAALzoB,QACE78B,EAAIkG,EAAKM,EADX,GAEEvG,EAAIiG,EAAKM,EAFX,GAGEmN,EAAAA,KAAAA,IAEE+9D,EAAGxrE,EAFLyN,IAGE+9D,EAAGxrE,EAAKM,EAHVmN,IAIE+9D,EAAGxrE,EAAKM,EAJVmN,IAKE+9D,EAAGxrE,EAAKM,EALVmN,IAME+9D,EANF/9D,GAOE+9D,EAVJzxE,IAYEuG,GAZF,EAlCF,MAgDE,KAAK8+C,EAAAA,IAALxoB,SACEnpB,EAAAA,KAAAA,IAEE+9D,EAFF/9D,GAGE+9D,EAHF/9D,GAIE+9D,EAAGxrE,EAJLyN,IAKE+9D,EAAGxrE,EAAKM,EALVmN,IAME+9D,EAAGxrE,EAAKM,EANVmN,IAOE+9D,EAAGxrE,EAAKM,EARZ,KAUExG,EAAIkG,EAAKM,EAVX,GAWEvG,EAAIiG,EAAKM,EAXX,GAYEA,GAZF,EAhDF,MA8DE,KAAK8+C,EAAAA,IAALvoB,SACE/8B,EAAIkG,EAAKM,EADX,GAEEvG,EAAIiG,EAAKM,EAFX,GAGEmN,EAAAA,KAAAA,IAEE+9D,EAAGxrE,EAFLyN,IAGE+9D,EAAGxrE,EAAKM,EAHVmN,IAIE+9D,EAJF/9D,GAKE+9D,EALF/9D,GAME+9D,EANF/9D,GAOE+9D,EAVJzxE,IAYEuG,GAZF,EA9DF,MA4EE,KAAK8+C,EAAAA,IAALtoB,UACErpB,EAAAA,KADF,MApFmB,8BA0FvBA,EAAIA,EAAEtK,KA1FiB,KA6FrB+zC,EAAQoL,MACRrB,EAAI1hD,OADJ23C,GAEA+J,EAAI,KAAO7B,EAAAA,IAFXlI,WAGA+J,EAAI,KAAO7B,EAAAA,IAJb3oB,OASEhpB,EAAIypC,EAAQoL,KAAKwuB,eAAe,KAAM,KAJtCrjE,GAMAypC,EAAAA,KAAel9C,KAAKsmE,WAAWl8D,cAD1B,YAELpK,KAAA,oCAAyCk9C,EAFpCoL,OAKPpL,EAAAA,KAAAA,eAAAA,KAAAA,IA3GuBzpC,GA4GvBypC,EAAAA,KAAAA,eAAAA,KAAAA,OA5GuB,QAgHvBA,EAAAA,QAAkBA,EAhHKoL,KAiHvBpL,EAAAA,gBAAAA,EAjHuBn9C,KAhxB3BwxE,CAAAA,IAAAA,UAAAA,MAo4BE/zC,WACE,IAAM0f,EAAUl9C,KADRk9C,QAMR,GAFAA,EAAAA,KAJQ,KAMHl9C,KAALkxD,YAGA,GAAKhU,EAAL7iC,QAAA,CAMA,IAAM08D,EAAS,WAATA,OAAoBrD,KACpBsD,EAAWh3E,KAAKsmE,WAAWl8D,cAhBzB,gBAiBR4sE,EAAAA,eAAAA,KAAAA,KAjBQD,GAkBRC,EAAAA,eAAAA,KAAAA,YAA2CtF,EAAG1xE,KAlBtC6zE,kBAqBR,IAAMoD,EAAc/5B,EAAQ7iC,QAAQ68D,WArB5B,GAsBR,YAAIl3E,KAAKkxD,YACP+lB,EAAAA,eAAAA,KAAAA,YADkC,WAGlCA,EAAAA,eAAAA,KAAAA,YADK,WAGPj3E,KAAA,YA3BQ,KA4BRg3E,EAAAA,YA5BQC,GA6BRj3E,KAAA,iBA7BQg3E,GA+BJ95B,EAAJi6B,gBAGEj6B,EAAAA,UAHyB,KAIzBl9C,KAAA,oBAAwB,SAAUm/C,GAChCA,EAAAA,UADsC,QAIxC63B,EAAAA,eAAAA,KAAAA,YAA2C95B,EARlBi6B,gBAU3Bj6B,EAAAA,cAAAA,QAAAA,OAAwB65B,EAAxB75B,KAEAl9C,KAAA,KA3CQ,UAUNA,KAAA,YADoB,OA74B1BuxE,CAAAA,IAAAA,OAAAA,MAk7BE9zC,SAAAA,GACEz9B,KAAA,YADSqK,IAl7BbknE,CAAAA,IAAAA,YAAAA,MAs7BEz0C,WACE,IAAMogB,EAAUl9C,KADNk9C,QAEV,GAAIA,EAAJoL,KAAkB,CAChB,IAAM70C,EAAI,GAAJA,OAAOypC,EAAQoL,KAAKwuB,eAAe,KAA/B,KAAJrjE,KACNypC,EAAAA,KAAAA,eAAAA,KAAAA,IAFgBzpC,MAx7BtB89D,CAAAA,IAAAA,aAAAA,MA87BEvzC,SAAAA,GACEh+B,KAAA,iBADkByoD,IA97BtB8oB,CAAAA,IAAAA,cAAAA,MAk8BEpzC,SAAAA,GACEn+B,KAAA,iBADoB0qD,IAl8BxB6mB,CAAAA,IAAAA,uBAAAA,MAs8BErzC,SAAAA,GACEl+B,KAAA,0BADsCupD,IAt8B1CgoB,CAAAA,IAAAA,YAAAA,MA08BExzC,SAAAA,GACE/9B,KAAA,mBAA0BwU,EADX,MA18BnB+8D,CAAAA,IAAAA,qBAAAA,MA88BEn1C,SAAAA,MA98BFm1C,CAAAA,IAAAA,cAAAA,MAk9BEl1C,SAAAA,MAl9BFk1C,CAAAA,IAAAA,YAAAA,MAs9BEj1C,SAAAA,GAAkB,mCAChBwpB,GADgB,IAChB,2BAAmC,iCAAxB1+C,EAAwB,KAAnCwI,EAAmC,KACjC,UACE,SACE5P,KAAA,aADF4P,GADF,MAIE,SACE5P,KAAA,WADF4P,GAJF,MAOE,SACE5P,KAAA,YADF4P,GAPF,MAUE,SACE5P,KAAA,cADF4P,GAVF,MAaE,QACE5P,KAAA,QAAa4P,EAAb,GAAuBA,EADzB,IAbF,MAgBE,SACE5P,KAAA,mBADF4P,GAhBF,MAmBE,SACE5P,KAAA,YADF4P,GAnBF,MAsBE,WACE5P,KAAA,QADF4P,GAtBF,MAyBE,SACE5P,KAAA,eADF4P,GAzBF,MA4BE,SACE5P,KAAA,aADF4P,GA5BF,MA+BE,SACE/D,EAAAA,EAAAA,MAAAA,wCAAAA,OAAKzE,MAlCK,iCAt9BpBmqE,CAAAA,IAAAA,OAAAA,MA8/BEr0C,WACE,IAAMggB,EAAUl9C,KADXk9C,QAEDA,EAAJ7iC,UACE6iC,EAAAA,QAAAA,eAAAA,KAAAA,OAA6CA,EAD1B0K,WAEnB1K,EAAAA,QAAAA,eAAAA,KAAAA,eAAqDA,EAFlCyK,WAGnB3nD,KAHmBw9B,aAhgCzB+zC,CAAAA,IAAAA,SAAAA,MAugCEv0C,WACE,IAAMkgB,EAAUl9C,KADTk9C,QAEHA,EAAJ7iC,UACEra,KAAA,qBAA0Bk9C,EADP7iC,SAEnB6iC,EAAAA,QAAAA,eAAAA,KAAAA,OAFmB,QAGnBl9C,KAHmBw9B,aAzgCzB+zC,CAAAA,IAAAA,uBAAAA,MAmhCE6F,SAAAA,GAAkD,IAApBnC,EAAoB,uDAAlDmC,EACQl6B,EAAUl9C,KADgCk9C,QAE5C0I,EAAY1I,EAFgC0I,UAGzB,IAAnBqvB,GAAwBrvB,EAAUrgD,OAAtC,IACEqgD,EAAYA,EAAUvtC,KAAI,SAAUzI,GAClC,OAAOqlE,EADkCrlE,MAI7CyK,EAAAA,eAAAA,KAAAA,SAAuC6iC,EARSqK,aAShDltC,EAAAA,eAAAA,KAAAA,iBAA+C6iC,EATCsK,aAUhDntC,EAAAA,eAAAA,KAAAA,oBAAkDm3D,EAAGt0B,EAVLm6B,aAWhDh9D,EAAAA,eAAAA,KAAAA,iBAA+C6iC,EAXCo6B,SAYhDj9D,EAAAA,eAAAA,KAAAA,kBAAgD6iC,EAZAq6B,UAahDl9D,EAAAA,eAAAA,KAAAA,eAGEm3D,EAAGyD,EAAiB/3B,EAApBs0B,WAhB8C,MAkBhDn3D,EAAAA,eAAAA,KAAAA,mBAGEurC,EAAUvtC,IAAIm5D,GAAIroE,KArB4B,MAuBhDkR,EAAAA,eAAAA,KAAAA,oBAGEm3D,EAAGyD,EAAiB/3B,EAApBs0B,WA1B8C,QAnhCpDD,CAAAA,IAAAA,SAAAA,MAijCEp0C,WACMn9B,KAAKk9C,QAAT7iC,SACEra,KAAA,gDADwB,WAG1BA,KAJOk9B,SAjjCXq0C,CAAAA,IAAAA,aAAAA,MAwjCEn0C,WAGEp9B,KAHWg9B,SAIXh9B,KAJWk9B,SAxjCfq0C,CAAAA,IAAAA,eAAAA,MA+jCEl0C,WACMr9B,KAAKk9C,QAAT7iC,SACEra,KAAA,gDADwB,WAG1BA,KAJao9B,eA/jCjBm0C,CAAAA,IAAAA,cAAAA,MAskCEt0C,WACEj9B,KADY88B,YAEZ98B,KAFYg9B,WAtkChBu0C,CAAAA,IAAAA,kBAAAA,MA2kCEj0C,WACEt9B,KADgB88B,YAEhB98B,KAFgBo9B,eA3kCpBm0C,CAAAA,IAAAA,oBAAAA,MAglCEh0C,WACEv9B,KADkB88B,YAElB98B,KAFkBq9B,iBAhlCtBk0C,CAAAA,IAAAA,2BAAAA,MAqlCEjwC,WACE,IAAM5R,EAAO1vB,KAAKsmE,WAAWl8D,cADJ,YAEzBslB,EAAAA,eAAAA,KAAAA,IAFyB,KAGzBA,EAAAA,eAAAA,KAAAA,IAHyB,KAIzBA,EAAAA,eAAAA,KAAAA,QAJyB,OAKzBA,EAAAA,eAAAA,KAAAA,SALyB,OAMzBA,EAAAA,eAAAA,KAAAA,OAAkC1vB,KAAKk9C,QANd0K,WAQzB5nD,KAAA,oCARyB0vB,KArlC7B6hD,CAAAA,IAAAA,oBAAAA,MAgmCEtwC,SAAAA,GACE,IAAMof,EAAUlI,EAAMoN,WAAW,MAC7BvlD,KAAKqtC,WAAWx3B,IADJsiC,GAEZn4C,KAAK2vC,KAAK95B,IAHSsiC,GAIvBkI,EAIArgD,KAAA,wBARuBqgD,IAKrBx0C,EAAAA,EAAAA,MAAAA,kCAAAA,OAAKssC,EAALtsC,wBArmCN0lE,CAAAA,IAAAA,0BAAAA,MA2mCErwC,SAAAA,EAAAA,GACE,IAAMl1B,EAAQq0C,EADuBr0C,MAE/BC,EAASo0C,EAFsBp0C,OAI/BurE,EAASzF,EAAoB1xB,EAASrgD,KAA7B+xE,kBAJsBhwB,GAK/B01B,EAAWz3E,KAAKsmE,WAAWl8D,cALI,YAMrCqtE,EAAAA,eAAAA,KAAAA,IANqC,KAOrCA,EAAAA,eAAAA,KAAAA,IAPqC,KAQrCA,EAAAA,eAAAA,KAAAA,QAAuCjG,EARFxlE,IASrCyrE,EAAAA,eAAAA,KAAAA,SAAwCjG,EATHvlE,IAUrCjM,KAAA,gBAVqCy3E,EAWrCz3E,KAAA,KAXqC,WAarC,IAAM03E,EAAQ13E,KAAKsmE,WAAWl8D,cAbO,aAcrCstE,EAAAA,eA/gD2D,+BA+gD3DA,aAdqCF,GAerCE,EAAAA,eAAAA,KAAAA,IAfqC,KAgBrCA,EAAAA,eAAAA,KAAAA,IAAgClG,GAhBKvlE,IAiBrCyrE,EAAAA,eAAAA,KAAAA,QAAoClG,EAAGxlE,GAjBF,MAkBrC0rE,EAAAA,eAAAA,KAAAA,SAAqClG,EAAGvlE,GAlBH,MAmBrCyrE,EAAAA,eAAAA,KAAAA,YAAAA,SAAAA,OAGWlG,EAAG,EAAZxlE,GAHF0rE,KAAAA,OAG4BlG,GAAI,EAA9BvlE,GAHFyrE,MAKA,EACE31B,EAAAA,YADQ21B,GAGR13E,KAAA,oCADK03E,KAroCXnG,CAAAA,IAAAA,wBAAAA,MA0oCExwC,SAAAA,GACE,IAAMmc,EAAUl9C,KADak9C,QAEvBlxC,EAAQq0C,EAFer0C,MAGvBC,EAASo0C,EAHcp0C,OAIvB27C,EAAY1K,EAJW0K,UAM7B1K,EAAAA,OAAAA,OAAAA,OAAwBy2B,KACxB,IAAM5xB,EAAO/hD,KAAKsmE,WAAWl8D,cAPA,YAQ7B23C,EAAAA,eAAAA,KAAAA,KAAgC7E,EARHy6B,QAU7B,IAAMjoD,EAAO1vB,KAAKsmE,WAAWl8D,cAVA,YAW7BslB,EAAAA,eAAAA,KAAAA,IAX6B,KAY7BA,EAAAA,eAAAA,KAAAA,IAZ6B,KAa7BA,EAAAA,eAAAA,KAAAA,QAAmC8hD,EAbNxlE,IAc7B0jB,EAAAA,eAAAA,KAAAA,SAAoC8hD,EAdPvlE,IAe7ByjB,EAAAA,eAAAA,KAAAA,OAf6Bk4B,GAgB7Bl4B,EAAAA,eAAAA,KAAAA,OAAAA,QAAAA,OAA0CwtB,EAARy6B,OAAlCjoD,MAEA1vB,KAAA,iBAlB6B+hD,GAmB7B/hD,KAAA,oCAnB6B0vB,GAqB7B1vB,KAAA,0BArB6B+hD,KA1oCjCwvB,CAAAA,IAAAA,wBAAAA,MAkqCEjxC,SAAAA,EAAAA,GAYE,GAXIn9B,MAAMC,QAAQmqD,IAAlB,IAA6BA,EAAOhoD,QAClCvF,KAAA,UACEutD,EADF,GAEEA,EAFF,GAGEA,EAHF,GAIEA,EAJF,GAKEA,EALF,GAMEA,EAP8C,IAWlD,EAAU,CACR,IAAMvhD,EAAQwhD,EAAK,GAAKA,EADhB,GAEFvhD,EAASuhD,EAAK,GAAKA,EAFjB,GAIFiqB,EAAWz3E,KAAKsmE,WAAWl8D,cAJzB,YAKRqtE,EAAAA,eAAAA,KAAAA,IAAmCjqB,EAL3B,IAMRiqB,EAAAA,eAAAA,KAAAA,IAAmCjqB,EAN3B,IAORiqB,EAAAA,eAAAA,KAAAA,QAAuCjG,EAP/BxlE,IAQRyrE,EAAAA,eAAAA,KAAAA,SAAwCjG,EARhCvlE,IASRjM,KAAA,gBATQy3E,EAURz3E,KAAA,KAVQ,WAWRA,KAXQw9B,aA9qCd+zC,CAAAA,IAAAA,sBAAAA,MA6rCEhxC,cA7rCFgxC,CAAAA,IAAAA,cAAAA,MAksCEt9B,SAAAA,GACE,IAAM5lB,EAAMruB,KAAKsmE,WAAW7hE,OAAOwpC,EAAvBjiC,MAAuCiiC,EAD/BhiC,QAId2rE,EAAc53E,KAAKsmE,WAAWl8D,cAJhB,YAKpBikB,EAAAA,YALoBupD,GAMpB53E,KAAA,KANoB43E,EAUpB,IAAMC,EAAY73E,KAAKsmE,WAAWl8D,cAVd,SAmBpB,OARAytE,EAAAA,eAAAA,KAAAA,YAA4CnG,EAAGzjC,EAX3B1e,YAYpBlB,EAAAA,YAZoBwpD,GAiBpB73E,KAAA,IAjBoB63E,EAAAxpD,IAlsCxBkjD,CAAAA,IAAAA,mBAAAA,MA2tCEuG,WACE,IAAK93E,KAAKk9C,QAAV66B,UAA6B,CAC3B,IAAMA,EAAY/3E,KAAKsmE,WAAWl8D,cADP,SAE3B2tE,EAAAA,eAAAA,KAAAA,YAA4C/3E,KAAKk9C,QAFtBi6B,eAG3Bn3E,KAAA,gBAH2B+3E,GAI3B/3E,KAAA,kBAJ2B+3E,EAM7B,OAAO/3E,KAAKk9C,QAPK66B,YA3tCrBxG,CAAAA,IAAAA,wBAAAA,MAwuCEyG,WAUE,OATKh4E,KAALi4E,OACEj4E,KAAA,KAAYA,KAAKsmE,WAAWl8D,cADd,SAEdpK,KAAA,qCAA4C0xE,EAAG1xE,KAFjC6zE,kBAGV7zE,KAAKk9C,QAATi6B,cACEn3E,KAAA,+BAAoCA,KADNi4E,MAG9Bj4E,KAAA,gBAAqBA,KADhBi4E,OAIFj4E,KAVei4E,SAxuC1B1G,EAAAA,yGC1aF,WAMA,QAWM7zB,EAAKF,oBAjCX,KAkCM06B,EAAO16B,oBAlCb,MAmCM26B,EAAQ36B,oBAnCd,MAoCMt1C,EAAMs1C,oBApCZ,MAsCM46B,EAtCN,0BAwDAnuD,EAAAA,WACEpjB,SAAAA,EAAAA,GAAoB,wBAClB7G,KAAA,OADkBgH,EAElBhH,KAAA,IAnBJ,YACE,IAAMq4E,EAAYnwE,EAAIowE,MADKC,GAE3B,MAA2B,UAAvBF,EAAUznD,UAAwBynD,EAAtCG,KAAsDH,EAIlD,gBAAgBvL,KAApByL,GACSrwE,EAAIowE,MAAM,WAAVpwE,OAAUqwE,KAGdF,EAALG,OACEH,EAAAA,SADmB,SAVMA,GAmBdI,CAASzxE,EAFFkB,KAGlBlI,KAAA,OACwB,UAAtBA,KAAKkI,IAAI0oB,UAJO,WAIiB5wB,KAAKkI,IAAI0oB,SAE5C5wB,KAAA,QANkB,UAMHA,KAAKkI,IAAI0oB,SACxB5wB,KAAA,YAAoBA,KAAK04E,QAAU1xE,EAAhBgiC,aAPD,GASlBhpC,KAAA,mBATkB,KAUlBA,KAAA,qBAVkB,4DAapB,WACE,OAAOA,KAAKs+D,mBAAqBt+D,KAAKs+D,mBAA/BK,QADoB,+BAI7B7oB,WAQE,OAPAprB,EAAAA,EAAAA,SACG1qB,KADH0qB,mBADc,wDAKd1qB,KAAA,mBAA0BA,KAAK24E,QAC3B,IAAIC,EADkB54E,MAEtB,IAAI64E,EAPM,MAQP74E,KAROs+D,iDAWhBa,SAAAA,EAAAA,GACE,GAAI1zC,GAAOzrB,KAAXo/D,uBACE,OADsC,KAGxC,IAAMzoB,EAAc32C,KAAK24E,QACrB,IAAIG,EAA2B94E,KAAMqwB,EADrB5E,GAEhB,IAAIstD,EAAyB/4E,KAAMqwB,EANd5E,GAQzB,OADAzrB,KAAA,0BAPyB22C,GAAAA,mCAW3B2oB,SAAAA,GACMt/D,KAAJs+D,oBACEt+D,KAAA,0BAD2BitB,GAIbjtB,KAAKg5E,qBAAqBh0E,MALlB,GAMxBu6D,SAAgB,SAAUruB,GACxBA,EAAAA,OADgCjkB,YA9CtChD,yBAoDAgvD,EAAAA,WACEpyE,SAAAA,EAAAA,GAAoB,wBAClB7G,KAAA,KAAYm3D,EADMjvD,IAElBlI,KAAA,OAFkB,EAGlBA,KAAA,aAHkB,KAIlBA,KAAA,WAJkB,KAKlB,IAAMgH,EAASmwD,EALGnwD,OAMlBhH,KAAA,eAAsBgH,EANJzB,OAOlBvF,KAAA,QAPkB,EAQlBA,KAAA,UARkB,KAUlBA,KAAA,cAAqBgH,EAAO8gC,eAVV,EAWlB9nC,KAAA,gBAAuBgH,EAXLsgC,eAYbtnC,KAADk5E,iBAA0Bl5E,KAA9Bm5E,gBACEn5E,KAAA,eADgD,GAIlDA,KAAA,uBAA8BgH,EAhBZ+gC,cAiBlB/nC,KAAA,mBAA0BgH,EAjBR8gC,aAmBlB9nC,KAAA,gBAnBkB,KAoBlBA,KAAA,iBApBkB,+BAqBlBA,KAAA,oBArBkB,8EAwBpB,WACE,OAAOA,KAAKo5E,mBADKrvC,8BAInB,WACE,OAAO/pC,KADM6/D,qCAIf,WACE,OAAO7/D,KADWigE,6CAIpB,WACE,OAAOjgE,KADc+/D,oDAIvB,WACE,OAAO//D,KADkBggE,uGAI3B,sHACQhgE,KAAKq5E,gBADAtvC,QAAb,WAEM/pC,KAAJy/D,MAFF,yCAGW,CAAE7vD,WAAFxJ,EAAoBkC,MAApB,IAHX,WAKMtI,KAAJs5E,aALF,sBAMUt5E,KADes5E,aALzB,UAUE,QADM1mD,EAAQ5yB,KAAKu5E,gBATRC,QAAb,wBAWIx5E,KAAA,iBADkB,+BAVtB,kBAYWA,KAFWw5E,QAVtB,eAcEx5E,KAAA,SAAgB4yB,EAdLrtB,OAePvF,KAAJw2C,YACEx2C,KAAA,WAAgB,CACd+1C,OAAQ/1C,KADM2+D,QAEdj0B,MAAO1qC,KAFOigE,iBAMZ9sC,EAAS,IAAI1F,WAAWmF,GAtBnBO,OAAb,kBAuBS,CAAEvjB,MAAFujB,EAAiB7qB,MAAjB,IAvBT,2HA0BA2S,SAAAA,GAGOjb,KAALu5E,gBAIAv5E,KAAA,wBAPaitB,GAIXjtB,KAAA,OADyBitB,yBAO7BwsD,SAAAA,GACEz5E,KAAA,aADaitB,EAEbjtB,KAAA,gBAFa0J,4CAKfgwE,SAAAA,GAAmC,WACjC15E,KAAA,gBADiCixC,EAEjCA,EAAAA,GAAAA,YAA8B,WAC5B,kBADkCvnC,aAIpCunC,EAAAA,GAAAA,OAAyB,WAEvBA,EAF6B9kB,UAG7B,SAH6B,EAI7B,kBAJ6BziB,aAO/BunC,EAAAA,GAAAA,SAA2BhkB,SAAAA,GACzB,SADmCA,OAMhCjtB,KAADggE,uBAA+BhgE,KAAnC+/D,mBACE//D,KAAA,OAAY,IAAI,EAAJ,eAD6C,0BAKvDA,KAAJs5E,cACEt5E,KAAA,wBAA6BA,KADRs5E,oBA9G3BL,GAoHAU,EAAAA,WACE9yE,SAAAA,EAAAA,GAAoB,wBAClB7G,KAAA,KAAYm3D,EADMjvD,IAElBlI,KAAA,OAFkB,EAGlBA,KAAA,aAHkB,KAIlBA,KAAA,WAJkB,KAKlBA,KAAA,QALkB,EAMlBA,KAAA,gBANkB,KAOlBA,KAAA,iBAPkB,+BAQlB,IAAMgH,EAASmwD,EARGnwD,OASlBhH,KAAA,uBAA8BgH,EATZ+gC,qEAYpB,WACE,OAAO/nC,KADkBggE,uGAI3B,sHACQhgE,KAAKq5E,gBADAtvC,QAAb,WAEM/pC,KAAJy/D,MAFF,yCAGW,CAAE7vD,WAAFxJ,EAAoBkC,MAApB,IAHX,WAKMtI,KAAJs5E,aALF,sBAMUt5E,KADes5E,aALzB,UAUE,QADM1mD,EAAQ5yB,KAAKu5E,gBATRC,QAAb,wBAWIx5E,KAAA,iBADkB,+BAVtB,kBAYWA,KAFWw5E,QAVtB,eAcEx5E,KAAA,SAAgB4yB,EAdLrtB,OAePvF,KAAJw2C,YACEx2C,KAAA,WAAgB,CAAE+1C,OAAQ/1C,KADP2+D,UAIfxrC,EAAS,IAAI1F,WAAWmF,GAnBnBO,OAAb,kBAoBS,CAAEvjB,MAAFujB,EAAiB7qB,MAAjB,IApBT,2HAuBA2S,SAAAA,GAGOjb,KAALu5E,gBAIAv5E,KAAA,wBAPaitB,GAIXjtB,KAAA,OADyBitB,yBAO7BwsD,SAAAA,GACEz5E,KAAA,aADaitB,EAEbjtB,KAAA,gBAFa0J,4CAKfgwE,SAAAA,GAAmC,WACjC15E,KAAA,gBADiCixC,EAEjCA,EAAAA,GAAAA,YAA8B,WAC5B,kBADkCvnC,aAIpCunC,EAAAA,GAAAA,OAAyB,WAEvBA,EAF6B9kB,UAG7B,SAH6B,EAI7B,kBAJ6BziB,aAO/BunC,EAAAA,GAAAA,SAA2BhkB,SAAAA,GACzB,SADmCA,MAKjCjtB,KAAJs5E,cACEt5E,KAAA,wBAA6BA,KADRs5E,oBAzE3BK,GA+EA,gBACE,MAAO,CACL/oD,SAAUynD,EADLznD,SAELgpD,KAAMvB,EAFDuB,KAGLpB,KAAMH,EAHDwB,SAIL1xC,KAAMkwC,EAJDlwC,KAKLmgB,KAAM+vB,EALD/vB,KAMLwxB,OANK,MAAAC,QAAAA,OAWTlB,EAAAA,SAAAA,wCACEhyE,SAAAA,EAAAA,GAAoB,8BAGlB,IAAMmzE,EAAiB1sD,SAAAA,GACrB,SAAIA,EAAS2sD,WAAoB,CAC/B,IAAMnwE,EAAQ,IAAI,EAAJ,2CAAwC,EAAhBowE,KAAxB,OADiB,OAE/B,eAF+BpwE,OAG/B,4BAH+BA,GAMjC,qBAPiCJ,UAQjC,qBARiC4jB,GAUjC,IAAM6sD,EAAoBt1E,SAAAA,GAGxB,OAAO,0BAA6BA,EAHJ+U,gBAKlC,GAGI,IAAAwgE,kCAAiC,CAAAD,kBAAAA,EAEnCzB,OAAQvhB,EAF2BuhB,OAGnCpxC,eAAgB,EAHmB4xC,gBAInCpxC,aAAc,EAJqBqxC,gBAH/BkB,EAAN,EAAMA,mBAAAC,EAAN,EAAMA,gBAUN,oBAzBiCD,EA2BjC,iBAAsBC,GAAmB,EA3BRra,eA6BjC,aAAiBsa,EAAAA,EAAAA,2BA7BgBJ,IAHjB,OAClB,cADkBhjB,IAmClB,SAnCkB,KAoClB,UAAI,gBACF,WAAgB+gB,EAAKpqD,QACnB0sD,EAAqB,EAArBA,KAAgCrjB,EADlB+gB,aADkB8B,GAMlC,WAAgB7B,EAAMrqD,QACpB0sD,EAAqB,EAArBA,KAAgCrjB,EADlBghB,aADX6B,GAOP,uBAA0B/sD,SAAAA,GACxB,eADkCA,EAElC,4BAFkCA,MAOpC,WAvDkBxB,MAAA,yBADtBotD,CAAAI,GA4DAF,EAAAA,SAAAA,wCACElyE,SAAAA,EAAAA,EAAAA,EAAAA,GAAgC,MAI9B,aAJ8B,yBAC9B,cAD8BswD,IAG9B,aAH8B,GAIPA,EAAvBnuB,YAA2C,CACzC,IAAMp5B,EAAQunD,EAAOnuB,YADoB1mB,GAEzC,qBAAW1S,IAGX,kBALyCA,GAO3C,qCAA0BygB,EAA1B,YAA4C5E,EAAlB,GAE1B,IAAMuuD,EAAiB1sD,SAAAA,GACrB,SAAIA,EAAS2sD,WAKb,qBANiC3sD,OACjC,CACE,IAAMxjB,EAAQ,IAAI,EAAJ,2CAAwC,EAAhBowE,KAAxB,OACd,eAF+BpwE,IAdL,OAsB9B,WAtB8B,KAuB9B,UAAI,gBACF,WAAgBouE,EAAKpqD,QACnB0sD,EAAqB,EAArBA,KAAgC,EADlBtC,cADkB8B,GAMlC,WAAgB7B,EAAMrqD,QACpB0sD,EAAqB,EAArBA,KAAgC,EADlBrC,cADX6B,GAOP,uBAA0B/sD,SAAAA,GACxB,eADkCA,KAGpC,WAtC8BxB,MAAA,yBADlCstD,CAAAY,GA2CAf,EAAAA,SAAAA,wCACE/xE,SAAAA,EAAAA,GAAoB,8BAClB,cADkBswD,GAGlB,IAAI7O,EAAOzzB,mBAAmB,OAHZyzB,MAAA,OAMd8vB,EAAatL,KAAK,OAAtBzlC,QACEihB,EAAOA,EAAKr1B,QAAQ,MADiB,KAIvCyqB,EAAAA,MAAAA,GAAe,cACb,KAAW,MACT,WAAI5zC,EAAM4qB,OACR5qB,EAAQ,IAAI,EAAJ,2CAAwBw+C,EAAxB,QAEV,eAJSx+C,OAKT,4BALSA,GASX,iBAAsB2wE,EAVQ7yD,KAY9B,qBAAwB81B,EAAGg9B,iBAZGpyB,IAa9B,qBAb8B5+C,aAVd,yBADtBkvE,CAAAK,GA6BAH,EAAAA,SAAAA,wCACEjyE,SAAAA,EAAAA,EAAAA,EAAAA,GAAgC,8BAC9B,cAD8BswD,GAG9B,IAAI7O,EAAOzzB,mBAAmB,OAHAyzB,MAAA,OAM1B8vB,EAAatL,KAAK,OAAtBzlC,QACEihB,EAAOA,EAAKr1B,QAAQ,MADiB,KAIvC,qBAAwByqB,EAAGg9B,iBAAiBpyB,EAAM,CAAAj4B,MAAAA,EAAS5E,IAAKA,EAAd,KAVpB,yBADlCqtD,CAAAa,8GChXA,cACE,OAAe,MAAXzrD,GAA8B,IAAXA,GAAgBhmB,EAAIq9C,WAA3C,SACS,IAAI,EAAJ,oBAAwB,gBAAkBr9C,EADc,MAG1D,IAAI,EAAJ,4BACL,8DADK,KAJuCgmB,gCAhBhD,YACE,IAAMysD,EAAqBR,EADyB,uBAEpD,KAAwB,CACtB,IAAIviC,GAAWgjC,EAAAA,EAAAA,yCADOD,GAEtB,GAAI/iC,EAAS1kC,SAAb,KACE,IACE0kC,EAAW/iB,mBADT+iB,GAEF,MAAO9mB,IAEX,GAAI,UAAUg8C,KAAdl1B,GACE,OAD4BA,EAIhC,OAboD,yCAzCtD,YAKG,IALuCuiC,EAKvC,EALuCA,kBAAAzB,EAKvC,EALuCA,OAAApxC,EAKvC,EALuCA,eAA1CQ,EAKG,EALHA,cAMEpd,EAAAA,EAAAA,QAAO4c,EAAP5c,EADC,6CAED,IAAMmwD,EAAe,CACnBR,oBADmB,EAEnBC,qBAFmBl0E,GAKfb,EAAS8rB,SAAS8oD,EAAT9oD,kBAPd,IAQD,OAAKxP,OAAO0S,UAAZhvB,IAIAs1E,EAAAA,gBAZCt1E,EAcGA,GAAU,EAAd+hC,GAMIQ,IAAJ4wC,GAGA,UAAIyB,EAAkB,kBAKtB,cADwBA,EAAkB,qBA3BzC,cAgCDU,EAAAA,oBAhCC,GAciCA,GANHA,4BA0DjC,YACE,OAAkB,MAAX3sD,GAD+B,MACbA,GA/E3B,WAfA,iIC6BA,YACE,IAAI4sD,GAD+D,EAI/D3oB,EAAM4oB,EAAc,cAAe,KAAK5pD,KAJuBwpD,GAKnE,KAAS,CAEP,IAAI/iC,EAAWojC,EADf7oB,EAAMA,EADC,IAMP,OAAO8oB,EADPrjC,EAAWsjC,EADXtjC,EAAWujC,EADXvjC,EAAW7iB,SAHJ6iB,MAaT,GADAua,EAuEA,YAME,IALA,IAD8CxwC,EACxCuP,EADwC,GAKxCkqD,EAAOL,EAAc,kCALmB,MAM9C,QAAQp5D,EAAQy5D,EAAKjqD,KAAdkqD,KAAqD,CAC1D,qBAD0D15D,EAC1D,GAAIlV,EAAJ,KAAI6uE,EAAJ,KAAIC,EAAJ,KAEA,IADA9uE,EAAI4kB,SAAS5kB,EAF6C,OAG1DykB,GAEE,OAAIzkB,EAAS,WAKfykB,EAAAA,GAAa,CAACoqD,EAAMC,GAGtB,IADA,IAAMC,EAlBwC,GAmBrC/uE,EAAT,EAAgBA,EAAIykB,EAApB3rB,QACQkH,KAANykB,IADFzkB,EAAyC,CAKvC,qBAAmBykB,EALoBzkB,GAKvC,GAAI6uE,EAAJ,KAAIC,EAAJ,KACAA,EAAOP,EANgCO,GAOvC,IACEA,EAAOxmD,SADCwmD,GAER,IAAI9uE,IACF8uE,EAAOJ,EADII,KAIfC,EAAAA,KAbuCD,GAezC,OAAOC,EAAMryE,KAlCiC,IAvE1CsyE,CAjB6Dd,GAqBjE,OAAOM,EADUC,EAFV/oB,IAQT,GADAA,EAAM4oB,EAAc,WAAY,KAAK5pD,KAzB8BwpD,GA0B1D,CAEP,IAAI/iC,EAAWojC,EADf7oB,EAAMA,EADC,IAIP,OAAO8oB,EADPrjC,EAAWsjC,EAHJtjC,IAUT,gBACE,OAAO,IAAI7wC,OACT,sEAF4CE,GAehD,gBACE,KAAc,CACZ,IAAK,iBAAiB6lE,KAAtBl9D,GACE,OADiCA,EAGnC,IACE,IAAM8rE,EAAU,IAAIC,YAAYC,EAAU,CAAEC,OAD1C,IAEIvpD,EAAQnvB,MAAM66D,KAAKpuD,GAAO,SAAUgrD,GACxC,OAD4C,IACrCA,EAAGnmC,WAAW,MAEvB7kB,EAAQ8rE,EAAQI,OAAO,IAAIruD,WALzB6E,IAMFwoD,GANE,EAOF,MAAO5vE,GAGP,GAAI,YAAY4hE,KAAhB8O,GAEE,IACEhsE,EAAQilB,mBAAmBC,OADzBllB,IAEFkrE,GAFE,EAGF,MAAOjxE,MAIf,OAxBmC+F,EA0BrC,cASE,OARIkrE,GAAsB,cAAchO,KAAxCl9D,KAEEA,EAAQmsE,EAAW,QAFgCnsE,GAGnD,IAEEA,EAAQmsE,EAAW,aAFGnsE,KAJEA,EA+C9B,cACE,GAAIA,EAAM21C,WAAV,KAA2B,CAGzB,IAFA,IAAMi2B,EAAQ5rE,EAAM5K,MAAM,GAAGgY,MADJ,OAGhB3X,EAAT,EAAgBA,EAAIm2E,EAApBj2E,SAAAF,EAAuC,CACrC,IAAM22E,EAAYR,EAAMn2E,GAAGoU,QADU,MAErC,IAAIuiE,IACFR,EAAAA,GAAWA,EAAMn2E,GAAGL,MAAM,EADNg3E,GAEpBR,EAAAA,OAAen2E,EAFK,GAItBm2E,EAAAA,GAAWA,EAAMn2E,GAAG4tB,QAAQ,SANS,MAQvCrjB,EAAQ4rE,EAAMryE,KAXW,KAa3B,OAd6ByG,EAgB/B,cAEE,IAAMqsE,EAAcC,EAASziE,QAFE,KAG/B,WAAIwiE,EAAoBC,EAUjBH,EAJUG,EAASl3E,MAAM,EATDi3E,GAUbC,EAASl3E,MAAMi3E,EAVF,GAYPhpD,QAAQ,UAZD,KAejC,cAWE,OAAKrjB,EAAM21C,WAAP,OAA2B,uBAAuBunB,KAAtDl9D,GAAmEA,EAU5DA,EAAMqjB,QAAQ,kDAEnB,SAAU/B,EAASirD,EAASP,EAAU/tD,GACpC,GAAiB,MAAb+tD,GAAJ,MAAwBA,EAMtB,OAAOG,EAAWI,EAHlBtuD,GADAA,EAAOA,EAAKoF,QAAQ,KAFoB,MAG5BA,QAAQ,sBAAsB,SAAUtR,EAAOy6D,GACzD,OAAO5pD,OAAOC,aAAapB,SAAS+qD,EAD0B,SAKlE,IACEvuD,EAAO2tB,KADL3tB,GAEF,MAAO3iB,IACT,OAAO6wE,EAAWI,EAZwBtuD,MAiBhD,MAnMmE,6GCbrE,WAKA,QAwBAwuD,EAAAA,WACEx1E,SAAAA,EAAAA,EAAAA,GAAuB,wBACrB7G,KAAA,IADqBkI,EAErBlC,EAAOA,GAFc,GAGrBhG,KAAA,OAAc,YAAY8sE,KAHL5kE,GAIrBlI,KAAA,YAAoBA,KAAK04E,QAAU1yE,EAAhBgjC,aAJE,GAKrBhpC,KAAA,gBAAuBgG,EAAKijC,kBALP,EAMrBjpC,KAAA,OACEgG,EAAKs2E,QACL,WACE,OAAO,IADwBvuD,gBAInC/tB,KAAA,UAZqB,EAarBA,KAAA,gBAAuBsD,OAAOmB,OAbT,uDAgBvB83E,SAAAA,EAAAA,EAAAA,GACE,IAAMv2E,EAAO,CAAA4wC,MAAAA,EAAAnrB,IAAAA,GAIb,eACEzlB,EAAAA,GAAab,EADeq3E,GAG9B,OAAOx8E,KAAK8tB,QARsB9nB,8BAWpCy2E,SAAAA,GACE,OAAOz8E,KAAK8tB,QADS3oB,0BAIvB2oB,SAAAA,GACE,IAAM4uD,EAAM18E,KADAs8E,SAENK,EAAQ38E,KAFF48E,YAGNC,EAAkB78E,KAAK88E,gBAAgBH,GAAS,CAH1CD,IAAAA,GASZ,aAFAA,EAAAA,KAAAA,MAAgB18E,KAPJkI,KAQZw0E,EAAAA,gBAAsB18E,KARVipC,gBASWjpC,KAAvBgpC,YAAyC,CACvC,IAAMp5B,EAAQ5P,KAAKgpC,YADoB1mB,GAEvC,qBAAW1S,GAGX8sE,EAAAA,iBAAAA,EALuC9sE,GA8BzC,OAvBI5P,KAAK04E,QAAU,UAAf1yE,GAAkC,QAAtCA,GACE02E,EAAAA,iBAAAA,QAAAA,SAAAA,OAAuC12E,EAAT4wC,MAA9B8lC,KAAAA,OAAqD12E,EAAKylB,IAA5B,IAC9BoxD,EAAAA,eA/FN,KAiGMA,EAAAA,eAjGN,IAmGIH,EAAAA,aAtBY,cAwBR12E,EAAJy2D,UACEigB,EAAAA,QAAc,SAAUv4E,GACtB6B,EAAAA,QAAa02E,EADcxuD,UAI/BwuD,EAAAA,mBAAyB18E,KAAK+8E,cAActyE,KAAKzK,KA7BrC28E,GA8BZD,EAAAA,WAAiB18E,KAAKw2C,WAAW/rC,KAAKzK,KA9B1B28E,GAgCZE,EAAAA,kBAAmC72E,EAhCvBg3E,kBAiCZH,EAAAA,OAAwB72E,EAjCZi3E,OAkCZJ,EAAAA,QAAyB72E,EAlCby2D,QAmCZogB,EAAAA,WAA4B72E,EAnChBwwC,WAqCZkmC,EAAAA,KArCY,MAAAC,4BA0CdnmC,SAAAA,EAAAA,GACE,IAAMqmC,EAAiB78E,KAAK88E,gBADPH,GAErBE,GAKIA,EAAJrmC,YACEqmC,EAAAA,WAD6B14E,gCAKjC44E,SAAAA,EAAAA,GACE,IAAMF,EAAiB78E,KAAK88E,gBADJH,GAExB,GAAAE,EAAA,CAKA,IAAMH,EAAMG,EAPYH,IAaxB,GALIA,EAAI1uD,YAAc,GAAK6uD,EAA3BG,oBACEH,EAD2DG,2BAEpDH,EAFoDG,mBAK7D,IAAIN,EAAI1uD,YAIF2uD,KAAS38E,KAAf88E,gBASA,UAHO98E,KAAK88E,gBAvBYH,GA0BL,IAAfD,EAAIxuD,QAAgBluB,KAAxB04E,OACMmE,EAAJpgB,SACEogB,EAAAA,QAAuBH,EADGxuD,YAD9B,CAMA,IAAMgvD,EAAYR,EAAIxuD,QAnK1B,IA4KI,GA5KJ,MAyKMgvD,GAzKN,MA0KML,EAAeM,gBAIfD,IAAcL,EAFhBM,eAAA,CAUA,IAAMvqD,EAlJV,YACE,IAAMzS,EAAOu8D,EADcpvD,SAE3B,wBAAWnN,EAAmBA,GAGhByN,EAAAA,EAAAA,eALazN,GAAAgT,OAkJXiqD,CAnDUV,GAoDxB,GAvLJ,MAuLQQ,EAAwC,CAC1C,IAAMG,EAAcX,EAAIvC,kBADkB,iBAEpCjpD,EAAU,2BAA2BC,KAFDksD,GAG1CR,EAAAA,OAAsB,CACpBjmC,MAAOvlB,SAASH,EAATG,GADa,IAAAuB,MAAAA,SAIbA,EACTiqD,EAAAA,OAAsB,CACpBjmC,MADoB,EAAAhkB,MAAAA,IAIbiqD,EAAJpgB,SACLogB,EAAAA,QAAuBH,EADUxuD,aAnB7B2uD,EAAJpgB,SACEogB,EAAAA,QAAuBH,EADGxuD,uCAwBhCovD,SAAAA,GACE,OAAOt9E,KAAK88E,gBAAgBH,GADTD,oCAIrBa,SAAAA,GACE,OAAOZ,KAAS38E,KADM88E,4CAIxBU,SAAAA,GACE,IAAMd,EAAM18E,KAAK88E,gBAAgBH,GADfD,WAEX18E,KAAK88E,gBAFMH,GAGlBD,EAHkBzxC,cAnKtBoxC,GA2KAhyD,EAAAA,WACExjB,SAAAA,EAAAA,GAAoB,wBAClB7G,KAAA,QADkBgH,EAElBhH,KAAA,SAAgB,IAAIq8E,EAAer1E,EAAnBkB,IAA+B,CAC7C8gC,YAAahiC,EADgCgiC,YAE7CC,gBAAiBjiC,EAF4BiiC,kBAI/CjpC,KAAA,gBAAuBgH,EANLsgC,eAOlBtnC,KAAA,mBAPkB,KAQlBA,KAAA,qBARkB,mEAWpBy9E,SAAAA,GACE,IAAMp4E,EAAIrF,KAAKg5E,qBAAqBv/D,QADFy3B,GAE9B7rC,GAAJ,GACErF,KAAA,8BADU,gCAKd81C,WASE,OARAprB,EAAAA,EAAAA,SACG1qB,KADH0qB,mBADc,2DAKd1qB,KAAA,mBAA0B,IAAI09E,EAC5B19E,KADwB29E,SAExB39E,KAPY49E,SASP59E,KATOs+D,iDAYhBa,SAAAA,EAAAA,GACE,IAAMjuB,EAAS,IAAI2sC,EACjB79E,KADa29E,SAAAA,EADUlyD,GAQzB,OAFAylB,EAAAA,SAAkBlxC,KAAKy9E,4BAA4BhzE,KAN1B,MAOzBzK,KAAA,0BAPyBkxC,GAAAA,mCAW3BouB,SAAAA,GACMt/D,KAAJs+D,oBACEt+D,KAAA,0BAD2BitB,GAGbjtB,KAAKg5E,qBAAqBh0E,MAJlB,GAKxBu6D,SAAgB,SAAUruB,GACxBA,EAAAA,OADgCjkB,YA/CtC5C,4BAsDAqzD,EAAAA,WACE72E,SAAAA,EAAAA,EAAAA,GAA6B,wBAC3B7G,KAAA,SAD2B89E,EAG3B,IAAM93E,EAAO,CACXg3E,kBAAmBh9E,KAAK+9E,mBAAmBtzE,KADhC,MAEXwyE,OAAQj9E,KAAKg+E,QAAQvzE,KAFV,MAGXgyD,QAASz8D,KAAKi+E,SAASxzE,KAHZ,MAIX+rC,WAAYx2C,KAAK4+D,YAAYn0D,KAJlB,OAMbzK,KAAA,KAAYgH,EATekB,IAU3BlI,KAAA,eAAsB89E,EAAQrB,YAVHz2E,GAW3BhG,KAAA,4BAX2B,+BAY3BA,KAAA,cAAqBgH,EAAO8gC,eAZD,EAa3B9nC,KAAA,eAAsBgH,EAbKzB,OAc3BvF,KAAA,gBAAuBgH,EAdIsgC,eAetBtnC,KAADk5E,iBAA0Bl5E,KAA9Bm5E,gBACEn5E,KAAA,eADgD,GAIlDA,KAAA,uBAnB2B,EAoB3BA,KAAA,mBApB2B,EAsB3BA,KAAA,cAtB2B,GAuB3BA,KAAA,UAvB2B,GAwB3BA,KAAA,OAxB2B,EAyB3BA,KAAA,kBAzB2BoG,EA0B3BpG,KAAA,UA1B2B,KA4B3BA,KAAA,WA5B2B,4DA+B7B+9E,WACE,IAAMG,EAAmBl+E,KADNm+E,eAEbC,EAAiBp+E,KAAK29E,SAASL,cAFlBY,GAIb/D,EAAoBt1E,SAAAA,GACxB,OAAOu5E,EAAejE,kBADUt1E,IAGlC,GAGI,IAAAu1E,kCAAiC,CAAAD,kBAAAA,EAEnCzB,OAAQ14E,KAAK29E,SAFsBjF,OAGnCpxC,eAAgBtnC,KAHmBk5E,gBAInCpxC,aAAc9nC,KAJqBm5E,gBAH/BkB,EAAN,EAAMA,mBAAAC,EAAN,EAAMA,gBAUN,IACEt6E,KAAA,mBADsB,GAIxBA,KAAA,eAAsBs6E,GAAmBt6E,KArBtBigE,eAuBnBjgE,KAAA,WAAiBu6E,EAAAA,EAAAA,2BAvBEJ,GAyBfn6E,KAAJ+/D,mBAKE//D,KAAA,sBAL0Bk+E,GAQ5Bl+E,KAAA,2BAjCmB0J,iCAoCrBs0E,SAAAA,GACE,IACMh+E,KAAK0/D,UAAUn6D,OAAnB,EAC4BvF,KAAK0/D,UADFnkB,QAE7BokB,QAA0B,CAAE/vD,MAAO5J,EAAT4sB,MAAqBtqB,MAArB,IAE1BtI,KAAA,mBAAwBgG,EADnB4sB,QAIT5yB,KAAA,OATY,EAURA,KAAKq+E,cAAc94E,OAAvB,IAGAvF,KAAA,mBAAuB,SAAU2/D,GAC/BA,EAAAA,QAA0B,CAAE/vD,WAAFxJ,EAAoBkC,MAApB,OAE5BtI,KAAA,UAhBY,4BAmBdi+E,SAAAA,GACE,IAAM/1E,EAAMlI,KADGk6E,KAETrjC,GAAYynC,EAAAA,EAAAA,2BAAAA,EAFHp2E,GAGflI,KAAA,aAHe62C,EAIf72C,KAAA,kCAJe62C,GAKf72C,KAAA,mBAAuB,SAAU2/D,GAC/BA,EAAAA,OADkD9oB,MAGpD72C,KAAA,UARe,GASfA,KAAA,cATe,8BAYjB4+D,SAAAA,GACM5+D,KAAJw2C,YACEx2C,KAAA,WAAgB,CACd+1C,OAAQ51B,EADM41B,OAEdrL,MAAOvqB,EAAKo+D,iBAAmBp+D,EAAxBA,MAAqCngB,KAF9BigE,uCAOpB,WACE,OAAOjgE,KADM6/D,wCAIf,WACE,OAAO7/D,KADc+/D,oDAIvB,WACE,OAAO//D,KADkBggE,iDAI3B,WACE,OAAOhgE,KADWigE,yCAIpB,WACE,OAAOjgE,KAAKw+E,2BADKz0C,yFAInB,0GACM/pC,KAAJs5E,aADF,sBAEUt5E,KADes5E,aADzB,YAIMt5E,KAAKq+E,cAAc94E,OAAvB,GAJF,uBAKUqtB,EAAQ5yB,KAAKq+E,cADc9iC,QAJrC,kBAMW,CAAE3rC,MAAFgjB,EAAgBtqB,MAAhB,IANX,WAQMtI,KAAJy/D,MARF,yCASW,CAAE7vD,WAAFxJ,EAAoBkC,MAApB,IATX,cAWQq3D,GAXK,+BAYX3/D,KAAA,eAZW2/D,GAAb,kBAaSA,EAbI51B,SAAb,2HAgBA9uB,SAAAA,GACEjb,KAAA,OADa,EAEbA,KAAA,kCAFaitB,GAGbjtB,KAAA,mBAAuB,SAAU2/D,GAC/BA,EAAAA,QAA0B,CAAE/vD,WAAFxJ,EAAoBkC,MAApB,OAE5BtI,KAAA,UANa,GAOTA,KAAK29E,SAASJ,iBAAiBv9E,KAAnCm+E,iBACEn+E,KAAA,sBAA2BA,KAD4Bm+E,gBAGzDn+E,KAAA,mBAVa,WAhJjB09E,GA+JAG,EAAAA,WACEh3E,SAAAA,EAAAA,EAAAA,EAAAA,GAAiC,wBAC/B7G,KAAA,SAD+B89E,EAE/B,IAAM93E,EAAO,CACXi3E,OAAQj9E,KAAKg+E,QAAQvzE,KADV,MAEX+rC,WAAYx2C,KAAK4+D,YAAYn0D,KAFlB,OAIbzK,KAAA,WAAkB89E,EAAQvB,aAAa3lC,EAAOnrB,EANfzlB,GAO/BhG,KAAA,UAP+B,GAQ/BA,KAAA,aAR+B,KAS/BA,KAAA,OAT+B,EAW/BA,KAAA,WAX+B,KAY/BA,KAAA,SAZ+B,gDAejCy+E,WACMz+E,KAAJ0+E,UACE1+E,KAAA,SADiB,6BAKrBg+E,SAAAA,GACE,IAAMprD,EAAQzS,EADFyS,MAER5yB,KAAK0/D,UAAUn6D,OAAnB,EAC4BvF,KAAK0/D,UADFnkB,QAE7BokB,QAA0B,CAAE/vD,MAAFgjB,EAAgBtqB,MAAhB,IAE1BtI,KAAA,aADK4yB,EAGP5yB,KAAA,OARY,EASZA,KAAA,mBAAuB,SAAU2/D,GAC/BA,EAAAA,QAA0B,CAAE/vD,WAAFxJ,EAAoBkC,MAApB,OAE5BtI,KAAA,UAZY,GAaZA,KAbYy+E,oCAgBd7f,SAAAA,IACO5+D,KAADs2C,sBAA8Bt2C,KAAlCw2C,YACEx2C,KAAA,WAAgB,CACd+1C,OAAQ5xC,EAFuC4xC,2CAOrD,WACE,OADyB,mFAI3B,yGACE,OAAI/1C,KAAKmgE,aADX,uBAEUvtC,EAAQ5yB,KADgBmgE,aAE9BngE,KAAA,aAF8B,KADlC,kBAIW,CAAE4P,MAAFgjB,EAAgBtqB,MAAhB,IAJX,WAMMtI,KAAJy/D,MANF,yCAOW,CAAE7vD,WAAFxJ,EAAoBkC,MAApB,IAPX,cASQq3D,GATK,+BAUX3/D,KAAA,eAVW2/D,GAAb,kBAWSA,EAXI51B,SAAb,0HAcA9uB,SAAAA,GACEjb,KAAA,OADa,EAEbA,KAAA,mBAAuB,SAAU2/D,GAC/BA,EAAAA,QAA0B,CAAE/vD,WAAFxJ,EAAoBkC,MAApB,OAE5BtI,KAAA,UALa,GAMTA,KAAK29E,SAASJ,iBAAiBv9E,KAAnC2+E,aACE3+E,KAAA,sBAA2BA,KADwB2+E,YAGrD3+E,KATay+E,eAhEjBZ,0GC7ZA,WAKA,QAaA,kBACE,MAAO,CACL/D,OADK,MAAAC,QAAAA,EAGL6E,OAAQC,GAAmBA,EAHtBD,OAILz1B,KAJK,OAKL21B,YAAa71C,EAAkB,UAL1B,cAML81C,SANK,UAUT,cACE,IAAMhF,EAAU,IADkBiF,QAElC,eAAoC,CAClC,IAAMpvE,EAAQo5B,EADoB1mB,GAElC,qBAAW1S,GAGXmqE,EAAAA,OAAAA,EALkCnqE,GAOpC,OATkCmqE,MAapC3vD,EAAAA,WACEvjB,SAAAA,EAAAA,GAAoB,wBAClB7G,KAAA,OADkBgH,EAElBhH,KAAA,OAAc,YAAY8sE,KAAK9lE,EAFbkB,KAGlBlI,KAAA,YAAoBA,KAAK04E,QAAU1xE,EAAhBgiC,aAHD,GAKlBhpC,KAAA,mBALkB,KAMlBA,KAAA,qBANkB,4DASpB,WACE,OAAOA,KAAKs+D,mBAAqBt+D,KAAKs+D,mBAA/BK,QADoB,+BAI7B7oB,WAME,OALAprB,EAAAA,EAAAA,SACG1qB,KADH0qB,mBADc,yDAKd1qB,KAAA,mBAA0B,IAAIi/E,EALhB,MAMPj/E,KANOs+D,iDAShBa,SAAAA,EAAAA,GACE,GAAI1zC,GAAOzrB,KAAXo/D,uBACE,OADsC,KAGxC,IAAMluB,EAAS,IAAIguC,EAA0Bl/E,KAAM42C,EAJ1BnrB,GAMzB,OADAzrB,KAAA,0BALyBkxC,GAAAA,mCAS3BouB,SAAAA,GACMt/D,KAAJs+D,oBACEt+D,KAAA,0BAD2BitB,GAGbjtB,KAAKg5E,qBAAqBh0E,MAJlB,GAKxBu6D,SAAgB,SAAUruB,GACxBA,EAAAA,OADgCjkB,YArCtC7C,0BA4CA60D,EAAAA,WACEp4E,SAAAA,EAAAA,GAAoB,mCAClB7G,KAAA,QADkBm3D,EAElBn3D,KAAA,QAFkB,KAGlBA,KAAA,QAHkB,EAIlBA,KAAA,UAJkB,KAKlB,IAAMgH,EAASmwD,EALGnwD,OAMlBhH,KAAA,iBAAwBgH,EAAOiiC,kBANb,EAOlBjpC,KAAA,eAAsBgH,EAPJzB,OAQlBvF,KAAA,oBARkB,+BASlBA,KAAA,cAAqBgH,EAAO8gC,eATV,EAUlB9nC,KAAA,gBAAuBgH,EAVLsgC,eAWbtnC,KAADk5E,iBAA0Bl5E,KAA9Bm5E,gBACEn5E,KAAA,eADgD,GAIlD,qBAAWm/E,kBACTn/E,KAAA,iBAAwB,IADkBm/E,iBAG5Cn/E,KAAA,uBAA8BgH,EAlBZ+gC,cAmBlB/nC,KAAA,mBAA0BgH,EAnBR8gC,aAqBlB9nC,KAAA,SAAgBo/E,EAAcp/E,KAAK8/D,QArBjB92B,aAuBlB,IAAM9gC,EAAMlB,EAvBMkB,IAwBlBmlB,MAAAA,EAEEgyD,EACEr/E,KADFq/E,SAEEr/E,KAFFq/E,iBAGEr/E,KALJqtB,mBAAAA,MAQQC,SAAAA,GACJ,KAAKgyD,EAAAA,EAAAA,wBAAuBhyD,EAA5BY,QACE,MAAMowD,EAAAA,EAAAA,2BAA0BhxD,EAA1BgxD,OADsCp2E,GAG9C,UAAeolB,EAAS4kD,KAJR/gC,YAKhB,qBALgBznC,UAOhB,IAAMywE,EAAoBt1E,SAAAA,GACxB,OAAOyoB,EAASysD,QAAQlkE,IADQhR,IAGlC,GAGI,IAAAu1E,kCAAiC,CAAAD,kBAAAA,EAEnCzB,OAAQ,UAF2BA,OAGnCpxC,eAAgB,EAHmB4xC,gBAInCpxC,aAAc,EAJqBqxC,gBAH/BkB,EAAN,EAAMA,mBAAAC,EAAN,EAAMA,gBAUN,oBApBgBD,EAsBhB,iBAAsBC,GAAmB,EAtBzBra,eAwBhB,aAAiBsa,EAAAA,EAAAA,2BAxBDJ,IA4BX,EAADna,uBAA+B,EAAnCD,mBACE,SAAY,IAAI,EAAJ,eAD6C,8BApC/D1yC,MAwCSrtB,KAAKo5E,mBAhEIzvE,QAkElB3J,KAAA,WAlEkB,oDAqEpB,WACE,OAAOA,KAAKo5E,mBADKrvC,8BAInB,WACE,OAAO/pC,KADM6/D,qCAIf,WACE,OAAO7/D,KADWigE,6CAIpB,WACE,OAAOjgE,KADc+/D,oDAIvB,WACE,OAAO//D,KADkBggE,uGAI3B,0HACQhgE,KAAKo5E,mBADArvC,QAAb,uBAEgC/pC,KAAKowE,QAFxBoJ,OAAb,mBAEQ5pE,EAFR,EAEQA,QAAAtH,EAFR,EAEQA,MAFR,yCAIW,CAAAsH,MAAAA,EAAAtH,KAAAA,IAJX,cAMEtI,KAAA,SAAgB4P,EANLyiB,WAOPryB,KAAJw2C,YACEx2C,KAAA,WAAgB,CACd+1C,OAAQ/1C,KADM2+D,QAEdj0B,MAAO1qC,KAFOigE,iBAKZ9sC,EAAS,IAAI1F,WAAW7d,GAbnBujB,OAAb,kBAcS,CAAEvjB,MAAFujB,EAAiB7qB,MAAjB,IAdT,2HAiBA2S,SAAAA,GACMjb,KAAJowE,SACEpwE,KAAA,eADgBitB,GAGdjtB,KAAJu/E,kBACEv/E,KAAA,iBADyBirC,cA/G/Bg0C,GAsHAC,EAAAA,WACEr4E,SAAAA,EAAAA,EAAAA,EAAAA,GAAgC,mCAC9B7G,KAAA,QAD8Bm3D,EAE9Bn3D,KAAA,QAF8B,KAG9BA,KAAA,QAH8B,EAI9B,IAAMgH,EAASmwD,EAJenwD,OAK9BhH,KAAA,iBAAwBgH,EAAOiiC,kBALD,EAM9BjpC,KAAA,iBAN8B,+BAO9BA,KAAA,uBAA8BgH,EAPA+gC,cAS9B,qBAAWo3C,kBACTn/E,KAAA,iBAAwB,IADkBm/E,iBAI5Cn/E,KAAA,SAAgBo/E,EAAcp/E,KAAK8/D,QAbL92B,aAc9BhpC,KAAA,wCAA8B42C,EAA9B,YAAgDnrB,EAAlB,IAE9B,IAAMvjB,EAAMlB,EAhBkBkB,IAiB9BmlB,MAAAA,EAEEgyD,EACEr/E,KADFq/E,SAEEr/E,KAFFq/E,iBAGEr/E,KALJqtB,mBAAAA,MAQQC,SAAAA,GACJ,KAAKgyD,EAAAA,EAAAA,wBAAuBhyD,EAA5BY,QACE,MAAMowD,EAAAA,EAAAA,2BAA0BhxD,EAA1BgxD,OADsCp2E,GAG9C,kBAJgBwB,UAKhB,UAAe4jB,EAAS4kD,KALR/gC,eARpB9jB,OAeSJ,SAAAA,GACL,IAAIA,GAAJ,eAAcA,EAAOpoB,KAGrB,MAJeooB,KAOnBjtB,KAAA,WAvC8B,4DA0ChC,WACE,OAAOA,KADkBggE,uGAI3B,0HACQhgE,KAAKq5E,gBADAtvC,QAAb,uBAEgC/pC,KAAKowE,QAFxBoJ,OAAb,mBAEQ5pE,EAFR,EAEQA,QAAAtH,EAFR,EAEQA,MAFR,yCAIW,CAAAsH,MAAAA,EAAAtH,KAAAA,IAJX,cAMEtI,KAAA,SAAgB4P,EANLyiB,WAOPryB,KAAJw2C,YACEx2C,KAAA,WAAgB,CAAE+1C,OAAQ/1C,KADP2+D,UAGfxrC,EAAS,IAAI1F,WAAW7d,GAVnBujB,OAAb,kBAWS,CAAEvjB,MAAFujB,EAAiB7qB,MAAjB,IAXT,2HAcA2S,SAAAA,GACMjb,KAAJowE,SACEpwE,KAAA,eADgBitB,GAGdjtB,KAAJu/E,kBACEv/E,KAAA,iBADyBirC,cAjE/Bi0C,O5B1NAj/E,OAAAA,QAAAA,mR6BCWu/E,EAAiB,CAAC,YAAa,aAAc,WAI7CC,EAAc,CAAC,UAAW,gBAAiB,gBAAiB,SAAU,YAAa,cAAe,aAAc,cAAe,aAAc,cAAe,SAAU,cAAe,eAAgB,eAAgB,cAAe,aAAc,cAAe,aAGjQC,EAAc,CAAC,gBAAiB,aAAc,cAAe,gBAQ7DC,EAAY,GAAGz6E,OAjBG,CAAC,SAAU,QAAS,WAClB,CAAC,mBAAoB,qBAAsB,uBAgBLs6E,EAd5C,CAAC,UAAW,UACb,CAAC,WAAY,UAAW,YAAa,UAAW,YAC7C,CAAC,UAAW,UAYsFC,EAVlG,CAAC,gBAAiB,gBAAiB,cAAe,kBAAmB,sBAAuB,uBAAwB,iBAAkB,iBAAkB,gBAAiB,gBACvK,CAAC,YAS4IC,EAPpJ,CAAC,YACE,CAAC,WACD,CAAC,UAAW,YAAa,mBAAoB,mBAAoB,YAAa,cAAe,UAAW,UAAW,eAAgB,mBAAoB,cAAe,UAAW,SAAU,YAAa,aAAc,eAAgB,WAAY,YAAa,YAAa,YAAa,eAAgB,iBAAkB,aAC3T,CAAC,SAAU,WACP,CAAC,mBAAoB,iBAAkB,wBACtC,CAAC,mBACN,CAAC,aA4B1B,EAnBqB,SAAwB7yE,EAAO+yE,GAClD,IAAIC,EAAa,GAejB,OAdAF,EAAUl0E,SAAQ,SAAU6O,GACpBA,KAAazN,IASnBgzE,EAAWvlE,GALNslE,EAKmB,SAAU57E,GAChC,OAAO6I,EAAMyN,GAAWtW,EAAO47E,EAAQtlE,KALfzN,EAAMyN,OAQ3BulE,GC1CM,SAASC,EAAuB/1C,GAC7C,IAAI+uB,GAAc,EACdinB,EAAiB,IAAIt2E,SAAQ,SAAUC,EAASC,GAClDogC,EAAQ12B,MAAK,WACX,OAAQylD,GAAepvD,EAAQrD,WAAM,EAAQH,cAD/C,OAEY,SAAU4D,GACpB,OAAQgvD,GAAenvD,EAAOG,SAGlC,MAAO,CACLigC,QAASg2C,EACT9kE,OAAQ,WACN69C,GAAc,ICZL,SAASknB,IACtB,OAAO78E,MAAMhD,UAAU6E,MAAMD,KAAKmB,WAAW4S,QAAO,SAAUmnE,EAAWC,GACvE,OAAOD,EAAU/6E,OAAOg7E,KACvB,IAAIC,QAAO,SAAUD,GACtB,MAAsB,kBAARA,KACb/2E,KAAK,KCJV,OAA4Bi3E,EAAAA,EAAAA,eAAc,MCC3B,SAASC,EAAQC,GAC9B,IAAIlzE,EAAWkzE,EAAKlzE,SAChB/C,EAAOi2E,EAAKj2E,KAChB,OAAoBsC,EAAAA,cAAoB,MAAO,CAC7CyF,UAAW,0CAA0ClN,OAAOmF,IAC3D+C,GAELizE,EAAQ5tE,UAAY,CAClBrF,SAAUsF,IAAAA,KACVrI,KAAMqI,IAAAA,MAAgB,CAAC,QAAS,UAAW,YAAY6tE,YCUzD,IAAIC,EAAiC,WACnC,SAASA,KACPC,EAAAA,EAAAA,GAAgBzgF,KAAMwgF,GAEtBxgF,KAAKwnE,mBAAqB,KAC1BxnE,KAAKynE,gBAAkB,KACvBznE,KAAK0nE,qBAAsB,EAqJ7B,OAlJAgZ,EAAAA,EAAAA,GAAaF,EAAmB,CAAC,CAC/Bp5E,IAAK,cACLwI,MAAO,SAAqB+wE,GAC1B3gF,KAAK2gF,YAAcA,IAEpB,CACDv5E,IAAK,YACLwI,MAAO,SAAmBgxE,GACxB5gF,KAAK4gF,UAAYA,IAElB,CACDx5E,IAAK,aACLwI,MAAO,cACN,CACDxI,IAAK,kBACLwI,MAAO,WACL,IAAIixE,GAAmBC,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAASC,EAAQjgC,GAC/F,IAAIkgC,EAASx1C,EAAY0B,EACzB,OAAO4zC,IAAAA,MAAyB,SAAkBG,GAChD,OACE,OAAQA,EAAS/hC,KAAO+hC,EAASC,MAC/B,KAAK,EAGH,MAFAF,EAAUlgC,EAAK,cAEUz9C,QAAS,CAChC49E,EAASC,KAAO,GAChB,MAKF,OAFAD,EAAS/hC,KAAO,EAChB+hC,EAASC,KAAO,EACTnhF,KAAK2gF,YAAYj1C,aAAau1C,GAEvC,KAAK,EACH9zC,EAAY+zC,EAASE,KACrB31C,EAAa0B,EAAY,EACzB+zC,EAASC,KAAO,GAChB,MAEF,KAAK,EAGH,MAFAD,EAAS/hC,KAAO,EAChB+hC,EAASG,GAAKH,EAAQ,MAAU,GAC1B,IAAIt4E,MAAM,IAAK1D,OAAO+7E,EAAS,4CAEvC,KAAK,GACHC,EAASC,KAAO,GAChB,MAEF,KAAK,GACH,GAAyB,kBAAZF,EAAuB,CAClCC,EAASC,KAAO,GAChB,MAGF11C,EAAaw1C,EAAU,EACvBC,EAASC,KAAO,GAChB,MAEF,KAAK,GACH,MAAM,IAAIv4E,MAAM,IAAK1D,OAAO+7E,EAAS,4CAEvC,KAAK,GACH,MAAOx1C,GAAcA,EAAa,GAAKA,EAAazrC,KAAKshF,YAAa,CACpEJ,EAASC,KAAO,GAChB,MAGF,MAAM,IAAIv4E,MAAM,IAAK1D,OAAOumC,EAAY,kCAE1C,KAAK,GACHzrC,KAAK4gF,UAAUW,mBAAmB,CAChC91C,WAAYA,IAGhB,KAAK,GACL,IAAK,MACH,OAAOy1C,EAASrK,UAGrBmK,EAAShhF,KAAM,CAAC,CAAC,EAAG,SAOzB,OAJA,SAAyBwhF,GACvB,OAAOX,EAAiBx6E,MAAMrG,KAAMkG,YApEjC,IAyEN,CACDkB,IAAK,aACLwI,MAAO,SAAoBmxC,GACzB/gD,KAAKyhF,gBAAgB1gC,KAEtB,CACD35C,IAAK,WACLwI,MAAO,cACN,CACDxI,IAAK,qBACLwI,MAAO,WACL,MAAO,MAER,CACDxI,IAAK,eACLwI,MAAO,WACL,MAAO,MAER,CACDxI,IAAK,UACLwI,MAAO,cACN,CACDxI,IAAK,qBACLwI,MAAO,cACN,CACDxI,IAAK,eACLwI,MAAO,cACN,CACDxI,IAAK,gBACLwI,MAAO,WACL,OAAO,IAER,CACDxI,IAAK,eACLwI,MAAO,WACL,OAAO,IAER,CACDxI,IAAK,aACLyO,IAAK,WACH,OAAO7V,KAAK2gF,YAAc3gF,KAAK2gF,YAAYr1C,SAAW,IAEvD,CACDlkC,IAAK,OACLyO,IAAK,WACH,OAAO7V,KAAK4gF,UAAUc,mBAExB5rE,IAAK,SAAalG,GAChB5P,KAAK4gF,UAAUc,kBAAoB9xE,IAEpC,CACDxI,IAAK,WACLyO,IAAK,WACH,OAAO,GAETC,IAAK,SAAalG,QAGb4wE,EA3J4B,GChBrC,EAJwB,CACtB79C,cAAe,EACfC,mBAAoB,YCEX++C,EAA8B,qBAAX53E,OAKnB63E,EAAoBD,GAA0C,UAA7B53E,OAAOuW,SAASsQ,SAYrD,SAASixD,EAAUC,GACxB,MAA2B,qBAAbA,EAQT,SAASC,EAAWD,GACzB,OAAOD,EAAUC,IAA0B,OAAbA,EAiBzB,SAAS/6C,EAAc+6C,GAC5B,OAAOA,aAAoBE,YAQtB,SAASC,EAAOH,GACrB,IAAKH,EACH,MAAM,IAAI/4E,MAAM,4EAGlB,OAAOk5E,aAAoBr8C,KAQtB,SAASy8C,EAAOJ,GACrB,IAAKH,EACH,MAAM,IAAI/4E,MAAM,4EAGlB,OAAOk5E,aAAoBK,KAQtB,SAASC,EAAUpvD,GACxB,MA5C2B,kBA4CXA,GAAQ,SAAS85C,KAAK95C,GAEjC,SAASqvD,EAAoBC,GAClC,IAAKF,EAAUE,GACb,MAAM,IAAI15E,MAAM,qBAGlB,IAAI25E,EAAiBD,EAAQtlE,MAAM,KAC/BwlE,GAAkBC,EAAAA,EAAAA,GAAeF,EAAgB,GACjDG,EAAgBF,EAAgB,GAChCG,EAAaH,EAAgB,GAIjC,OAAmC,IAFrBE,EAAc1lE,MAAM,KAEtBvD,QAAQ,UACX+hC,KAAKmnC,GAGP5tD,SAAS4tD,GAMlB,SAASC,EAAa9I,IAaf,SAAS+I,IACd,IAAK,IAAIC,EAAQ58E,UAAUX,OAAQ09B,EAAU,IAAI9/B,MAAM2/E,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACvF9/C,EAAQ8/C,GAAS78E,UAAU68E,GAG7BH,EAAav8E,WAAM,EAAQ,CAAC,QAAQnB,OAAO+9B,IAEtC,SAAS+/C,IACd,IAAK,IAAIC,EAAQ/8E,UAAUX,OAAQ09B,EAAU,IAAI9/B,MAAM8/E,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACvFjgD,EAAQigD,GAASh9E,UAAUg9E,GAG7BN,EAAav8E,WAAM,EAAQ,CAAC,SAASnB,OAAO+9B,IAEvC,SAASkgD,IACVvB,GACFiB,EAAU,mLAGP,SAASO,EAAkBC,GAC5BA,GAAeA,EAAYpoE,QAAQooE,EAAYpoE,SAE9C,SAASqoE,EAAiB5tC,EAAMlhC,GAyBrC,OAxBAlR,OAAOqX,eAAe+6B,EAAM,QAAS,CACnC7/B,IAAK,WACH,OAAO7V,KAAK0tC,KAAK,GAAKl5B,GAExBsuB,cAAc,IAEhBx/B,OAAOqX,eAAe+6B,EAAM,SAAU,CACpC7/B,IAAK,WACH,OAAO7V,KAAK0tC,KAAK,GAAKl5B,GAExBsuB,cAAc,IAEhBx/B,OAAOqX,eAAe+6B,EAAM,gBAAiB,CAC3C7/B,IAAK,WACH,OAAO7V,KAAK0tC,KAAK,IAEnB5K,cAAc,IAEhBx/B,OAAOqX,eAAe+6B,EAAM,iBAAkB,CAC5C7/B,IAAK,WACH,OAAO7V,KAAK0tC,KAAK,IAEnB5K,cAAc,IAET4S,EAEF,SAAS6tC,EAAkBz5E,GAChC,MAAsB,gCAAfA,EAAMjF,KAER,SAAS2+E,EAAa9X,GAC3B,OAAO,IAAIjiE,SAAQ,SAAUC,EAASC,GACpC,IAAIunC,EAAS,IAAIuyC,WA0BjB,OAxBAvyC,EAAOwyC,OAAS,WACd,OAAOh6E,EAAQ,IAAI+jB,WAAWyjB,EAAOn4B,UAGvCm4B,EAAO3mC,QAAU,SAAUvG,GACzB,OAAQA,EAAMumB,OAAOzgB,MAAM4qB,MACzB,KAAK1wB,EAAMumB,OAAOzgB,MAAM65E,cACtB,OAAOh6E,EAAO,IAAIf,MAAM,gDAE1B,KAAK5E,EAAMumB,OAAOzgB,MAAM85E,iBACtB,OAAOj6E,EAAO,IAAIf,MAAM,mDAE1B,KAAK5E,EAAMumB,OAAOzgB,MAAM+5E,aACtB,OAAOl6E,EAAO,IAAIf,MAAM,gDAE1B,KAAK5E,EAAMumB,OAAOzgB,MAAMg6E,UACtB,OAAOn6E,EAAO,IAAIf,MAAM,yCAE1B,QACE,OAAOe,EAAO,IAAIf,MAAM,kCAI9BsoC,EAAO6yC,kBAAkBrY,GAClB,sBCpMAmU,EAAa,WACtB,IAAI9mE,EAAS,GAIb,MAHA,GAAG7T,QAAO8+E,EAAAA,EAAAA,GAAmBvE,IAAcuE,EAAAA,EAAAA,GAAmBtE,IAAcsE,EAAAA,EAAAA,GAAmBxE,IAAiB/zE,SAAQ,SAAU6O,GAChIvB,EAAOuB,GAAa5H,IAAAA,QAEfqG,EALe,GASpBkrE,EAAY,CAACvxE,IAAAA,OAAkBA,IAAAA,WAAqBsvE,aAActvE,IAAAA,MAAgB,CACpFyN,KAAMzN,IAAAA,UAAoB,CAACA,IAAAA,OAAkBA,IAAAA,SAC7Cs2B,YAAat2B,IAAAA,OACbu0B,MAAOv0B,IAAAA,OACPxK,IAAKwK,IAAAA,OACLu2B,gBAAiBv2B,IAAAA,QAGC,qBAATyvE,MACT8B,EAAU5/E,KAAKqO,IAAAA,WAAqByvE,OAGlB,qBAAT18C,MACTw+C,EAAU5/E,KAAKqO,IAAAA,WAAqB+yB,OAG/B,IAAIy+C,EAAcxxE,IAAAA,UAAoB,CAACA,IAAAA,OAAkBA,IAAAA,QAAkBA,IAAAA,UACvEwvE,EAASxvE,IAAAA,UAAoBuxE,GAC7BE,GAAgBzxE,IAAAA,WAAqB0xE,GAErCC,IADe3xE,IAAAA,MAAgB,CAAC,QAAS,SAAU,UAAW,SACrDA,IAAAA,MAAgB,CAClCs3B,WAAYt3B,IAAAA,MAAgB,CAC1B4xE,WAAY5xE,IAAAA,OAAAA,aACX6tE,WACHlzC,WAAY36B,IAAAA,MAAgB,CAC1BwlC,MAAOxlC,IAAAA,OAAAA,aACN6tE,WACH3yC,eAAgBl7B,IAAAA,KAAAA,WAChBs+B,eAAgBt+B,IAAAA,KAAAA,WAChBi7B,YAAaj7B,IAAAA,KAAAA,WACbhG,OAAQgG,IAAAA,KAAAA,cA8DC6xE,GAAQ7xE,IAAAA,UAAoB,CAACA,IAAAA,MAAgB,CACtDk5B,eAAgBl5B,IAAAA,KAAAA,WAChB05B,WAAY15B,IAAAA,KAAAA,WACZ84B,QAAS94B,IAAAA,KAAAA,WACT44B,SAAU54B,IAAAA,OAAAA,aACRA,IAAAA,OACO8xE,GAAQ9xE,IAAAA,UAAoB,CAACA,IAAAA,KAAgBA,IAAAA,MAAgB,CACtEwqC,QAASxqC,IAAAA,QAEA+xE,GAAe/xE,IAAAA,MAAgB,CAAC,SAAU,OAAQ,QAClDgyE,GAAWhyE,IAAAA,MAAgB,CAAC,EAAG,GAAI,IAAK,MCxGnD,SAASiyE,GAAQC,EAAQC,GAAkB,IAAI/9E,EAAOxD,OAAOwD,KAAK89E,GAAS,GAAIthF,OAAO2B,sBAAuB,CAAE,IAAI6/E,EAAUxhF,OAAO2B,sBAAsB2/E,GAAaC,IAAgBC,EAAUA,EAAQ3E,QAAO,SAAU4E,GAAO,OAAOzhF,OAAOovC,yBAAyBkyC,EAAQG,GAAKj7D,eAAgBhjB,EAAKzC,KAAKgC,MAAMS,EAAMg+E,GAAY,OAAOh+E,EAE9U,SAASk+E,GAAcz6D,GAAU,IAAK,IAAIllB,EAAI,EAAGA,EAAIa,UAAUX,OAAQF,IAAK,CAAE,IAAI2B,EAAyB,MAAhBd,UAAUb,GAAaa,UAAUb,GAAK,GAAQA,EAAI,EAAKs/E,GAAQrhF,OAAO0D,IAAS,GAAMyE,SAAQ,SAAUrE,IAAO69E,EAAAA,EAAAA,GAAgB16D,EAAQnjB,EAAKJ,EAAOI,OAAsB9D,OAAO4hF,0BAA6B5hF,OAAO6hF,iBAAiB56D,EAAQjnB,OAAO4hF,0BAA0Bl+E,IAAmB29E,GAAQrhF,OAAO0D,IAASyE,SAAQ,SAAUrE,GAAO9D,OAAOqX,eAAe4P,EAAQnjB,EAAK9D,OAAOovC,yBAAyB1rC,EAAQI,OAAe,OAAOmjB,EAE7gB,SAAS66D,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EniE,KAAKpjB,UAAUgH,SAASpC,KAAKwgF,QAAQC,UAAUjiE,KAAM,IAAI,iBAAyB,EAAQ,MAAOrY,GAAK,OAAO,GAFzPy6E,GAA6B,OAAO,WAAkC,IAAsC5sE,EAAlC6sE,GAAQC,EAAAA,EAAAA,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,GAAYD,EAAAA,EAAAA,GAAgB7lF,MAAM6G,YAAakS,EAASwsE,QAAQC,UAAUI,EAAO1/E,UAAW4/E,QAAqB/sE,EAAS6sE,EAAMv/E,MAAMrG,KAAMkG,WAAc,OAAO6/E,EAAAA,EAAAA,GAA2B/lF,KAAM+Y,IAmB5Z,IAAIiuB,GAAwBg/C,EAAAA,sBAExBC,GAAwB,SAAUC,IACpCC,EAAAA,EAAAA,GAAUF,EAAUC,GAEpB,IAAIE,EAAShB,GAAaa,GAE1B,SAASA,IACP,IAAI/4E,GAEJuzE,EAAAA,EAAAA,GAAgBzgF,KAAMimF,GAEtB,IAAK,IAAII,EAAOngF,UAAUX,OAAQS,EAAO,IAAI7C,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtgF,EAAKsgF,GAAQpgF,UAAUogF,GAkUzB,OA/TAp5E,EAAQk5E,EAAOrhF,KAAKsB,MAAM+/E,EAAQ,CAACpmF,MAAMkF,OAAOc,KAEhDi/E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,QAAS,CACtDs5E,IAAK,QAGPvB,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,SAAU,CACvDq0E,mBAAoB,SAA4BjB,GAC9C,IAAI70C,EAAa60C,EAAK70C,WAElBg7C,EAAcv5E,EAAML,MAAM45E,YAE9B,GAAIA,EACFA,EAAY,CACVh7C,WAAYA,QAFhB,CAQA,IAAIiK,EAAOxoC,EAAMw5E,MAAMj7C,EAAa,GAEhCiK,EAEFA,EAAKixC,iBAIP9D,EAAU,6CAA6C39E,OAAOumC,EAAY,gQAI9Ew5C,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,cAAe,IAAIk3E,IAElEa,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,gBAA6B4zE,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAASC,IAC5I,IAAIh6E,EAAQ4/E,EAAaj+E,EAASk+E,EAAgB/vC,EAAYgwC,EAAaN,EAE3E,OAAOzF,IAAAA,MAAyB,SAAkBG,GAChD,OACE,OAAQA,EAAS/hC,KAAO+hC,EAASC,MAC/B,KAAK,EAIH,OAHAn6E,EAAS,KACTk6E,EAAS/hC,KAAO,EAChB+hC,EAASC,KAAO,EACTj0E,EAAM65E,qBAEf,KAAK,EACH//E,EAASk6E,EAASE,KAElBl0E,EAAM85E,kBAEN9F,EAASC,KAAO,GAChB,MAEF,KAAK,EACHD,EAAS/hC,KAAO,EAChB+hC,EAASG,GAAKH,EAAQ,MAAU,GAEhCh0E,EAAM+5E,cAAc/F,EAASG,IAE/B,KAAK,GACH,GAAIr6E,EAAQ,CACVk6E,EAASC,KAAO,GAChB,MAGF,OAAOD,EAASgG,OAAO,UAEzB,KAAK,GA2BH,OA1BAh6E,EAAM2B,UAAS,SAAUs4E,GACvB,OAAKA,EAAUX,IAIR,CACLA,IAAK,MAJE,QAQXI,EAAc15E,EAAML,MAAOlE,EAAUi+E,EAAYj+E,QAASk+E,EAAiBD,EAAYC,eAAgB/vC,EAAa8vC,EAAY9vC,WAChIoqC,EAAS/hC,KAAO,GAEhBikC,EAAkBl2E,EAAMm2E,aAEpBn2E,EAAM4/B,aAAa5/B,EAAM4/B,YAAY3gB,UACzCjf,EAAM4/B,YAAck5C,EAAAA,YAAkBhB,GAAcA,GAAc,GAAIh+E,GAAS2B,IAC/EuE,EAAM4/B,YAAYgK,WAAaA,EAE3B+vC,IACF35E,EAAM4/B,YAAY0J,WAAaqwC,GAGjCC,EAAcM,EAAgBl6E,EAAM4/B,YAAY/C,SAChD78B,EAAMm2E,YAAcyD,EACpB5F,EAASC,KAAO,GACT2F,EAAY/8C,QAErB,KAAK,GACHy8C,EAAMtF,EAASE,KAEfl0E,EAAM2B,UAAS,SAAUs4E,GACvB,OAAIA,EAAUX,KAAOW,EAAUX,IAAIj7C,cAAgBi7C,EAAIj7C,YAC9C,KAGF,CACLi7C,IAAKA,KAENt5E,EAAMm6E,eAETnG,EAASC,KAAO,GAChB,MAEF,KAAK,GACHD,EAAS/hC,KAAO,GAChB+hC,EAASoG,GAAKpG,EAAQ,MAAU,IAEhCh0E,EAAMq6E,YAAYrG,EAASoG,IAE7B,KAAK,GACL,IAAK,MACH,OAAOpG,EAASrK,UAGrBmK,EAAS,KAAM,CAAC,CAAC,EAAG,GAAI,CAAC,GAAI,YAGlCiE,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,oBAAoB,WACjEA,EAAMi5D,YAAYqhB,UAAUt6E,EAAMu6E,QAElC,IAAIC,GAAmBnB,EAAAA,EAAAA,GAAuBr5E,GAE9C5J,OAAOqX,eAAezN,EAAMi5D,YAAa,qBAAsB,CAC7DtwD,IAAK,WAGH,OAFyB6xE,EAAiB76E,MAAM26D,oBAG9C,IAAK,QACH,OAAO,EAET,IAAK,SACH,OAAO,EAET,IAAK,UACH,OAAO,EAET,IAAK,OACH,OAAO,EAET,QACE,OAAO,UAMjByd,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,mBAAmB,WAChE,IAAI85E,EAAkB95E,EAAML,MAAMm6E,gBAC9BA,GAAiBA,QAGvB/B,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAAiB,SAAUpD,GACxEk5E,EAAWl5E,GACX,IAAIm9E,EAAgB/5E,EAAML,MAAMo6E,cAC5BA,GAAeA,EAAcn9E,OAGnCm7E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAAiB,WAC9D,IAAIm6E,EAAgBn6E,EAAML,MAAMw6E,cAC5Bb,EAAMt5E,EAAM0B,MAAM43E,IAClBa,GAAeA,EAAcb,GACjCt5E,EAAMw5E,MAAQ,IAAIvjF,MAAMqjF,EAAIl7C,UAE5Bp+B,EAAMi5D,YAAYwhB,YAAYnB,OAGhCvB,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,eAAe,SAAUpD,GACtEoD,EAAM2B,SAAS,CACb23E,KAAK,IAGPxD,EAAWl5E,GACX,IAAIy9E,EAAcr6E,EAAML,MAAM06E,YAC1BA,GAAaA,EAAYz9E,OAG/Bm7E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,sBAAmC4zE,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAAS6G,IAClJ,IAAIlc,EAAMmc,EAAgB3/E,EAAK4/E,EAAaC,EAE5C,OAAOhH,IAAAA,MAAyB,SAAmBiH,GACjD,OACE,OAAQA,EAAU7oC,KAAO6oC,EAAU7G,MACjC,KAAK,EAGH,GAFAzV,EAAOx+D,EAAML,MAAM6+D,KAET,CACRsc,EAAU7G,KAAO,EACjB,MAGF,OAAO6G,EAAUd,OAAO,SAAU,MAEpC,KAAK,EACH,GAAsB,kBAATxb,EAAoB,CAC/Bsc,EAAU7G,KAAO,EACjB,MAGF,IAAKiB,EAAU1W,GAAO,CACpBsc,EAAU7G,KAAO,EACjB,MAIF,OADA0G,EAAiBxF,EAAoB3W,GAC9Bsc,EAAUd,OAAO,SAAU,CAChC/mE,KAAM0nE,IAGV,KAAK,EAEH,OADA1E,IACO6E,EAAUd,OAAO,SAAU,CAChCh/E,IAAKwjE,IAGT,KAAK,EACH,KAAMA,aAAgB1kC,IAAwB,CAC5CghD,EAAU7G,KAAO,GACjB,MAGF,OAAO6G,EAAUd,OAAO,SAAU,CAChCjgD,MAAOykC,IAGX,KAAK,GACH,IAAK3kC,EAAc2kC,GAAO,CACxBsc,EAAU7G,KAAO,GACjB,MAGF,OAAO6G,EAAUd,OAAO,SAAU,CAChC/mE,KAAMurD,IAGV,KAAK,GACH,IAAKiW,EAAW,CACdqG,EAAU7G,KAAO,GACjB,MAGF,IAAMc,EAAOvW,KAASwW,EAAOxW,GAAQ,CACnCsc,EAAU7G,KAAO,GACjB,MAIF,OADA6G,EAAU7G,KAAO,GACVqC,EAAa9X,GAEtB,KAAK,GAEH,OADAsc,EAAU3G,GAAK2G,EAAU5G,KAClB4G,EAAUd,OAAO,SAAU,CAChC/mE,KAAM6nE,EAAU3G,KAGpB,KAAK,GACH,GAAwB,YAAlB4G,EAAAA,EAAAA,GAAQvc,GAAqB,CACjCsc,EAAU7G,KAAO,GACjB,MAGF,MAAM,IAAIv4E,MAAM,mFAElB,KAAK,GACH,GAAO8iE,EAAKxjE,KAAQwjE,EAAKvrD,MAASurD,EAAKzkC,MAAQ,CAC7C+gD,EAAU7G,KAAO,GACjB,MAGF,MAAM,IAAIv4E,MAAM,+DAElB,KAAK,GACH,GAA0B,kBAAb8iE,EAAKxjE,IAAmB,CACnC8/E,EAAU7G,KAAO,GACjB,MAGF,IAAKiB,EAAU1W,EAAKxjE,KAAM,CACxB8/E,EAAU7G,KAAO,GACjB,MAKF,OAFAj5E,EAAMwjE,EAAKxjE,IAAK4/E,GAAcI,EAAAA,EAAAA,GAAyBxc,EAAM,CAAC,QAC9Dqc,EAAkB1F,EAAoBn6E,GAC/B8/E,EAAUd,OAAO,SAAUlC,GAAc,CAC9C7kE,KAAM4nE,GACLD,IAEL,KAAK,GACH3E,IAEF,KAAK,GACH,OAAO6E,EAAUd,OAAO,SAAUxb,GAEpC,KAAK,GACL,IAAK,MACH,OAAOsc,EAAUnR,UAGtB+Q,SAGL3C,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,gBAAgB,SAAUigC,EAAWvgC,GAClFM,EAAMw5E,MAAMv5C,GAAavgC,MAG3Bq4E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,kBAAkB,SAAUigC,UAClEjgC,EAAMw5E,MAAMv5C,MAGdjgC,EA+GT,OA5GAwzE,EAAAA,EAAAA,GAAauF,EAAU,CAAC,CACtB7+E,IAAK,oBACLwI,MAAO,WACL5P,KAAKmoF,eACLnoF,KAAKooF,qBAEN,CACDhhF,IAAK,qBACLwI,MAAO,SAA4B4Y,GACtBxoB,KAAK6M,MAAM6+D,OAETljD,EAAUkjD,MACrB1rE,KAAKmoF,iBAGR,CACD/gF,IAAK,uBACLwI,MAAO,WAELwzE,EAAkBpjF,KAAKqjF,aAEnBrjF,KAAK8sC,aAAa9sC,KAAK8sC,YAAY3gB,YAExC,CACD/kB,IAAK,iBACLwI,MAAO,WACL,IAAIxC,EAAWpN,KAAK6M,MAAMO,SAC1B,OAAoBT,EAAAA,cAAoB07E,EAAAA,SAA0B,CAChEz4E,MAAO5P,KAAKsoF,cACXl7E,KAEJ,CACDhG,IAAK,gBACLwI,MAAO,WACL,IAAI87D,EAAO1rE,KAAK6M,MAAM6+D,KAClB8a,EAAMxmF,KAAK4O,MAAM43E,IAErB,IAAK9a,EAAM,CACT,IAAI6c,EAASvoF,KAAK6M,MAAM07E,OACxB,OAAoB57E,EAAAA,cAAoB0zE,EAAS,CAC/Ch2E,KAAM,WACa,oBAAXk+E,EAAwBA,IAAWA,GAG/C,GAAY,OAAR/B,EAAc,CAChB,IAAIj+E,EAAUvI,KAAK6M,MAAMtE,QACzB,OAAoBoE,EAAAA,cAAoB0zE,EAAS,CAC/Ch2E,KAAM,WACc,oBAAZ9B,EAAyBA,IAAYA,GAGjD,IAAY,IAARi+E,EAAe,CACjB,IAAI18E,EAAQ9J,KAAK6M,MAAM/C,MACvB,OAAoB6C,EAAAA,cAAoB0zE,EAAS,CAC/Ch2E,KAAM,SACY,oBAAVP,EAAuBA,IAAUA,GAG7C,OAAO9J,KAAKwoF,mBAEb,CACDphF,IAAK,SACLwI,MAAO,WACL,IAAI64E,EAAezoF,KAAK6M,MACpBuF,EAAYq2E,EAAar2E,UACzBs2E,EAAWD,EAAaC,SAC5B,OAAoB/7E,EAAAA,cAAoB,OAAOg8E,EAAAA,EAAAA,GAAS,CACtDv2E,UAAW4tE,EAAgB,sBAAuB5tE,GAClDxF,IAAK87E,GACJ1oF,KAAK6/E,YAAa7/E,KAAK4oF,mBAE3B,CACDxhF,IAAK,eACLyO,IAAK,WACH,IAAIswD,EAAcnmE,KAAKmmE,YACnB0iB,EAAe7oF,KAAK6oF,aACpBC,EAAiB9oF,KAAK8oF,eACtBC,EAAe/oF,KAAK6M,MACpBw5D,EAAqB0iB,EAAa1iB,mBAClC2iB,EAAaD,EAAaC,WAC1B7nF,EAAS4nF,EAAa5nF,OAE1B,MAAO,CACLklE,mBAAoBA,EACpBF,YAAaA,EACbqgB,IAJQxmF,KAAK4O,MAAM43E,IAKnBqC,aAAcA,EACdG,WAAYA,EACZ7nF,OAAQA,EACR2nF,eAAgBA,KAGnB,CACD1hF,IAAK,aACLyO,IAAK,WACH,IAAIzE,EAASpR,KAGb,OAAOipF,EAAejpF,KAAK6M,OAAO,WAChC,OAAOuE,EAAOxC,MAAM43E,WASnBP,EA5bmB,CA6b1BiD,EAAAA,eAGFjD,GAAStzE,aAAe,CACtB7I,MAAO,2BACPvB,QAAS,oBACTggF,OAAQ,yBACRzxC,WAAY,SAAoB5sC,EAAU+iB,GACxC,OAAQA,GACN,KAAKk8D,EAAAA,cAIDj/E,EADek/E,OAAO,8CAEtB,MAGJ,KAAKD,EAAAA,mBAKDj/E,EAFgBk/E,OAAO,2CAUjC,IAAIC,GAAmB32E,IAAAA,UAAoB,CAACA,IAAAA,KAAgBA,IAAAA,OAC5DuzE,GAASxzE,UAAYuyE,GAAcA,GAAc,GAAInF,GAAa,GAAI,CACpEzyE,SAAUsF,IAAAA,KACVN,UAAW8xE,EACXp6E,MAAOu/E,GACP3d,KAAM4d,EACNjjB,mBAAoB3zD,IAAAA,OACpBg2E,SAAUlE,GACVj8E,QAAS8gF,GACTd,OAAQc,GACR5C,YAAa/zE,IAAAA,KACb60E,YAAa70E,IAAAA,KACbm0E,eAAgBn0E,IAAAA,KAChB20E,cAAe30E,IAAAA,KACfokC,WAAYpkC,IAAAA,KACZu0E,cAAev0E,IAAAA,KACfs0E,gBAAiBt0E,IAAAA,KACjBvR,OAAQuR,IAAAA,SCjhBV,QAA4B0tE,EAAAA,EAAAA,eAAc,MCEtCmJ,GAAmB,WACrB,SAASA,EAAIjJ,GACX,IAAIkJ,EAAMlJ,EAAKkJ,IACXC,EAAMnJ,EAAKmJ,KAEfhJ,EAAAA,EAAAA,GAAgBzgF,KAAMupF,GAEtBvpF,KAAKwpF,IAAMA,EACXxpF,KAAKypF,IAAMA,EAgBb,OAbA/I,EAAAA,EAAAA,GAAa6I,EAAK,CAAC,CACjBniF,IAAK,WACLwI,MAAO,WACL,IAAIojB,EAAM,GAAG9tB,OAAOlF,KAAKwpF,IAAK,KAM9B,OAJiB,IAAbxpF,KAAKypF,MACPz2D,GAAOhzB,KAAKypF,KAGPz2D,MAIJu2D,EAxBc,GCUvB,SAASnE,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EniE,KAAKpjB,UAAUgH,SAASpC,KAAKwgF,QAAQC,UAAUjiE,KAAM,IAAI,iBAAyB,EAAQ,MAAOrY,GAAK,OAAO,GAFzPy6E,GAA6B,OAAO,WAAkC,IAAsC5sE,EAAlC6sE,GAAQC,EAAAA,EAAAA,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,GAAYD,EAAAA,EAAAA,GAAgB7lF,MAAM6G,YAAakS,EAASwsE,QAAQC,UAAUI,EAAO1/E,UAAW4/E,QAAqB/sE,EAAS6sE,EAAMv/E,MAAMrG,KAAMkG,WAAc,OAAO6/E,EAAAA,EAAAA,GAA2B/lF,KAAM+Y,IAWrZ,IAAI2wE,GAAmC,SAAUxD,IACtDC,EAAAA,EAAAA,GAAUuD,EAAqBxD,GAE/B,IAAIE,EAAShB,GAAasE,GAE1B,SAASA,IACP,IAAIx8E,GAEJuzE,EAAAA,EAAAA,GAAgBzgF,KAAM0pF,GAEtB,IAAK,IAAIrD,EAAOngF,UAAUX,OAAQS,EAAO,IAAI7C,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtgF,EAAKsgF,GAAQpgF,UAAUogF,GA6JzB,OA1JAp5E,EAAQk5E,EAAOrhF,KAAKsB,MAAM+/E,EAAQ,CAACpmF,MAAMkF,OAAOc,KAEhDi/E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,kBAA+B4zE,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAASC,IAC9I,IAAI4F,EAAaz0D,EAAMq0D,EAEvB,OAAOzF,IAAAA,MAAyB,SAAkBG,GAChD,OACE,OAAQA,EAAS/hC,KAAO+hC,EAASC,MAC/B,KAAK,EAGH,GAFAyF,EAAc15E,EAAML,MAAOslB,EAAOy0D,EAAYz0D,KAAMq0D,EAAMI,EAAYJ,IAElE3E,EAAU30E,EAAM26D,aAAc,CAChCqZ,EAASC,KAAO,EAChB,MAGF,GAA2B,kBAAdhvD,EAAK4uB,KAAoB,CACpCmgC,EAASC,KAAO,EAChB,MAIF,OADAD,EAASC,KAAO,EACTqF,EAAI56C,eAAezZ,EAAK4uB,MAEjC,KAAK,EACH7zC,EAAM26D,YAAcqZ,EAASE,KAC7BF,EAASC,KAAO,EAChB,MAEF,KAAK,EACHj0E,EAAM26D,YAAc11C,EAAK4uB,KAE3B,KAAK,EACH,OAAOmgC,EAASgG,OAAO,SAAUh6E,EAAM26D,aAEzC,KAAK,GACL,IAAK,MACH,OAAOqZ,EAASrK,UAGrBmK,SAGLiE,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,gBAA6B4zE,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAAS6G,IAC5I,IAAIpB,EAAK3e,EAAa8hB,EAAc/8E,EAEpC,OAAOm0E,IAAAA,MAAyB,SAAmBiH,GACjD,OACE,OAAQA,EAAU7oC,KAAO6oC,EAAU7G,MACjC,KAAK,EAGH,GAFAqF,EAAMt5E,EAAML,MAAM25E,IAEd3E,EAAU30E,EAAMigC,WAAY,CAC9B66C,EAAU7G,KAAO,GACjB,MAIF,OADA6G,EAAU7G,KAAO,EACVj0E,EAAM0+B,iBAEf,KAAK,EAGH,KAFAi8B,EAAcmgB,EAAU5G,MAEN,CAChB4G,EAAU7G,KAAO,GACjB,MAKF,OAFAwI,GAAelH,EAAAA,EAAAA,GAAe5a,EAAa,GAAIj7D,EAAM+8E,EAAa,GAClE3B,EAAU7G,KAAO,EACVqF,EAAI96C,aAAa,IAAI69C,GAAI38E,IAElC,KAAK,EACHM,EAAMigC,UAAY66C,EAAU5G,KAE9B,KAAK,GACH,OAAO4G,EAAUd,OAAO,SAAUh6E,EAAMigC,WAE1C,KAAK,GACL,IAAK,MACH,OAAO66C,EAAUnR,UAGtB+Q,SAGL3C,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAA8B4zE,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAAS6I,IAC7I,OAAO7I,IAAAA,MAAyB,SAAmB8I,GACjD,OACE,OAAQA,EAAU1qC,KAAO0qC,EAAU1I,MACjC,KAAK,EACH,GAAIU,EAAU30E,EAAMu+B,YAAa,CAC/Bo+C,EAAU1I,KAAO,EACjB,MAIF,OADA0I,EAAU1I,KAAO,EACVj0E,EAAMw+B,eAEf,KAAK,EACHm+C,EAAUxI,GAAKwI,EAAUzI,KACzBl0E,EAAMu+B,WAAao+C,EAAUxI,GAAK,EAEpC,KAAK,EACH,OAAOwI,EAAU3C,OAAO,SAAUh6E,EAAMu+B,YAE1C,KAAK,EACL,IAAK,MACH,OAAOo+C,EAAUhT,UAGtB+S,SAGL3E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,UAAwB,WACrE,IAAI48E,GAAQhJ,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAASgJ,EAAS/lF,GACrF,IAAIqiB,EAAS8mB,EAAW1B,EACxB,OAAOs1C,IAAAA,MAAyB,SAAmBiJ,GACjD,OACE,OAAQA,EAAU7qC,KAAO6qC,EAAU7I,MACjC,KAAK,EAIH,OAHA96D,EAAUnZ,EAAML,MAAMwZ,QACtBriB,EAAMimF,iBACND,EAAU7I,KAAO,EACVj0E,EAAMw+B,eAEf,KAAK,EAGH,OAFAyB,EAAY68C,EAAU5I,KACtB4I,EAAU7I,KAAO,EACVj0E,EAAMg9E,gBAEf,KAAK,EACHz+C,EAAau+C,EAAU5I,KAEnB/6D,GACFA,EAAQ,CACN8mB,UAAWA,EACX1B,WAAYA,IAIlB,KAAK,EACL,IAAK,MACH,OAAOu+C,EAAUnT,UAGtBkT,OAGL,OAAO,SAAUvI,GACf,OAAOsI,EAAMzjF,MAAMrG,KAAMkG,YApC0C,IAwChEgH,EAmCT,OAhCAwzE,EAAAA,EAAAA,GAAagJ,EAAqB,CAAC,CACjCtiF,IAAK,iBACLwI,MAAO,WACL,IAAI64E,EAAezoF,KAAK6M,MACpBslB,EAAOs2D,EAAat2D,KACpBg4D,GAAajC,EAAAA,EAAAA,GAAyBO,EAAc,CAAC,SAEzD,IAAKt2D,EAAK4e,QAAU5e,EAAK4e,MAAMxrC,OAC7B,OAAO,KAGT,IAAI6kF,EAAWj4D,EAAK4e,MACpB,OAAoBpkC,EAAAA,cAAoB,KAAM,KAAMy9E,EAAS/xE,KAAI,SAAUgyE,EAASC,GAClF,OAAoB39E,EAAAA,cAAoB+8E,GAAqBf,EAAAA,EAAAA,GAAS,CACpEvhF,IAAoC,kBAAxBijF,EAAQxiB,YAA2BwiB,EAAQxiB,YAAcyiB,EACrEn4D,KAAMk4D,GACLF,UAGN,CACD/iF,IAAK,SACLwI,MAAO,WACL,IAAIuiB,EAAOnyB,KAAK6M,MAAMslB,KAGtB,OAAoBxlB,EAAAA,cAAoB,KAAM,KAAmBA,EAAAA,cAAoB,IAAK,CACxF06B,KAAM,IACNhhB,QAASrmB,KAAKqmB,SACb8L,EAAKrH,OAAQ9qB,KAAKuqF,sBAIlBb,EA3MqC,CA4M5CR,EAAAA,eACEsB,GAAgB93E,IAAAA,UAAoB,CAACA,IAAAA,OAAkBA,IAAAA,QAAkBA,IAAAA,OAC7Eg3E,GAAoBj3E,UAAY,CAC9B0f,KAAMzf,IAAAA,MAAgB,CACpBquC,KAAMypC,GACNz5C,MAAOr+B,IAAAA,QAAkBA,IAAAA,MAAgB,CACvCquC,KAAMypC,GACN1/D,MAAOpY,IAAAA,UAEToY,MAAOpY,IAAAA,SACN6tE,WACHl6D,QAAS3T,IAAAA,KACT8zE,IAAKjC,GAAMhE,YAGb,IAQA,GARkB,SAAqB1zE,GACrC,OAAoBF,EAAAA,cAAoB07E,EAAAA,SAA0B,MAAM,SAAUoC,GAChF,OAAoB99E,EAAAA,cAAoB+9E,GAAeC,SAAU,MAAM,SAAUC,GAC/E,OAAoBj+E,EAAAA,cAAoB+8E,IAAqBf,EAAAA,EAAAA,GAAS,GAAI8B,EAAiBG,EAAgB/9E,WC3OjH,SAAS83E,GAAQC,EAAQC,GAAkB,IAAI/9E,EAAOxD,OAAOwD,KAAK89E,GAAS,GAAIthF,OAAO2B,sBAAuB,CAAE,IAAI6/E,EAAUxhF,OAAO2B,sBAAsB2/E,GAAaC,IAAgBC,EAAUA,EAAQ3E,QAAO,SAAU4E,GAAO,OAAOzhF,OAAOovC,yBAAyBkyC,EAAQG,GAAKj7D,eAAgBhjB,EAAKzC,KAAKgC,MAAMS,EAAMg+E,GAAY,OAAOh+E,EAI9U,SAASs+E,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EniE,KAAKpjB,UAAUgH,SAASpC,KAAKwgF,QAAQC,UAAUjiE,KAAM,IAAI,iBAAyB,EAAQ,MAAOrY,GAAK,OAAO,GAFzPy6E,GAA6B,OAAO,WAAkC,IAAsC5sE,EAAlC6sE,GAAQC,EAAAA,EAAAA,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,GAAYD,EAAAA,EAAAA,GAAgB7lF,MAAM6G,YAAakS,EAASwsE,QAAQC,UAAUI,EAAO1/E,UAAW4/E,QAAqB/sE,EAAS6sE,EAAMv/E,MAAMrG,KAAMkG,WAAc,OAAO6/E,EAAAA,EAAAA,GAA2B/lF,KAAM+Y,IAcrZ,IAAI8xE,GAA+B,SAAU3E,IAClDC,EAAAA,EAAAA,GAAU0E,EAAiB3E,GAE3B,IAAIE,EAAShB,GAAayF,GAE1B,SAASA,IACP,IAAI39E,GAEJuzE,EAAAA,EAAAA,GAAgBzgF,KAAM6qF,GAEtB,IAAK,IAAIxE,EAAOngF,UAAUX,OAAQS,EAAO,IAAI7C,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtgF,EAAKsgF,GAAQpgF,UAAUogF,GAsFzB,OAnFAp5E,EAAQk5E,EAAOrhF,KAAKsB,MAAM+/E,EAAQ,CAACpmF,MAAMkF,OAAOc,KAEhDi/E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,QAAS,CACtD49E,QAAS,QAGX7F,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,eAA4B4zE,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAASC,IAC3I,IAAIwF,EAAKM,EAAagE,EACtB,OAAO/J,IAAAA,MAAyB,SAAkBG,GAChD,OACE,OAAQA,EAAS/hC,KAAO+hC,EAASC,MAC/B,KAAK,EAiBH,OAhBAqF,EAAMt5E,EAAML,MAAM25E,IAElBt5E,EAAM2B,UAAS,SAAUs4E,GACvB,OAAKA,EAAU2D,QAIR,CACLA,QAAS,MAJF,QAQX5J,EAAS/hC,KAAO,EAChB2nC,EAAcM,EAAgBZ,EAAIp6C,cAClCl/B,EAAMm2E,YAAcyD,EACpB5F,EAASC,KAAO,EACT2F,EAAY/8C,QAErB,KAAK,EACH+gD,EAAU5J,EAASE,KAEnBl0E,EAAM2B,SAAS,CACbi8E,QAASA,GACR59E,EAAMm6E,eAETnG,EAASC,KAAO,GAChB,MAEF,KAAK,GACHD,EAAS/hC,KAAO,GAChB+hC,EAASG,GAAKH,EAAQ,MAAU,GAEhCh0E,EAAMq6E,YAAYrG,EAASG,IAE7B,KAAK,GACL,IAAK,MACH,OAAOH,EAASrK,UAGrBmK,EAAS,KAAM,CAAC,CAAC,EAAG,YAGzBiE,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAAiB,WAC9D,IAAIm6E,EAAgBn6E,EAAML,MAAMw6E,cAC5ByD,EAAU59E,EAAM0B,MAAMk8E,QACtBzD,GAAeA,EAAcyD,OAGnC7F,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,eAAe,SAAUpD,GACtEoD,EAAM2B,SAAS,CACbi8E,SAAS,IAGX9H,EAAWl5E,GACX,IAAIy9E,EAAcr6E,EAAML,MAAM06E,YAC1BA,GAAaA,EAAYz9E,OAG/Bm7E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,eAAe,SAAU69E,GACtE,IAAI59C,EAAY49C,EAAM59C,UAClB1B,EAAas/C,EAAMt/C,WACnBg7C,EAAcv5E,EAAML,MAAM45E,YAE1BA,GACFA,EAAY,CACVt5C,UAAWA,EACX1B,WAAYA,OAKXv+B,EAkFT,OA/EAwzE,EAAAA,EAAAA,GAAamK,EAAiB,CAAC,CAC7BzjF,IAAK,oBACLwI,MAAO,WAGL,IAFU5P,KAAK6M,MAAM25E,IAGnB,MAAM,IAAI59E,MAAM,gEAGlB5I,KAAKgrF,gBAEN,CACD5jF,IAAK,qBACLwI,MAAO,SAA4B4Y,GACjC,IAAIg+D,EAAMxmF,KAAK6M,MAAM25E,IAEjBh+D,EAAUg+D,KAAOA,IAAQh+D,EAAUg+D,KACrCxmF,KAAKgrF,gBAGR,CACD5jF,IAAK,uBACLwI,MAAO,WACLwzE,EAAkBpjF,KAAKqjF,eAExB,CACDj8E,IAAK,gBACLwI,MAAO,WACL,IAAIk7E,EAAU9qF,KAAK4O,MAAMk8E,QACzB,OAAoBn+E,EAAAA,cAAoB,KAAM,KAAMm+E,EAAQzyE,KAAI,SAAU8Z,EAAM84D,GAC9E,OAAoBt+E,EAAAA,cAAoBu+E,GAAa,CACnD9jF,IAAiC,kBAArB+qB,EAAK01C,YAA2B11C,EAAK01C,YAAcojB,EAC/D94D,KAAMA,UAIX,CACD/qB,IAAK,SACLwI,MAAO,WACL,IAAI42E,EAAMxmF,KAAK6M,MAAM25E,IACjBsE,EAAU9qF,KAAK4O,MAAMk8E,QAEzB,IAAKtE,IAAQsE,EACX,OAAO,KAGT,IAAIlE,EAAc5mF,KAAK6M,MACnBuF,EAAYw0E,EAAYx0E,UACxBs2E,EAAW9B,EAAY8B,SAC3B,OAAoB/7E,EAAAA,cAAoB,OAAOg8E,EAAAA,EAAAA,GAAS,CACtDv2E,UAAW4tE,EAAgB,qBAAsB5tE,GACjDxF,IAAK87E,GACJ1oF,KAAK6/E,YAA0BlzE,EAAAA,cAAoB+9E,GAAeS,SAAU,CAC7Ev7E,MAAO5P,KAAKsoF,cACXtoF,KAAKorF,oBAET,CACDhkF,IAAK,eACLyO,IAAK,WACH,MAAO,CACLwQ,QAASrmB,KAAKymF,eAGjB,CACDr/E,IAAK,aACLyO,IAAK,WACH,IAAIzE,EAASpR,KAGb,OAAOipF,EAAejpF,KAAK6M,OAAO,WAChC,OAAOuE,EAAOxC,MAAMk8E,eASnBD,EAnLiC,CAoLxC3B,EAAAA,eACF2B,GAAgBp4E,UArMhB,SAAuB8X,GAAU,IAAK,IAAIllB,EAAI,EAAGA,EAAIa,UAAUX,OAAQF,IAAK,CAAE,IAAI2B,EAAyB,MAAhBd,UAAUb,GAAaa,UAAUb,GAAK,GAAQA,EAAI,EAAKs/E,GAAQrhF,OAAO0D,IAAS,GAAMyE,SAAQ,SAAUrE,IAAO69E,EAAAA,EAAAA,GAAgB16D,EAAQnjB,EAAKJ,EAAOI,OAAsB9D,OAAO4hF,0BAA6B5hF,OAAO6hF,iBAAiB56D,EAAQjnB,OAAO4hF,0BAA0Bl+E,IAAmB29E,GAAQrhF,OAAO0D,IAASyE,SAAQ,SAAUrE,GAAO9D,OAAOqX,eAAe4P,EAAQnjB,EAAK9D,OAAOovC,yBAAyB1rC,EAAQI,OAAe,OAAOmjB,EAqMjfy6D,CAAc,CACxC5yE,UAAW8xE,EACXwE,SAAUlE,GACViC,YAAa/zE,IAAAA,KACb60E,YAAa70E,IAAAA,KACb20E,cAAe30E,IAAAA,KACf8zE,IAAKjC,IACJ1E,GC7MY,SAASwL,KACtB,IAAK,IAAIhF,EAAOngF,UAAUX,OAAQ+lF,EAAY,IAAInoF,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IACpFgF,EAAUhF,GAAQpgF,UAAUogF,GAG9B,IAAIiF,EAAoBD,EAAUnL,OAAOqL,SAEzC,OAAID,EAAkBhmF,QAAU,EACvBgmF,EAAkB,GAGpB,SAAoB3+E,GACzB2+E,EAAkB9/E,SAAQ,SAAUi9E,GACV,oBAAbA,EACTA,EAAS97E,GAGT87E,EAASxrC,QAAUtwC,MC5B3B,QAA4BwzE,EAAAA,EAAAA,eAAc,MCQ1C,SAASgF,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EniE,KAAKpjB,UAAUgH,SAASpC,KAAKwgF,QAAQC,UAAUjiE,KAAM,IAAI,iBAAyB,EAAQ,MAAOrY,GAAK,OAAO,GAFzPy6E,GAA6B,OAAO,WAAkC,IAAsC5sE,EAAlC6sE,GAAQC,EAAAA,EAAAA,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,GAAYD,EAAAA,EAAAA,GAAgB7lF,MAAM6G,YAAakS,EAASwsE,QAAQC,UAAUI,EAAO1/E,UAAW4/E,QAAqB/sE,EAAS6sE,EAAMv/E,MAAMrG,KAAMkG,WAAc,OAAO6/E,EAAAA,EAAAA,GAA2B/lF,KAAM+Y,IAUrZ,IAAI0yE,GAAkC,SAAUvF,IACrDC,EAAAA,EAAAA,GAAUsF,EAAoBvF,GAE9B,IAAIE,EAAShB,GAAaqG,GAE1B,SAASA,IACP,IAAIv+E,GAEJuzE,EAAAA,EAAAA,GAAgBzgF,KAAMyrF,GAEtB,IAAK,IAAIpF,EAAOngF,UAAUX,OAAQS,EAAO,IAAI7C,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtgF,EAAKsgF,GAAQpgF,UAAUogF,GA0DzB,OAvDAp5E,EAAQk5E,EAAOrhF,KAAKsB,MAAM+/E,EAAQ,CAACpmF,MAAMkF,OAAOc,KAEhDi/E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,mBAAmB,WAChEA,EAAMw+E,SAAW,KACjB,IAAI9E,EAAc15E,EAAML,MACpB8+E,EAAkB/E,EAAY+E,gBAC9Bj2C,EAAOkxC,EAAYlxC,KACnBlhC,EAAQoyE,EAAYpyE,MACpBm3E,GAAiBA,EAAgBrI,EAAiB5tC,EAAMlhC,QAG9DywE,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAAiB,SAAUpD,GACxE,IAAIy5E,EAAkBz5E,GAAtB,CAIAk5E,EAAWl5E,GACX,IAAI8hF,EAAgB1+E,EAAML,MAAM++E,cAC5BA,GAAeA,EAAc9hF,QAGnCm7E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,oBAAoB,WACjE,IACIgf,GADwBq6D,EAAAA,EAAAA,GAAuBr5E,GAChB2+E,YAEnC,IAAK3/D,EACH,OAAO,KAGT,IAAI4/D,GAAyBvF,EAAAA,EAAAA,GAAuBr5E,GAChD6+E,EAAiBD,EAAuBC,eACxC99C,EAAW69C,EAAuB79C,SAElCw6C,EAAev7E,EAAML,MACrB6oC,EAAO+yC,EAAa/yC,KACpBvH,EAAyBs6C,EAAat6C,uBAC1CjiB,EAAOlgB,MAAQ+/E,EAAe//E,MAC9BkgB,EAAOjgB,OAAS8/E,EAAe9/E,OAC/BigB,EAAOngB,MAAMC,MAAQ,GAAG9G,OAAOhD,KAAKiU,MAAM83B,EAASjiC,OAAQ,MAC3DkgB,EAAOngB,MAAME,OAAS,GAAG/G,OAAOhD,KAAKiU,MAAM83B,EAAShiC,QAAS,MAC7D,IAAI+/E,EAAgB,CACdh+C,oBACF,OAAO9hB,EAAOM,WAAW,OAG3ByhB,SAAU89C,EACV59C,uBAAwBA,GAM1B,OAHAjhC,EAAM++E,sBAEN/+E,EAAMw+E,SAAWh2C,EAAKhpC,OAAOs/E,GACtB9+E,EAAMw+E,SAAS3hD,QAAQ12B,KAAKnG,EAAMy+E,iBAAlC,MAA4Dz+E,EAAM0+E,kBAGpE1+E,EA6FT,OA1FAwzE,EAAAA,EAAAA,GAAa+K,EAAoB,CAAC,CAChCrkF,IAAK,oBACLwI,MAAO,WACL5P,KAAKksF,qBAEN,CACD9kF,IAAK,qBACLwI,MAAO,SAA4B4Y,GACjC,IAAIugE,EAAe/oF,KAAK6M,MACpB6oC,EAAOqzC,EAAarzC,KACKqzC,EAAa56C,yBAEX3lB,EAAU2lB,yBAEvCuH,EAAK9I,UACL5sC,KAAKksF,sBAGR,CACD9kF,IAAK,uBACLwI,MAAO,WACL5P,KAAKisF,sBAMDjsF,KAAK6rF,cACP7rF,KAAK6rF,YAAY7/E,MAAQ,EACzBhM,KAAK6rF,YAAY5/E,OAAS,EAC1BjM,KAAK6rF,YAAc,QAGtB,CACDzkF,IAAK,sBACLwI,MAAO,WACD5P,KAAK0rF,WACP1rF,KAAK0rF,SAASzwE,SACdjb,KAAK0rF,SAAW,QAOnB,CACDtkF,IAAK,SACLwI,MAAO,WACL,IAAIwB,EAASpR,KAETmsF,EAAYnsF,KAAK6M,MAAMs/E,UAC3B,OAAoBx/E,EAAAA,cAAoB,SAAU,CAChDyF,UAAW,0BACXg6E,IAAK,MACLx/E,IAAKy+E,GAAUc,GAAW,SAAUv/E,GAClCwE,EAAOy6E,YAAcj/E,KAEvBb,MAAO,CACLsgF,QAAS,QACTC,WAAY,YAIjB,CACDllF,IAAK,iBACLyO,IAAK,WACH,IAAI02E,EAAevsF,KAAK6M,MACpB6oC,EAAO62C,EAAa72C,KACpBv0C,EAASorF,EAAaprF,OACtBqT,EAAQ+3E,EAAa/3E,MACrBg4E,ETvDD7K,GAAa53E,OAAO0iF,kBAAoB,ESwD3C,OAAO/2C,EAAK/H,YAAY,CACtBn5B,MAAOA,EAAQg4E,EACf/9D,SAAUttB,MAGb,CACDiG,IAAK,WACLyO,IAAK,WACH,IAAI62E,EAAe1sF,KAAK6M,MACpB6oC,EAAOg3C,EAAah3C,KACpBv0C,EAASurF,EAAavrF,OACtBqT,EAAQk4E,EAAal4E,MACzB,OAAOkhC,EAAK/H,YAAY,CACtBn5B,MAAOA,EACPia,SAAUttB,QAKTsqF,EAlKoC,CAmK3CvC,EAAAA,eAUa,SAASyD,GAAW9/E,GACjC,OAAoBF,EAAAA,cAAoBigF,GAAYjC,SAAU,MAAM,SAAU/mF,GAC5E,OAAoB+I,EAAAA,cAAoB8+E,IAAoB9C,EAAAA,EAAAA,GAAS,GAAI/kF,EAASiJ,OCzLtF,SAASu4E,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EniE,KAAKpjB,UAAUgH,SAASpC,KAAKwgF,QAAQC,UAAUjiE,KAAM,IAAI,iBAAyB,EAAQ,MAAOrY,GAAK,OAAO,GAFzPy6E,GAA6B,OAAO,WAAkC,IAAsC5sE,EAAlC6sE,GAAQC,EAAAA,EAAAA,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,GAAYD,EAAAA,EAAAA,GAAgB7lF,MAAM6G,YAAakS,EAASwsE,QAAQC,UAAUI,EAAO1/E,UAAW4/E,QAAqB/sE,EAAS6sE,EAAMv/E,MAAMrG,KAAMkG,WAAc,OAAO6/E,EAAAA,EAAAA,GAA2B/lF,KAAM+Y,ID8K5Z0yE,GAAmBh5E,UAAY,CAC7B05E,UAAW3H,GACXoH,cAAel5E,IAAAA,KACfi5E,gBAAiBj5E,IAAAA,KACjBgjC,KAAM2uC,GAAO9D,WACbpyC,uBAAwBz7B,IAAAA,KACxBvR,OAAQujF,GACRlwE,MAAO9B,IAAAA,OAAAA,YC3KF,IAAIm6E,GAA+B,SAAU3G,IAClDC,EAAAA,EAAAA,GAAU0G,EAAiB3G,GAE3B,IAAIE,EAAShB,GAAayH,GAE1B,SAASA,IACP,IAAI3/E,GAEJuzE,EAAAA,EAAAA,GAAgBzgF,KAAM6sF,GAEtB,IAAK,IAAIxG,EAAOngF,UAAUX,OAAQS,EAAO,IAAI7C,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtgF,EAAKsgF,GAAQpgF,UAAUogF,GA4DzB,OAzDAp5E,EAAQk5E,EAAOrhF,KAAKsB,MAAM+/E,EAAQ,CAACpmF,MAAMkF,OAAOc,KAEhDi/E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,QAAS,CACtDmhB,IAAK,QAGP42D,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,mBAAmB,WAChEA,EAAMw+E,SAAW,KACjB,IAAI9E,EAAc15E,EAAML,MACpB8+E,EAAkB/E,EAAY+E,gBAC9Bj2C,EAAOkxC,EAAYlxC,KACnBlhC,EAAQoyE,EAAYpyE,MACpBm3E,GAAiBA,EAAgBrI,EAAiB5tC,EAAMlhC,QAG9DywE,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAAiB,SAAUpD,GACxE,IAAIy5E,EAAkBz5E,GAAtB,CAIAk5E,EAAWl5E,GACX,IAAI8hF,EAAgB1+E,EAAML,MAAM++E,cAC5BA,GAAeA,EAAc9hF,QAGnCm7E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,aAAa,WAC1D,IAAIwoC,EAAOxoC,EAAML,MAAM6oC,KAEvB,OADAxoC,EAAMw+E,SAAWh2C,EAAKtF,kBACfljC,EAAMw+E,SAASr4E,MAAK,SAAUu8B,GACnC,IAAIk9C,EAAS,IAAI9G,EAAAA,YAAkBtwC,EAAKrI,WAAYqI,EAAK/F,MACzDziC,EAAMw+E,SAAWoB,EAAO5Y,OAAOtkC,EAAc1iC,EAAM+gC,UAAU56B,MAAK,SAAUgb,GAC1EnhB,EAAM2B,SAAS,CACbwf,IAAKA,GACJnhB,EAAMy+E,oBAHM,MAILz+E,EAAM0+E,kBANb,MAOK1+E,EAAM0+E,mBAGpB3G,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,uBAAuB,SAAUmN,GAC9E,IAAIgU,EAAMnhB,EAAM0B,MAAMyf,IAEtB,GAAKhU,GAAYgU,EAAjB,CAKKhU,EAAQyB,mBACXzB,EAAQxP,YAAYwjB,GAGtB,IAAI0+D,EAAiB7/E,EAAM+gC,SACvBjiC,EAAQ+gF,EAAe/gF,MACvBC,EAAS8gF,EAAe9gF,OAC5BoiB,EAAI2+D,aAAa,QAAShhF,GAC1BqiB,EAAI2+D,aAAa,SAAU/gF,OAGtBiB,EAkDT,OA/CAwzE,EAAAA,EAAAA,GAAamM,EAAiB,CAAC,CAC7BzlF,IAAK,oBACLwI,MAAO,WACL5P,KAAKitF,cAMN,CACD7lF,IAAK,SACLwI,MAAO,WACL,IAAIwB,EAASpR,KAETktF,EAAkBltF,KAAKiuC,SACvBjiC,EAAQkhF,EAAgBlhF,MACxBC,EAASihF,EAAgBjhF,OAC7B,OAAoBU,EAAAA,cAAoB,MAAO,CAC7CyF,UAAW,uBAEXxF,IAAK,SAAa0zE,GAChB,OAAOlvE,EAAO+7E,oBAAoB7M,IAEpCv0E,MAAO,CACLsgF,QAAS,QACTj+E,gBAAiB,QACjBg/E,SAAU,SACVphF,MAAOA,EACPC,OAAQA,EACRqgF,WAAY,YAIjB,CACDllF,IAAK,WACLyO,IAAK,WACH,IAAI4yE,EAAezoF,KAAK6M,MACpB6oC,EAAO+yC,EAAa/yC,KACpBv0C,EAASsnF,EAAatnF,OACtBqT,EAAQi0E,EAAaj0E,MACzB,OAAOkhC,EAAK/H,YAAY,CACtBn5B,MAAOA,EACPia,SAAUttB,QAKT0rF,EAzHiC,CA0HxC3D,EAAAA,eAQa,SAASmE,GAAQxgF,GAC9B,OAAoBF,EAAAA,cAAoBigF,GAAYjC,SAAU,MAAM,SAAU/mF,GAC5E,OAAoB+I,EAAAA,cAAoBkgF,IAAiBlE,EAAAA,EAAAA,GAAS,GAAI/kF,EAASiJ,OC3InF,SAASu4E,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EniE,KAAKpjB,UAAUgH,SAASpC,KAAKwgF,QAAQC,UAAUjiE,KAAM,IAAI,iBAAyB,EAAQ,MAAOrY,GAAK,OAAO,GAFzPy6E,GAA6B,OAAO,WAAkC,IAAsC5sE,EAAlC6sE,GAAQC,EAAAA,EAAAA,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,GAAYD,EAAAA,EAAAA,GAAgB7lF,MAAM6G,YAAakS,EAASwsE,QAAQC,UAAUI,EAAO1/E,UAAW4/E,QAAqB/sE,EAAS6sE,EAAMv/E,MAAMrG,KAAMkG,WAAc,OAAO6/E,EAAAA,EAAAA,GAA2B/lF,KAAM+Y,IDkI5Z8zE,GAAgBp6E,UAAY,CAC1Bm5E,cAAel5E,IAAAA,KACfi5E,gBAAiBj5E,IAAAA,KACjBgjC,KAAM2uC,GAAO9D,WACbp/E,OAAQujF,GACRlwE,MAAO9B,IAAAA,OAAAA,YC/HF,IAAI46E,GAAqC,SAAUpH,IACxDC,EAAAA,EAAAA,GAAUmH,EAAuBpH,GAEjC,IAAIE,EAAShB,GAAakI,GAE1B,SAASA,IACP,IAAIpgF,GAEJuzE,EAAAA,EAAAA,GAAgBzgF,KAAMstF,GAEtB,IAAK,IAAIjH,EAAOngF,UAAUX,OAAQS,EAAO,IAAI7C,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtgF,EAAKsgF,GAAQpgF,UAAUogF,GAYzB,OATAp5E,EAAQk5E,EAAOrhF,KAAKsB,MAAM+/E,EAAQ,CAACpmF,MAAMkF,OAAOc,KAEhDi/E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,mBAAmB,SAAUmN,GAC1E,IACIkzE,GADwBhH,EAAAA,EAAAA,GAAuBr5E,GACdqgF,SAErC,OAAOlzE,EAAQ0L,wBAAwBwnE,EAAW,SAAW,YAGxDrgF,EAuOT,OApOAwzE,EAAAA,EAAAA,GAAa4M,EAAuB,CAAC,CACnClmF,IAAK,oBACLwI,MAAO,WACL5P,KAAKwtF,kBAEN,CACDpmF,IAAK,qBACLwI,MAAO,WACL5P,KAAKwtF,kBAEN,CACDpmF,IAAK,cACLwI,MAAO,WACL,IAAI69E,GAAe3M,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAASC,EAAQ/T,GAC3F,IAAIv3B,EAAM7T,EACV,OAAOk/C,IAAAA,MAAyB,SAAkBG,GAChD,OACE,OAAQA,EAAS/hC,KAAO+hC,EAASC,MAC/B,KAAK,EAGH,OAFAzrC,EAAO11C,KAAK6M,MAAM6oC,KAClBwrC,EAASC,KAAO,EACT,IAAI13E,SAAQ,SAAUC,GAC3BgsC,EAAKrI,WAAWx3B,IAAIo3D,EAAUvjE,MAGlC,KAAK,EAEH,OADAm4B,EAAOq/C,EAASE,KACTF,EAASgG,OAAO,SAAUrlD,GAEnC,KAAK,EACL,IAAK,MACH,OAAOq/C,EAASrK,UAGrBmK,EAAShhF,UAOd,OAJA,SAAqBwhF,GACnB,OAAOiM,EAAapnF,MAAMrG,KAAMkG,YA1B7B,IA+BN,CACDkB,IAAK,gBACLwI,MAAO,WACL,IAAI89E,GAAiB5M,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAAS6G,IACrF,IAAIvtE,EAASusE,EAAa3Z,EAAUz4D,EAAOxI,EAAO2hF,EAAUC,EAAkBC,EAAaC,EAAav+D,EAAW69C,EAEnH,OAAO2T,IAAAA,MAAyB,SAAmBiH,GACjD,OACE,OAAQA,EAAU7oC,KAAO6oC,EAAU7G,MACjC,KAAK,EAGH,GAFA9mE,EAAUra,KAAKmyB,KAEF,CACX61D,EAAU7G,KAAO,EACjB,MAGF,OAAO6G,EAAUd,OAAO,UAE1B,KAAK,EAKH,OAJA7sE,EAAQtO,MAAMwjB,UAAY,GAC1Bq3D,EAAc5mF,KAAK6M,MAAOogE,EAAW2Z,EAAY3Z,SAAUz4D,EAAQoyE,EAAYpyE,MAAOxI,EAAQ46E,EAAY56E,MAC1GqO,EAAQtO,MAAM68D,WAAa,GAAG1jE,OAAO+nE,EAAU,gBAC/C+a,EAAU7G,KAAO,EACVnhF,KAAK+tF,YAAY9gB,GAE1B,KAAK,EACH0gB,EAAW3F,EAAU5G,KACrBwM,EAAmBD,EAAWA,EAAS1kC,aAAe,aACtD5uC,EAAQtO,MAAM68D,WAAa,GAAG1jE,OAAO+nE,EAAU,MAAM/nE,OAAO0oF,GAC5DC,EAAc7hF,EAAQwI,EACtBs5E,EAAc9tF,KAAKguF,gBAAgB3zE,GACnCkV,EAAY,UAAUrqB,OAAO2oF,EAAcC,EAAa,MACxD1gB,EAASugB,EAAWA,EAASvgB,OAAS,KAGpC79C,GAAa,eAAerqB,OAAsB,KAAd,EAAIkoE,GAAe,OAGzD/yD,EAAQtO,MAAMwjB,UAAYA,EAC1BlV,EAAQtO,MAAMkiF,gBAAkB1+D,EAElC,KAAK,GACL,IAAK,MACH,OAAOy4D,EAAUnR,UAGtB+Q,EAAU5nF,UAOf,OAJA,WACE,OAAO0tF,EAAernF,MAAMrG,KAAMkG,YAjD/B,IAsDN,CACDkB,IAAK,SACLwI,MAAO,WACL,IAAIwB,EAASpR,KAETuoD,EAAWvoD,KAAKuoD,SAChBp8C,EAAMnM,KAAKmM,IACXD,EAAOlM,KAAKkM,KACZu8E,EAAezoF,KAAK6M,MACpBqhF,EAAqBzF,EAAayF,mBAClC15E,EAAQi0E,EAAaj0E,MACrBqZ,EAAO46D,EAAaz1D,IACxB,OAAoBrmB,EAAAA,cAAoB,OAAQ,CAC9CC,IAAK,SAAa0zE,GAChBlvE,EAAO+gB,KAAOmuD,GAEhBv0E,MAAO,CACLE,OAAQ,MACR28D,WAAY,aACZrgB,SAAU,GAAGrjD,OAAOqjD,EAAW/zC,EAAO,MACtClI,SAAU,WACVH,IAAK,GAAGjH,OAAOiH,EAAMqI,EAAO,MAC5BtI,KAAM,GAAGhH,OAAOgH,EAAOsI,EAAO,MAC9B25E,gBAAiB,cACjBC,WAAY,MACZC,cAAe,QAEhBH,EAAqBA,EAAmBluF,KAAK6M,OAASghB,KAE1D,CACDzmB,IAAK,oBACLyO,IAAK,WACH,IAAIkzE,EAAe/oF,KAAK6M,MACpB6oC,EAAOqzC,EAAarzC,KACpBlhC,EAAQu0E,EAAav0E,MACzB,OAAOkhC,EAAK/H,YAAY,CACtBn5B,MAAOA,MAQV,CACDpN,IAAK,SACLyO,IAAK,WACH,IAAI02E,EAAevsF,KAAK6M,MACpB6oC,EAAO62C,EAAa72C,KAExB,OADa62C,EAAaprF,OACVu0C,EAAKv0C,SAEtB,CACDiG,IAAK,WACLyO,IAAK,WAEH,OADa7V,KAAKmB,OACF,MAAQ,IAEzB,CACDiG,IAAK,kBACLyO,IAAK,WAEH,OADe7V,KAAKsuF,kBAAkB7/D,SACpB,MAAQ,IAE3B,CACDrnB,IAAK,WACLyO,IAAK,WACH,IAAI0Z,EAAYvvB,KAAK6M,MAAM0iB,UACvBg/D,EAAkBvuF,KAAKuuF,gBAEvBC,GAAa/L,EAAAA,EAAAA,GAAelzD,EAAW,GACvCk/D,EAAeD,EAAW,GAC1BE,EAAcF,EAAW,GAE7B,OAAOD,EAAkBG,EAAcD,IAExC,CACDrnF,IAAK,MACLyO,IAAK,WACH,IAAI0Z,EAAYvvB,KAAK6M,MAAM0iB,UACvB0e,EAAWjuC,KAAKsuF,kBAChBC,EAAkBvuF,KAAKuuF,gBAEvBI,GAAclM,EAAAA,EAAAA,GAAelzD,EAAW,GAK5Cb,EAAUigE,EAAY,GAClBhgE,EAAUggE,EAAY,GACtB7uF,EAAI6uF,EAAY,GAChB5uF,EAAI4uF,EAAY,GAEhBC,GAAoBnM,EAAAA,EAAAA,GAAex0C,EAASzf,QAAS,GAGzDqgE,EAAOD,EAAkB,GAGzBE,EAAOF,EAAkB,GAEzB,OAAOL,EAAkBzuF,EAAI4uB,EAAUmgE,EAAOC,GAAQ/uF,EAAI4uB,KAE3D,CACDvnB,IAAK,OACLyO,IAAK,WACH,IAAI0Z,EAAYvvB,KAAK6M,MAAM0iB,UACvB0e,EAAWjuC,KAAKsuF,kBAChBC,EAAkBvuF,KAAKuuF,gBAEvBQ,GAActM,EAAAA,EAAAA,GAAelzD,EAAW,GAS5CzvB,EAAIivF,EAAY,GACZhvF,EAAIgvF,EAAY,GAGhBC,GADqBvM,EAAAA,EAAAA,GAAex0C,EAASzf,QAAS,GAC5B,GAE9B,OAAO+/D,EAAkBxuF,EAAIivF,EAAOlvF,EAAIkvF,MAIrC1B,EA9PuC,CA+P9CpE,EAAAA,eAaa,SAAS+F,GAAcpiF,GACpC,OAAoBF,EAAAA,cAAoBigF,GAAYjC,SAAU,MAAM,SAAU/mF,GAC5E,OAAoB+I,EAAAA,cAAoB2gF,IAAuB3E,EAAAA,EAAAA,GAAS,GAAI/kF,EAASiJ,OCvRzF,SAASu4E,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EniE,KAAKpjB,UAAUgH,SAASpC,KAAKwgF,QAAQC,UAAUjiE,KAAM,IAAI,iBAAyB,EAAQ,MAAOrY,GAAK,OAAO,GAFzPy6E,GAA6B,OAAO,WAAkC,IAAsC5sE,EAAlC6sE,GAAQC,EAAAA,EAAAA,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,GAAYD,EAAAA,EAAAA,GAAgB7lF,MAAM6G,YAAakS,EAASwsE,QAAQC,UAAUI,EAAO1/E,UAAW4/E,QAAqB/sE,EAAS6sE,EAAMv/E,MAAMrG,KAAMkG,WAAc,OAAO6/E,EAAAA,EAAAA,GAA2B/lF,KAAM+Y,IDyQ5Zu0E,GAAsB76E,UAAY,CAChCy7E,mBAAoBx7E,IAAAA,KACpBu6D,SAAUv6D,IAAAA,OAAAA,WACVu4E,UAAWv4E,IAAAA,OAAAA,WAEXgjC,KAAM2uC,GAAO9D,WACbp/E,OAAQujF,GACRlwE,MAAO9B,IAAAA,OACPsgB,IAAKtgB,IAAAA,OAAAA,WACL6c,UAAW7c,IAAAA,QAAkBA,IAAAA,QAAkB6tE,WAC/Cv0E,MAAO0G,IAAAA,OAAAA,YCxQF,IAAIw8E,GAAiC,SAAUhJ,IACpDC,EAAAA,EAAAA,GAAU+I,EAAmBhJ,GAE7B,IAAIE,EAAShB,GAAa8J,GAE1B,SAASA,IACP,IAAIhiF,GAEJuzE,EAAAA,EAAAA,GAAgBzgF,KAAMkvF,GAEtB,IAAK,IAAI7I,EAAOngF,UAAUX,OAAQS,EAAO,IAAI7C,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtgF,EAAKsgF,GAAQpgF,UAAUogF,GAgEzB,OA7DAp5E,EAAQk5E,EAAOrhF,KAAKsB,MAAM+/E,EAAQ,CAACpmF,MAAMkF,OAAOc,KAEhDi/E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,QAAS,CACtD4jE,UAAW,QAGbmU,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAA8B4zE,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAASC,IAC7I,IAAItrC,EAAMoxC,EAAaqI,EAAuBre,EAE9C,OAAOiQ,IAAAA,MAAyB,SAAkBG,GAChD,OACE,OAAQA,EAAS/hC,KAAO+hC,EAASC,MAC/B,KAAK,EAMH,OALAzrC,EAAOxoC,EAAML,MAAM6oC,KACnBwrC,EAAS/hC,KAAO,EAChB2nC,EAAcM,EAAgB1xC,EAAK1E,kBACnC9jC,EAAMm2E,YAAcyD,EACpB5F,EAASC,KAAO,EACT2F,EAAY/8C,QAErB,KAAK,EACHolD,EAAwBjO,EAASE,KACjCtQ,EAAYqe,EAAsBp+C,MAElC7jC,EAAM2B,SAAS,CACbiiE,UAAWA,GACV5jE,EAAMm6E,eAETnG,EAASC,KAAO,GAChB,MAEF,KAAK,GACHD,EAAS/hC,KAAO,GAChB+hC,EAASG,GAAKH,EAAQ,MAAU,GAEhCh0E,EAAMq6E,YAAYrG,EAASG,IAE7B,KAAK,GACL,IAAK,MACH,OAAOH,EAASrK,UAGrBmK,EAAS,KAAM,CAAC,CAAC,EAAG,YAGzBiE,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAAiB,WAC9D,IAAIkiF,EAAmBliF,EAAML,MAAMuiF,iBAC/Bte,EAAY5jE,EAAM0B,MAAMkiE,UACxBse,GAAkBA,EAAiBte,OAGzCmU,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,eAAe,SAAUpD,GACtEoD,EAAM2B,SAAS,CACbiiE,WAAW,IAGbkS,EAAWl5E,GACX,IAAIulF,EAAiBniF,EAAML,MAAMwiF,eAC7BA,GAAgBA,EAAevlF,MAG9BoD,EA0FT,OAvFAwzE,EAAAA,EAAAA,GAAawO,EAAmB,CAAC,CAC/B9nF,IAAK,oBACLwI,MAAO,WAGL,IAFW5P,KAAK6M,MAAM6oC,KAGpB,MAAM,IAAI9sC,MAAM,mEAGlB5I,KAAKsvF,kBAEN,CACDloF,IAAK,qBACLwI,MAAO,SAA4B4Y,GACjC,IAAIktB,EAAO11C,KAAK6M,MAAM6oC,KAElBltB,EAAUktB,MAAQA,IAASltB,EAAUktB,MACvC11C,KAAKsvF,kBAGR,CACDloF,IAAK,uBACLwI,MAAO,WACLwzE,EAAkBpjF,KAAKqjF,eAExB,CACDj8E,IAAK,kBACLwI,MAAO,WACL,IAAIkhE,EAAY9wE,KAAK4O,MAAMkiE,UAE3B,OAAKA,EAIEA,EAAUz4D,KAAI,SAAUk3E,EAAUtE,GACvC,OAAoBt+E,EAAAA,cAAoBsiF,IACtCtG,EAAAA,EAAAA,GAAS,CACTvhF,IAAK6jF,EACLA,UAAWA,GACVsE,OARI,OAWV,CACDnoF,IAAK,SACLwI,MAAO,WACL,IAAIq+B,EAAWjuC,KAAKsuF,kBAChBntF,EAASnB,KAAKmB,OAClB,OAAoBwL,EAAAA,cAAoB,MAAO,CAC7CyF,UAAW,+BACXrG,MAAO,CACLO,SAAU,WACVH,IAAK,MACLD,KAAM,MACNF,MAAO,GAAG9G,OAAO+oC,EAASjiC,MAAO,MACjCC,OAAQ,GAAG/G,OAAO+oC,EAAShiC,OAAQ,MACnCwgD,MAAO,cACPl9B,UAAW,gCAAgCrqB,OAAO/D,EAAQ,QAC1D8sF,gBAAiB,gCAAgC/oF,OAAO/D,EAAQ,QAChEktF,cAAe,SAEhBruF,KAAKwvF,qBAET,CACDpoF,IAAK,oBACLyO,IAAK,WACH,IAAI+wE,EAAc5mF,KAAK6M,MACnB6oC,EAAOkxC,EAAYlxC,KACnBlhC,EAAQoyE,EAAYpyE,MACxB,OAAOkhC,EAAK/H,YAAY,CACtBn5B,MAAOA,MAQV,CACDpN,IAAK,SACLyO,IAAK,WACH,IAAI4yE,EAAezoF,KAAK6M,MACpB6oC,EAAO+yC,EAAa/yC,KAExB,OADa+yC,EAAatnF,OACVu0C,EAAKv0C,WAIlB+tF,EArKmC,CAsK1ChG,EAAAA,eAQa,SAASuG,GAAU5iF,GAChC,OAAoBF,EAAAA,cAAoBigF,GAAYjC,SAAU,MAAM,SAAU/mF,GAC5E,OAAoB+I,EAAAA,cAAoBuiF,IAAmBvG,EAAAA,EAAAA,GAAS,GAAI/kF,EAASiJ,OC3LrF,SAASu4E,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EniE,KAAKpjB,UAAUgH,SAASpC,KAAKwgF,QAAQC,UAAUjiE,KAAM,IAAI,iBAAyB,EAAQ,MAAOrY,GAAK,OAAO,GAFzPy6E,GAA6B,OAAO,WAAkC,IAAsC5sE,EAAlC6sE,GAAQC,EAAAA,EAAAA,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,GAAYD,EAAAA,EAAAA,GAAgB7lF,MAAM6G,YAAakS,EAASwsE,QAAQC,UAAUI,EAAO1/E,UAAW4/E,QAAqB/sE,EAAS6sE,EAAMv/E,MAAMrG,KAAMkG,WAAc,OAAO6/E,EAAAA,EAAAA,GAA2B/lF,KAAM+Y,IDkL5Zm2E,GAAkBz8E,UAAY,CAC5B48E,eAAgB38E,IAAAA,KAChB08E,iBAAkB18E,IAAAA,KAClBgjC,KAAM2uC,GAAO9D,WACbp/E,OAAQujF,GACRlwE,MAAO9B,IAAAA,QC3KF,IAAIg9E,GAAuC,SAAUxJ,IAC1DC,EAAAA,EAAAA,GAAUuJ,EAAyBxJ,GAEnC,IAAIE,EAAShB,GAAasK,GAE1B,SAASA,IACP,IAAIxiF,GAEJuzE,EAAAA,EAAAA,GAAgBzgF,KAAM0vF,GAEtB,IAAK,IAAIrJ,EAAOngF,UAAUX,OAAQS,EAAO,IAAI7C,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtgF,EAAKsgF,GAAQpgF,UAAUogF,GAyEzB,OAtEAp5E,EAAQk5E,EAAOrhF,KAAKsB,MAAM+/E,EAAQ,CAACpmF,MAAMkF,OAAOc,KAEhDi/E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,QAAS,CACtDg/D,YAAa,QAGf+Y,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,mBAAgC4zE,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAASC,IAC/I,IAAItrC,EAAMoxC,EAAa5a,EACvB,OAAO6U,IAAAA,MAAyB,SAAkBG,GAChD,OACE,OAAQA,EAAS/hC,KAAO+hC,EAASC,MAC/B,KAAK,EAMH,OALAzrC,EAAOxoC,EAAML,MAAM6oC,KACnBwrC,EAAS/hC,KAAO,EAChB2nC,EAAcM,EAAgB1xC,EAAK9H,kBACnC1gC,EAAMm2E,YAAcyD,EACpB5F,EAASC,KAAO,EACT2F,EAAY/8C,QAErB,KAAK,EACHmiC,EAAcgV,EAASE,KAEvBl0E,EAAM2B,SAAS,CACbq9D,YAAaA,GACZh/D,EAAMm6E,eAETnG,EAASC,KAAO,GAChB,MAEF,KAAK,GACHD,EAAS/hC,KAAO,GAChB+hC,EAASG,GAAKH,EAAQ,MAAU,GAEhCh0E,EAAMq6E,YAAYrG,EAASG,IAE7B,KAAK,GACL,IAAK,MACH,OAAOH,EAASrK,UAGrBmK,EAAS,KAAM,CAAC,CAAC,EAAG,YAGzBiE,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAAiB,WAC9D,IAAIyiF,EAA0BziF,EAAML,MAAM8iF,wBACtCzjB,EAAch/D,EAAM0B,MAAMs9D,YAC1ByjB,GAAyBA,EAAwBzjB,OAGvD+Y,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,eAAe,SAAUpD,GACtEoD,EAAM2B,SAAS,CACbq9D,aAAa,IAGf8W,EAAWl5E,GACX,IAAI8lF,EAAwB1iF,EAAML,MAAM+iF,sBACpCA,GAAuBA,EAAsB9lF,OAGnDm7E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,mBAAmB,WAChE,IAAI2iF,EAAiC3iF,EAAML,MAAMgjF,+BAC7CA,GAAgCA,QAGtC5K,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAAiB,SAAUpD,GACxEk5E,EAAWl5E,GACX,IAAIgmF,EAA+B5iF,EAAML,MAAMijF,6BAC3CA,GAA8BA,EAA6BhmF,MAG1DoD,EA2FT,OAxFAwzE,EAAAA,EAAAA,GAAagP,EAAyB,CAAC,CACrCtoF,IAAK,oBACLwI,MAAO,WAGL,IAFW5P,KAAK6M,MAAM6oC,KAGpB,MAAM,IAAI9sC,MAAM,kEAGlB5I,KAAK+vF,oBAEN,CACD3oF,IAAK,qBACLwI,MAAO,SAA4B4Y,GACjC,IAAIo+D,EAAc5mF,KAAK6M,MACnB6oC,EAAOkxC,EAAYlxC,KACnBvH,EAAyBy4C,EAAYz4C,wBAErC3lB,EAAUktB,MAAQA,IAASltB,EAAUktB,MAAQvH,IAA2B3lB,EAAU2lB,yBACpFnuC,KAAK+vF,oBAGR,CACD3oF,IAAK,uBACLwI,MAAO,WACLwzE,EAAkBpjF,KAAKqjF,eAExB,CACDj8E,IAAK,wBACLwI,MAAO,WACL,IAAIs8D,EAAclsE,KAAK4O,MAAMs9D,YAE7B,GAAKA,EAAL,CAIA,IAAIuc,EAAezoF,KAAK6M,MACpBw5D,EAAqBoiB,EAAapiB,mBAClCF,EAAcsiB,EAAatiB,YAC3BzwB,EAAO+yC,EAAa/yC,KACpBvH,EAAyBs6C,EAAat6C,uBACtCF,EAAWjuC,KAAKiuC,SAAS7tC,MAAM,CACjCwuB,UAAU,IAERu1C,EAAa,CACf+H,YAAaA,EACbjrE,IAAKjB,KAAKgwF,gBACV3pB,mBAAoBA,EACpBF,YAAaA,EACbzwB,KAAMA,EACNvH,uBAAwBA,EACxBF,SAAUA,GAEZjuC,KAAKgwF,gBAAgB1nE,UAAY,GAEjC,IACE09D,EAAAA,gBAAAA,OAA6B7hB,GAC7BnkE,KAAK2rF,kBACL,MAAO7hF,GACP9J,KAAK4rF,cAAc9hF,OAGtB,CACD1C,IAAK,SACLwI,MAAO,WACL,IAAIwB,EAASpR,KAEb,OAAoB2M,EAAAA,cAAoB,MAAO,CAC7CyF,UAAW,+CACXxF,IAAK,SAAam+E,GAChB35E,EAAO4+E,gBAAkBjF,IAE1B/qF,KAAKiwF,2BAET,CACD7oF,IAAK,WACLyO,IAAK,WACH,IAAIkzE,EAAe/oF,KAAK6M,MACpB6oC,EAAOqzC,EAAarzC,KACpBv0C,EAAS4nF,EAAa5nF,OACtBqT,EAAQu0E,EAAav0E,MACzB,OAAOkhC,EAAK/H,YAAY,CACtBn5B,MAAOA,EACPia,SAAUttB,QAKTuuF,EA/KyC,CAgLhDxG,EAAAA,eACFwG,GAAwBj9E,UAAY,CAClC4zD,mBAAoB3zD,IAAAA,OACpByzD,YAAage,GAAc5D,WAC3BqP,sBAAuBl9E,IAAAA,KACvBi9E,wBAAyBj9E,IAAAA,KACzBo9E,6BAA8Bp9E,IAAAA,KAC9Bm9E,+BAAgCn9E,IAAAA,KAChCgjC,KAAM2uC,GACNl2C,uBAAwBz7B,IAAAA,KACxBvR,OAAQujF,GACRlwE,MAAO9B,IAAAA,QAGT,IAQA,GARsB,SAAyB7F,GAC7C,OAAoBF,EAAAA,cAAoB07E,EAAAA,SAA0B,MAAM,SAAUoC,GAChF,OAAoB99E,EAAAA,cAAoBigF,GAAYjC,SAAU,MAAM,SAAUuF,GAC5E,OAAoBvjF,EAAAA,cAAoB+iF,IAAyB/G,EAAAA,EAAAA,GAAS,GAAI8B,EAAiByF,EAAarjF,WC7MlH,SAAS83E,GAAQC,EAAQC,GAAkB,IAAI/9E,EAAOxD,OAAOwD,KAAK89E,GAAS,GAAIthF,OAAO2B,sBAAuB,CAAE,IAAI6/E,EAAUxhF,OAAO2B,sBAAsB2/E,GAAaC,IAAgBC,EAAUA,EAAQ3E,QAAO,SAAU4E,GAAO,OAAOzhF,OAAOovC,yBAAyBkyC,EAAQG,GAAKj7D,eAAgBhjB,EAAKzC,KAAKgC,MAAMS,EAAMg+E,GAAY,OAAOh+E,EAE9U,SAASk+E,GAAcz6D,GAAU,IAAK,IAAIllB,EAAI,EAAGA,EAAIa,UAAUX,OAAQF,IAAK,CAAE,IAAI2B,EAAyB,MAAhBd,UAAUb,GAAaa,UAAUb,GAAK,GAAQA,EAAI,EAAKs/E,GAAQrhF,OAAO0D,IAAS,GAAMyE,SAAQ,SAAUrE,IAAO69E,EAAAA,EAAAA,GAAgB16D,EAAQnjB,EAAKJ,EAAOI,OAAsB9D,OAAO4hF,0BAA6B5hF,OAAO6hF,iBAAiB56D,EAAQjnB,OAAO4hF,0BAA0Bl+E,IAAmB29E,GAAQrhF,OAAO0D,IAASyE,SAAQ,SAAUrE,GAAO9D,OAAOqX,eAAe4P,EAAQnjB,EAAK9D,OAAOovC,yBAAyB1rC,EAAQI,OAAe,OAAOmjB,EAE7gB,SAAS66D,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EniE,KAAKpjB,UAAUgH,SAASpC,KAAKwgF,QAAQC,UAAUjiE,KAAM,IAAI,iBAAyB,EAAQ,MAAOrY,GAAK,OAAO,GAFzPy6E,GAA6B,OAAO,WAAkC,IAAsC5sE,EAAlC6sE,GAAQC,EAAAA,EAAAA,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,GAAYD,EAAAA,EAAAA,GAAgB7lF,MAAM6G,YAAakS,EAASwsE,QAAQC,UAAUI,EAAO1/E,UAAW4/E,QAAqB/sE,EAAS6sE,EAAMv/E,MAAMrG,KAAMkG,WAAc,OAAO6/E,EAAAA,EAAAA,GAA2B/lF,KAAM+Y,IAmB5Z,IACWo3E,GAA4B,SAAUjK,IAC/CC,EAAAA,EAAAA,GAAUgK,EAAcjK,GAExB,IAAIE,EAAShB,GAAa+K,GAE1B,SAASA,IACP,IAAIjjF,GAEJuzE,EAAAA,EAAAA,GAAgBzgF,KAAMmwF,GAEtB,IAAK,IAAI9J,EAAOngF,UAAUX,OAAQS,EAAO,IAAI7C,MAAMkjF,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtgF,EAAKsgF,GAAQpgF,UAAUogF,GAqFzB,OAlFAp5E,EAAQk5E,EAAOrhF,KAAKsB,MAAM+/E,EAAQ,CAACpmF,MAAMkF,OAAOc,KAEhDi/E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,QAAS,CACtDwoC,KAAM,QAGRuvC,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,iBAAiB,WAC9D,IAAI05E,EAAc15E,EAAML,MACpBw6E,EAAgBT,EAAYS,cAC5BwB,EAAejC,EAAYiC,aAC3BnzC,EAAOxoC,EAAM0B,MAAM8mC,KACnB2xC,GAAeA,EAAc/D,EAAiB5tC,EAAMxoC,EAAMsH,QAC1Dq0E,GAAcA,EAAa37E,EAAMigC,UAAWjgC,EAAMN,SAGxDq4E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,eAAe,SAAUpD,GACtEk5E,EAAWl5E,GACX,IAAIy9E,EAAcr6E,EAAML,MAAM06E,YAC1BA,GAAaA,EAAYz9E,OAG/Bm7E,EAAAA,EAAAA,IAAgBsB,EAAAA,EAAAA,GAAuBr5E,GAAQ,YAAyB4zE,EAAAA,EAAAA,GAAgCC,IAAAA,MAAyB,SAASC,IACxI,IAAIwF,EAAK/6C,EAAYq7C,EAAapxC,EAClC,OAAOqrC,IAAAA,MAAyB,SAAkBG,GAChD,OACE,OAAQA,EAAS/hC,KAAO+hC,EAASC,MAC/B,KAAK,EAIH,GAHAqF,EAAMt5E,EAAML,MAAM25E,IAClB/6C,EAAav+B,EAAMg9E,gBAEH,CACdhJ,EAASC,KAAO,EAChB,MAGF,OAAOD,EAASgG,OAAO,UAEzB,KAAK,EAeH,OAdAh6E,EAAM2B,UAAS,SAAUs4E,GACvB,OAAKA,EAAUzxC,KAIR,CACLA,KAAM,MAJC,QAQXwrC,EAAS/hC,KAAO,EAChB2nC,EAAcM,EAAgBZ,EAAIh7C,QAAQC,IAC1Cv+B,EAAMm2E,YAAcyD,EACpB5F,EAASC,KAAO,GACT2F,EAAY/8C,QAErB,KAAK,GACH2L,EAAOwrC,EAASE,KAEhBl0E,EAAM2B,SAAS,CACb6mC,KAAMA,GACLxoC,EAAMm6E,eAETnG,EAASC,KAAO,GAChB,MAEF,KAAK,GACHD,EAAS/hC,KAAO,GAChB+hC,EAASG,GAAKH,EAAQ,MAAU,GAEhCh0E,EAAM2B,SAAS,CACb6mC,MAAM,IAGRxoC,EAAMq6E,YAAYrG,EAASG,IAE7B,KAAK,GACL,IAAK,MACH,OAAOH,EAASrK,UAGrBmK,EAAS,KAAM,CAAC,CAAC,EAAG,WAGlB9zE,EAwST,OArSAwzE,EAAAA,EAAAA,GAAayP,EAAc,CAAC,CAC1B/oF,IAAK,oBACLwI,MAAO,WAGL,IAFU5P,KAAK6M,MAAM25E,IAGnB,MAAM,IAAI59E,MAAM,4DAGlB5I,KAAKowF,aAEN,CACDhpF,IAAK,qBACLwI,MAAO,SAA4B4Y,GACjC,IAAIg+D,EAAMxmF,KAAK6M,MAAM25E,IAErB,GAAIh+D,EAAUg+D,KAAOA,IAAQh+D,EAAUg+D,KAAOxmF,KAAKkqF,kBAAoBlqF,KAAKkqF,cAAc1hE,GAAY,CACpG,IAAIsgE,EAAiB9oF,KAAK6M,MAAMi8E,eAC5BA,GAAgBA,EAAe9oF,KAAK0rC,aAAaljB,IACrDxoB,KAAKowF,cAGR,CACDhpF,IAAK,uBACLwI,MAAO,WACL,IAAIk5E,EAAiB9oF,KAAK6M,MAAMi8E,eAC5BA,GAAgBA,EAAe9oF,KAAKmtC,WACxCi2C,EAAkBpjF,KAAKqjF,eAExB,CACDj8E,IAAK,eACLwI,MAAO,WACL,IAAI/C,EAAQ3G,UAAUX,OAAS,QAAsBa,IAAjBF,UAAU,GAAmBA,UAAU,GAAKlG,KAAK6M,MAErF,OAAIk1E,EAAWl1E,EAAM4+B,YACZ5+B,EAAM4+B,WAAa,EAGxBs2C,EAAWl1E,EAAMsgC,WACZtgC,EAAMsgC,UAGR,OAER,CACD/lC,IAAK,gBACLwI,MAAO,WACL,IAAI/C,EAAQ3G,UAAUX,OAAS,QAAsBa,IAAjBF,UAAU,GAAmBA,UAAU,GAAKlG,KAAK6M,MAErF,OAAIk1E,EAAWl1E,EAAM4+B,YACZ5+B,EAAM4+B,WAGXs2C,EAAWl1E,EAAMsgC,WACZtgC,EAAMsgC,UAAY,EAGpB,OAER,CACD/lC,IAAK,kBACLwI,MAAO,WACL,IAAI64E,EAAezoF,KAAK6M,MACpBs/E,EAAY1D,EAAa0D,UAG7B,OAFiB1D,EAAaO,YAG5B,IAAK,OACH,OAAO,KAET,IAAK,MACH,OAAoBr8E,EAAAA,cAAoB0gF,GAAS,CAC/CjmF,IAAK,GAAGlC,OAAOlF,KAAKqwF,eAAgB,UAIxC,QACE,OAAoB1jF,EAAAA,cAAoBggF,GAAY,CAClDvlF,IAAK,GAAGlC,OAAOlF,KAAKswF,QAAS,WAC7BnE,UAAWA,OAIlB,CACD/kF,IAAK,kBACLwI,MAAO,WACL,IAAIu8D,EAAkBnsE,KAAK6M,MAAMs/D,gBAEjC,OAAKA,EAIex/D,EAAAA,cAAoB8iF,GAAW,CACjDroF,IAAK,GAAGlC,OAAOlF,KAAKswF,QAAS,WAJtB,OAOV,CACDlpF,IAAK,wBACLwI,MAAO,WACL,IAAIqgF,EAAwBjwF,KAAK6M,MAAMojF,sBAEvC,OAAKA,EASetjF,EAAAA,cAAoBo/D,GAAiB,CACvD3kE,IAAK,GAAGlC,OAAOlF,KAAKswF,QAAS,kBATtB,OAYV,CACDlpF,IAAK,iBACLwI,MAAO,WACL,IAAIxC,EAAWpN,KAAK6M,MAAMO,SAC1B,OAAoBT,EAAAA,cAAoBigF,GAAYzB,SAAU,CAC5Dv7E,MAAO5P,KAAKsoF,cACXtoF,KAAKuwF,kBAAmBvwF,KAAKmsE,kBAAmBnsE,KAAKiwF,wBAAyB7iF,KAElF,CACDhG,IAAK,gBACLwI,MAAO,WACL,IAAI67B,EAAazrC,KAAKyrC,WAClB+6C,EAAMxmF,KAAK6M,MAAM25E,IACjB9wC,EAAO11C,KAAK4O,MAAM8mC,KAEtB,IAAKjK,EAAY,CACf,IAAI88C,EAASvoF,KAAK6M,MAAM07E,OACxB,OAAoB57E,EAAAA,cAAoB0zE,EAAS,CAC/Ch2E,KAAM,WACa,oBAAXk+E,EAAwBA,IAAWA,GAG/C,GAAY,OAAR/B,GAAyB,OAAT9wC,EAAe,CACjC,IAAIntC,EAAUvI,KAAK6M,MAAMtE,QACzB,OAAoBoE,EAAAA,cAAoB0zE,EAAS,CAC/Ch2E,KAAM,WACc,oBAAZ9B,EAAyBA,IAAYA,GAGjD,IAAY,IAARi+E,IAA0B,IAAT9wC,EAAgB,CACnC,IAAI5rC,EAAQ9J,KAAK6M,MAAM/C,MACvB,OAAoB6C,EAAAA,cAAoB0zE,EAAS,CAC/Ch2E,KAAM,SACY,oBAAVP,EAAuBA,IAAUA,GAG7C,OAAO9J,KAAKwoF,mBAEb,CACDphF,IAAK,SACLwI,MAAO,WACL,IAAI67B,EAAazrC,KAAKyrC,WAClBs9C,EAAe/oF,KAAK6M,MACpBuF,EAAY22E,EAAa32E,UACzBs2E,EAAWK,EAAaL,SAC5B,OAAoB/7E,EAAAA,cAAoB,OAAOg8E,EAAAA,EAAAA,GAAS,CACtDv2E,UAAW4tE,EAAgB,kBAAmB5tE,GAC9C,mBAAoBq5B,EACpB7+B,IAAKy+E,GAAU3C,EAAU1oF,KAAK4M,KAC9Bb,MAAO,CACLO,SAAU,aAEXtM,KAAK6/E,YAAa7/E,KAAK4oF,mBAE3B,CACDxhF,IAAK,eACLyO,IAAK,WACH,IAAI6/B,EAAO11C,KAAK4O,MAAM8mC,KAEtB,IAAKA,EACH,MAAO,GAGT,IAAI62C,EAAevsF,KAAK6M,MAWxB,MAAO,CACLqhF,mBAXuB3B,EAAa2B,mBAYpC0B,sBAX0BrD,EAAaqD,sBAYvCD,wBAX4BpD,EAAaoD,wBAYzCN,eAXmB9C,EAAa8C,eAYhCD,iBAXqB7C,EAAa6C,iBAYlCU,6BAXiCvD,EAAauD,6BAY9CD,+BAXmCtD,EAAasD,+BAYhDjE,cAXkBW,EAAaX,cAY/BD,gBAXoBY,EAAaZ,gBAYjCj2C,KAAMA,EACNvH,uBAZ2Bo+C,EAAap+C,uBAaxChtC,OAAQnB,KAAKmB,OACbqT,MAAOxU,KAAKwU,SAOf,CACDpN,IAAK,YACLyO,IAAK,WACH,OAAO7V,KAAK0rC,iBAEb,CACDtkC,IAAK,aACLyO,IAAK,WACH,OAAO7V,KAAKkqF,kBAEb,CACD9iF,IAAK,SACLyO,IAAK,WACH,IAAI1U,EAASnB,KAAK6M,MAAM1L,OAExB,GAAI4gF,EAAW5gF,GACb,OAAOA,EAGT,IAAIu0C,EAAO11C,KAAK4O,MAAM8mC,KAEtB,OAAKA,EAIEA,EAAKv0C,OAHH,OAKV,CACDiG,IAAK,QACLyO,IAAK,WACH,IAAI6/B,EAAO11C,KAAK4O,MAAM8mC,KAEtB,IAAKA,EACH,OAAO,KAGT,IAAIg3C,EAAe1sF,KAAK6M,MACpB2H,EAAQk4E,EAAal4E,MACrBxI,EAAQ0gF,EAAa1gF,MACrBC,EAASygF,EAAazgF,OACtB9K,EAASnB,KAAKmB,OAEdqvF,EAAY,EAEZC,EAA6B,OAAVj8E,EAhWV,EAgW0CA,EAEvD,GAAIxI,GAASC,EAAQ,CACnB,IAAIgiC,EAAWyH,EAAK/H,YAAY,CAC9Bn5B,MAAO,EACPia,SAAUttB,IAEZqvF,EAAYxkF,EAAQA,EAAQiiC,EAASjiC,MAAQC,EAASgiC,EAAShiC,OAGjE,OAAOwkF,EAAmBD,IAE3B,CACDppF,IAAK,aACLyO,IAAK,WACH,IAAIzE,EAASpR,KAEb,OAAOipF,EAAejpF,KAAK6M,OAAO,WAChC,IAAI6oC,EAAOtkC,EAAOxC,MAAM8mC,KAExB,OAAKA,EAIE4tC,EAAiB5tC,EAAMtkC,EAAOoD,OAH5BkhC,OAMZ,CACDtuC,IAAK,UACLyO,IAAK,WACH,IAAI6/B,EAAO11C,KAAK4O,MAAM8mC,KACtB,MAAO,GAAGxwC,OAAOwwC,EAAKvI,UAAW,KAAKjoC,OAAOlF,KAAKwU,MAAO,KAAKtP,OAAOlF,KAAKmB,UAE3E,CACDiG,IAAK,iBACLyO,IAAK,WACH,IAAI6/B,EAAO11C,KAAK4O,MAAM8mC,KACtB,MAAO,GAAGxwC,OAAOwwC,EAAKvI,UAAW,KAAKjoC,OAAOlF,KAAKmB,YAI/CgvF,EAxY8B,CAyYrCjH,EAAAA,eACFiH,GAAax9E,aAAe,CAC1B7I,MAAO,2BACPvB,QAAS,qBACTggF,OAAQ,qBACR0H,uBAAuB,EACvB9hD,wBAAwB,EACxB66C,WAAY,SACZ7c,iBAAiB,EACjB33D,MAnZiB,GAqZnB,IAAI60E,GAAmB32E,IAAAA,UAAoB,CAACA,IAAAA,KAAgBA,IAAAA,OA+B5D,SAASg+E,GAAK7jF,EAAOD,GACnB,OAAoBD,EAAAA,cAAoB07E,EAAAA,SAA0B,MAAM,SAAUzkF,GAChF,OAAoB+I,EAAAA,cAAoBwjF,IAAcxH,EAAAA,EAAAA,GAAS,CAC7D/7E,IAAKA,GACJhJ,EAASiJ,OAlChBsjF,GAAa19E,UAAYuyE,GAAcA,GAAc,GAAInF,GAAa,GAAI,CACxEzyE,SAAUsF,IAAAA,KACVN,UAAW8xE,EACXgK,mBAAoBx7E,IAAAA,KACpB5I,MAAOu/E,GACPp9E,OAAQyG,IAAAA,OACR2zD,mBAAoB3zD,IAAAA,OACpBg2E,SAAUlE,GACVj8E,QAAS8gF,GACTd,OAAQc,GACRgG,eAAgB38E,IAAAA,KAChB08E,iBAAkB18E,IAAAA,KAClB60E,YAAa70E,IAAAA,KACb20E,cAAe30E,IAAAA,KACfk5E,cAAel5E,IAAAA,KACfi5E,gBAAiBj5E,IAAAA,KACjBy6B,UbzZuB,SAAqBtgC,EAAO8jF,EAAUC,GAC7D,IAAIzjD,EAAYtgC,EAAM8jF,GAClBllD,EAAa5+B,EAAM4+B,WACnB+6C,EAAM35E,EAAM25E,IAEhB,IAAK3E,EAAU2E,GACb,OAAO,KAGT,GAAI3E,EAAU10C,GAAY,CACxB,GAAyB,kBAAdA,EACT,OAAO,IAAIvkC,MAAM,IAAI1D,OAAOyrF,EAAU,eAAezrF,QAAO+iF,EAAAA,EAAAA,GAAQ96C,GAAY,mBAAmBjoC,OAAO0rF,EAAe,0BAG3H,GAAIzjD,EAAY,EACd,OAAO,IAAIvkC,MAAM,aAAa1D,OAAOyrF,EAAU,mCAGjD,IAAIrlD,EAAWk7C,EAAIl7C,SAEnB,GAAI6B,EAAY,EAAI7B,EAClB,OAAO,IAAI1iC,MAAM,aAAa1D,OAAOyrF,EAAU,6BAA6BzrF,OAAOomC,EAAW,EAAG,WAE9F,IAAKu2C,EAAUp2C,GACpB,OAAO,IAAI7iC,MAAM,IAAI1D,OAAOyrF,EAAU,wEAAwEzrF,OAAO0rF,EAAe,OAItI,OAAO,Ma8XPnlD,Wb5XwB,SAAsB5+B,EAAO8jF,EAAUC,GAC/D,IAAInlD,EAAa5+B,EAAM8jF,GACnBxjD,EAAYtgC,EAAMsgC,UAClBq5C,EAAM35E,EAAM25E,IAEhB,IAAK3E,EAAU2E,GACb,OAAO,KAGT,GAAI3E,EAAUp2C,GAAa,CACzB,GAA0B,kBAAfA,EACT,OAAO,IAAI7iC,MAAM,IAAI1D,OAAOyrF,EAAU,eAAezrF,QAAO+iF,EAAAA,EAAAA,GAAQx8C,GAAa,mBAAmBvmC,OAAO0rF,EAAe,0BAG5H,GAAInlD,EAAa,EACf,OAAO,IAAI7iC,MAAM,aAAa1D,OAAOyrF,EAAU,mCAGjD,IAAIrlD,EAAWk7C,EAAIl7C,SAEnB,GAAIG,EAAaH,EACf,OAAO,IAAI1iC,MAAM,aAAa1D,OAAOyrF,EAAU,6BAA6BzrF,OAAOomC,EAAU,WAE1F,IAAKu2C,EAAU10C,GACpB,OAAO,IAAIvkC,MAAM,IAAI1D,OAAOyrF,EAAU,wEAAwEzrF,OAAO0rF,EAAe,OAItI,OAAO,MaiWPpK,IAAKjC,GACLsE,aAAcn2E,IAAAA,KACdu9E,sBAAuBv9E,IAAAA,KACvBy7B,uBAAwBz7B,IAAAA,KACxBs2E,WAAYvE,GACZtY,gBAAiBz5D,IAAAA,KACjBvR,OAAQujF,GACRlwE,MAAO9B,IAAAA,OACPo2E,eAAgBp2E,IAAAA,KAChB1G,MAAO0G,IAAAA,SAWT,OAA4B/F,EAAAA,WAAiB+jF,ICxdzC9O,GACFiB,EAAU,iOAGZmD,EAAAA,oBAAAA,UAAsC,2RCR/B,IA6GM6K,EACO,qBAAX9mF,OAAyB+mF,EAAAA,gBAAkBC,EAAAA,UClG9CC,EAAoB,CACxBC,aAAc,CACZC,QAAS,CACP5kF,SAAU,WACV6kF,OAAQ,KAEVC,MAAO,CACL9kF,SAAU,WACVF,OAAQ,SAGZilF,WAAY,CACVplF,OAAQ,MACRD,MAAO,OACPM,SAAU,WACVgiC,WAAY,cACZme,MAAO,OACP0kC,QAAS,GAEXpvE,QAAS,CACPmvE,QAAS,CACP5kF,SAAU,QACVH,IAAK,IACL8hE,OAAQ,IACR/hE,KAAM,IACN8hE,MAAO,IACPmjB,OAAQ,KAEVC,MAAO,CACL9kF,SAAU,QACVH,IAAK,IACL8hE,OAAQ,IACR/hE,KAAM,IACN8hE,MAAO,IACPqe,QAAS,OACT8E,OAAQ,OC7BDG,EAAkC,CAC7C,WACA,aACA,YACA,YACA,eACA,eACA,cACA,gBACA,eACA,WACA,cACA,eAYIC,EAA4B,SAChCC,EACAC,EACAnlF,EACAolF,EAJgC,OAK9BhjE,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,QAELviB,EAASslF,EAAQ,EAAI,EACrB1rF,EAAOsG,EAAS0Q,MAAM,KAEtB20E,EAAYH,EAAgBrlF,IAAMqlF,EAAgBvlF,OAAS,EAC3D2lF,EAAaJ,EAAgBtlF,KAAOslF,EAAgBxlF,MAAQ,EAC1DC,EAAkBwlF,EAAlBxlF,OAAQD,EAAUylF,EAAVzlF,MACZG,EAAMwlF,EAAY1lF,EAAS,EAC3BC,EAAO0lF,EAAa5lF,EAAQ,EAC5BujB,EAAY,GACZsiE,EAAW,KACXC,EAAY,KAEhB,OAAQ9rF,EAAK,IACX,IAAK,MACHmG,GAAOF,EAAS,EAAIulF,EAAgBvlF,OAAS,EAAIG,EACjDmjB,EAAY,kCACZsiE,EAAW,OACXC,EAAY,MACZ,MACF,IAAK,SACH3lF,GAAOF,EAAS,EAAIulF,EAAgBvlF,OAAS,EAAIG,EACjDmjB,EAAY,kDACZuiE,EAAY,MACZ,MACF,IAAK,OACH5lF,GAAQF,EAAQ,EAAIwlF,EAAgBxlF,MAAQ,EAAII,EAChDmjB,EAAY,mDACZuiE,EAAY,OACZD,EAAW,MACX,MACF,IAAK,QACH3lF,GAAQF,EAAQ,EAAIwlF,EAAgBxlF,MAAQ,EAAII,EAChDmjB,EAAY,oDACZsiE,EAAW,MAIf,OAAQ7rF,EAAK,IACX,IAAK,MACHmG,EAAMqlF,EAAgBrlF,IACtB0lF,EAAcL,EAAgBvlF,OAAS,EAA/B,KACR,MACF,IAAK,SACHE,EAAMqlF,EAAgBrlF,IAAMF,EAASulF,EAAgBvlF,OACrD4lF,EAAc5lF,EAASulF,EAAgBvlF,OAAS,EAAxC,KACR,MACF,IAAK,OACHC,EAAOslF,EAAgBtlF,KACvB4lF,EAAeN,EAAgBxlF,MAAQ,EAA9B,KACT,MACF,IAAK,QACHE,EAAOslF,EAAgBtlF,KAAOF,EAAQwlF,EAAgBxlF,MACtD8lF,EAAe9lF,EAAQwlF,EAAgBxlF,MAAQ,EAAtC,KAQb,MAAO,CAAEG,IAHTA,EAAkB,QAAZnG,EAAK,GAAemG,EAAMwiB,EAAUxiB,EAAMwiB,EAGlCziB,KAFdA,EAAmB,SAAZlG,EAAK,GAAgBkG,EAAOwiB,EAAUxiB,EAAOwiB,EAEhCa,UAAAA,EAAWuiE,UAAAA,EAAWD,SAAAA,IA4BtCE,EAAoB,SACxBP,EACAC,EACAnlF,EACAolF,EAJwB,EAMxBM,OADEtjE,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,QAGPsjE,EAAwB,CAC1BH,UAAW,KACXD,SAAU,KACV3lF,KAAM,EACNC,IAAK,EACLojB,UAAW,kBAETlqB,EAAI,EACF6sF,EAzC0B,SAACF,GAEjC,IAAIG,EAAc,CAChBhmF,IAAK,EACLD,KAAM,EAENF,MAAOjC,OAAOqb,WAEdnZ,OAAQlC,OAAOsb,aAEjB,GAAiC,kBAAtB2sE,EAAgC,CAEzC,IAAMvoB,EAAWpgE,SAASugE,cAAcooB,GAOvB,OAAbvoB,IAAmB0oB,EAAc1oB,EAAS1jD,yBAGhD,OAAOosE,EAmBYC,CAAmBJ,GAClCjyE,EAAY5c,MAAMC,QAAQkJ,GAAYA,EAAW,CAACA,GAUtD,KAPI0lF,GAAqB7uF,MAAMC,QAAQkJ,MACrCyT,EAAY,GAAH,OAAOA,EAAcuxE,IAMzBjsF,EAAI0a,EAAUxa,QAAQ,CAS3B,IAAM8sF,EAAa,CACjBlmF,KATF8lF,EAAaV,EACXC,EACAC,EACA1xE,EAAU1a,GACVqsF,EACA,CAAEhjE,QAAAA,EAASC,QAAAA,KAIKxiB,IAChBD,KAAM+lF,EAAW/lF,KACjBF,MAAOylF,EAAgBzlF,MACvBC,OAAQwlF,EAAgBxlF,QAG1B,KACEomF,EAAWlmF,KAAO+lF,EAAW/lF,KAC7BkmF,EAAWnmF,MAAQgmF,EAAWhmF,MAC9BmmF,EAAWlmF,IAAMkmF,EAAWpmF,QAC1BimF,EAAW/lF,IAAM+lF,EAAWjmF,QAC9BomF,EAAWnmF,KAAOmmF,EAAWrmF,OAASkmF,EAAWhmF,KAAOgmF,EAAWlmF,OAInE,MAFA3G,IAMJ,OAAO4sF,GC7KLK,EAAiB,EAcRC,GAAQC,EAAAA,EAAAA,aACnB,WA4BE5lF,WA1BE8R,QAAAA,OAAAA,IAAU,OAAA+zE,MACVC,OAAAA,OAAAA,IAAS,eAAAC,MACTC,QAAAA,OAAAA,IAAU,eAAAC,MACVC,YAAAA,OAAAA,IAAc,GAAAC,MACdC,KAAAA,OAAAA,IAAO,OAAA5sF,EAAAA,MACP6sF,SAAAA,OAAAA,IAAW,GAAAC,MACXC,OAAAA,OAAAA,IAAS,GAAAC,MACTC,qBAAAA,OAAAA,IAAuB,GAAAC,MACvBC,mBAAAA,OAAAA,IAAqB,GAAAC,MACrBC,cAAAA,OAAAA,IAAgB,GAAAC,MAChBntF,GAAAA,OAAAA,IAAK,GAAC,SAADotF,MACLC,aAAAA,OAAAA,IAAe,KAAAC,MACfC,WAAAA,OAAAA,IAAa,KAAAC,MACbC,aAAAA,OAAAA,IAAe,KAAAC,MACf7hF,UAAAA,OAAAA,IAAY,KAAA8hF,MACZ5nF,SAAAA,OAAAA,IAAW,kBAAA6nF,MACX/C,MAAAA,OAAAA,IAAQ,GAAAgD,MACRC,WAAAA,OAAAA,IAAa,GAAAC,MACb5C,MAAAA,OAAAA,IAAQ,GAAA6C,MACR7lE,QAAAA,OAAAA,IAAU,IAAA8lE,MACV7lE,QAAAA,OAAAA,IAAU,IAAA8lE,MACVC,gBAAAA,OAAAA,IAAkB,MAAAC,MAClBC,gBAAAA,QAAAA,IAAkB,MAAAC,OAClB7C,kBAAAA,QAAAA,IAAoB,IAAA8C,GACpB1nF,GAAAA,EAAAA,aAI0B2nF,EAAAA,EAAAA,UAAkB/B,GAAQF,GAA/CkC,GAAAA,GAAAA,GAAQC,GAAAA,GAAAA,GACTC,IAAaC,EAAAA,EAAAA,QAAoB,MACjCC,IAAaD,EAAAA,EAAAA,QAAoB,MACjCE,IAAWF,EAAAA,EAAAA,QAAuB,MAClCG,IAAsBH,EAAAA,EAAAA,QAAuB,MAC7CI,IAAUJ,EAAAA,EAAAA,QAAM,YAAoB7C,GAEpCkD,KAAUpE,IAAgB1yE,EAC1B+2E,IAAUN,EAAAA,EAAAA,QAAY,GAE5BtE,GAA0B,WASxB,OARImE,IACFM,GAAoBp4C,QAAU7zC,SAASqsF,cACvCC,KACAC,KACAC,MAEAC,KAEK,WACLr6E,aAAag6E,GAAQv4C,YAEtB,CAAC83C,MAGJjE,EAAAA,EAAAA,YAAU,WACY,mBAATiC,IACLA,EAAM+C,KACLC,QAEN,CAAChD,EAAMC,IAEV,IAAM8C,GAAY,SAAC/xF,GACbgxF,IAAU/B,IACdgC,IAAU,GACV3pF,YAAW,kBAAMonF,EAAO1uF,KAAQ,KAG5BgyF,GAAa,SACjBhyF,SAEKgxF,KAAU/B,IACfgC,IAAU,GACNO,KAAU,UAAAF,GAAoBp4C,eAApB,SAA6C+4C,SAC3D3qF,YAAW,kBAAMsnF,EAAQ5uF,KAAQ,KAG7BkyF,GAAc,SAAClyF,GACd,OAALA,QAAK,IAALA,GAAAA,EAAOmyF,kBACFnB,GACAgB,GAAWhyF,GADH+xF,GAAU/xF,IAInBoyF,GAAe,SAACpyF,GACpByX,aAAag6E,GAAQv4C,SACrBu4C,GAAQv4C,QAAU5xC,YAAW,kBAAMyqF,GAAU/xF,KAAQ0wF,IAGjD2B,GAAgB,SAACryF,GAChB,OAALA,QAAK,IAALA,GAAAA,EAAOimF,iBACPiM,MAGII,GAAe,SAACtyF,GACpByX,aAAag6E,GAAQv4C,SACrBu4C,GAAQv4C,QAAU5xC,YAAW,kBAAM0qF,GAAWhyF,KAAQ4wF,KAGlDiB,GAAc,WACdL,IAAWnB,IACbhrF,SAAS6e,qBAAqB,QAAQ,GAAGnc,MAAMqhF,SAAW,WAGxD0I,GAAc,WACdN,IAAWnB,IACbhrF,SAAS6e,qBAAqB,QAAQ,GAAGnc,MAAMqhF,SAAW,SAExDwI,GAAqB,iBACnBW,EAAY,OAAGnB,SAAH,IAAGA,IAAH,UAAGA,GAAYl4C,eAAf,aAAGs5C,EAAqBC,iBACxC,wIAEIC,EAAUvzF,MAAMhD,UAAU6E,MAAMD,KAAKwxF,GAAc,GAClD,OAAPG,QAAO,IAAPA,GAAAA,EAAST,UAGXU,EAAAA,EAAAA,qBAAoB/pF,GAAK,iBAAO,CAC9BomF,KAAM,WACJ+C,MAEF9/C,MAAO,WACL+/C,MAEFY,OAAQ,WACNV,UAKJ,IHlKFp+B,GACA++B,GGiKQlB,GAAc,WAClB,IAAIH,IAAYR,KACZ,OAACE,SAAD,IAACA,QAAD,EAACA,GAAYh4C,WAAW,OAACg4C,SAAD,IAACA,QAAD,EAACA,GAAYh4C,WAAW,OAACk4C,SAAD,IAACA,QAAD,EAACA,GAAYl4C,SAAjE,CAEA,IAgBiC,IAhB3Bx+B,EAAUw2E,GAAWh4C,QAAQn3B,wBAC7Bi2C,EAAUo5B,GAAWl4C,QAAQn3B,wBAE7B+wE,EAAQ/E,EACZrzE,EACAs9C,EACA1vD,EACAolF,EACA,CACEhjE,QAAAA,EACAC,QAAAA,GAEFqjE,IAIF,GAFAoD,GAAWl4C,QAAQnxC,MAAMI,IAAS2qF,EAAM3qF,IAAMpC,OAAOgtF,QAArD,KACA3B,GAAWl4C,QAAQnxC,MAAMG,KAAU4qF,EAAM5qF,KAAOnC,OAAOitF,QAAvD,KACItF,GAAW2D,GAASn4C,QACtBm4C,GAASn4C,QAAQnxC,MAAMwjB,UAAYunE,EAAMvnE,UACzC8lE,GAASn4C,QAAQnxC,MAAMkrF,YAAY,gBAAiBH,EAAMvnE,WAC1D8lE,GAASn4C,QAAQnxC,MAAMkrF,YACrB,oBACAH,EAAMvnE,WAER8lE,GAASn4C,QAAQnxC,MAAMI,KACrB,UAAA2nF,EAAW3nF,WAAX,eAAgBhF,aAAc2vF,EAAMjF,SACtCwD,GAASn4C,QAAQnxC,MAAMG,MACrB,UAAA4nF,EAAW5nF,YAAX,eAAiB/E,aAAc2vF,EAAMhF,YHhM7Ch6B,GGoMck+B,QHnMda,KAAAA,GGmM0BpD,KHnM1BoD,IAAS,IAET9F,EAAAA,EAAAA,YAAU,WACR,GAAK8F,GAAL,CACA,IAAM3yF,EAAW,SAACF,GAEE,WAAdA,EAAMoD,KAAkB0wD,GAAQ9zD,IAItC,OAFAqF,SAASoR,iBAAiB,QAASvW,GAE5B,WACA2yF,IACLxtF,SAASuR,oBAAoB,QAAS1W,OAEvC,CAAC4zD,GAAS++B,KAqDW,SACxBzB,EACAyB,QAAAA,IAAAA,IAAAA,GAAS,IAET9F,EAAAA,EAAAA,YAAU,WACR,GAAK8F,EAAL,CACA,IAAM3yF,EAAW,SAACF,GAEhB,GAAsB,IAAlBA,EAAMkzF,QAAe,OACjBC,EAAG,OAAG/B,QAAH,IAAGA,GAAH,UAAGA,EAAYl4C,eAAf,aAAGs5C,EAAqBC,iBAC/B,wIAGIF,EAAepzF,MAAMhD,UAAU6E,MAAMD,KAAKoyF,GAChD,GAA4B,IAAxBZ,EAAahxF,OAEf,YADAvB,EAAMimF,iBAIR,IAAMmN,EAAmBb,EAAa,GAChCc,EAAkBd,EAAaA,EAAahxF,OAAS,GACvDvB,EAAMszF,UAAYjuF,SAASqsF,gBAAkB0B,GAC/CpzF,EAAMimF,iBACNoN,EAAgBpB,SACP5sF,SAASqsF,gBAAkB2B,IACpCrzF,EAAMimF,iBACNmN,EAAiBnB,WAOvB,OAFA5sF,SAASoR,iBAAiB,UAAWvW,GAE9B,WACA2yF,GACLxtF,SAASuR,oBAAoB,UAAW1W,OAEzC,CAACkxF,EAAYyB,IG4FdU,CAAWnC,GAAYJ,IAAUQ,IHnLA,SAAC19B,EAAqB++B,QAAAA,IAAAA,IAAAA,GAAS,IAClE9F,EAAAA,EAAAA,YAAU,WACR,GAAK8F,EAAL,CACA,IAAM3yF,EAAW,WACf4zD,KAKF,OAFA/tD,OAAO0Q,iBAAiB,SAAUvW,GAE3B,WACA2yF,GACL9sF,OAAO6Q,oBAAoB,SAAU1W,OAEtC,CAAC4zD,EAAS++B,IGuKXW,CAAsB7B,GAAapC,GHpKN,SAC/B3mF,EACAkrD,EACA++B,QAAAA,IAAAA,IAAAA,GAAS,IAET9F,EAAAA,EAAAA,YAAU,WACR,GAAK8F,EAAL,CACA,IAAM3yF,EAAW,SAACF,GAEhB,IAAMyzF,EAAOt0F,MAAMC,QAAQwJ,GAAOA,EAAM,CAACA,GAErC8qF,GAAW,EACfD,EAAKhsF,SAAQ,SAAA6M,GACNA,EAAE4kC,UAAW5kC,EAAE4kC,QAAQw6C,SAAS1zF,EAAMumB,UACzCmtE,GAAW,MAIf1zF,EAAMmyF,kBACDuB,GAAU5/B,EAAQ9zD,IAMzB,OAHAqF,SAASoR,iBAAiB,YAAavW,GACvCmF,SAASoR,iBAAiB,aAAcvW,GAEjC,WACA2yF,IACLxtF,SAASuR,oBAAoB,YAAa1W,GAC1CmF,SAASuR,oBAAoB,aAAc1W,QAE5C,CAAC0I,EAAKkrD,EAAS++B,IGuIhBc,CACIj5E,EAAU,CAAC02E,GAAYF,IAAc,CAACE,IACxCY,GACA3C,IAAyBF,GAG3B,IAkEMvK,GAAgB,WACpB,OACEj8E,EAAAA,cAAAA,MAAAA,OAAAA,OAAAA,GAjCoB,WACtB,IAAMirF,EAAoBpC,GACtBv0E,EAAOgwE,aAAaG,MACpBnwE,EAAOgwE,aAAaC,QAElB2G,EAA4B,CAChCzlF,UAAW,kBACK,KAAdA,EACIA,EACG4K,MAAM,KACN3E,KAAI,SAAAqsB,GAAC,OAAOA,EAAP,cACLv7B,KAAK,KACR,IAEN4C,MAAO,EAAF,GACA6rF,EACAhE,EAFA,CAGHvF,cAAe,SAEjBzhF,IAAKwoF,GACL/uE,QAAS,SAACnb,GACRA,EAAEirF,oBAON,OAJK/E,GAAS7qF,EAAGkT,QAAQ,UAAY,IACnCo+E,EAAqBzB,aAAeA,GACpCyB,EAAqBvB,aAAeA,IAE/BuB,EAMCC,GAAe,CACnB1wF,IAAI,IACJ2wF,KAAMvC,GAAU,SAAW,UAC3B7tF,GAAI4tF,GAAQr4C,UAEXw0C,IAAU8D,IACT7oF,EAAAA,cAAAA,MAAAA,CAAKC,IAAKyoF,GAAUtpF,MAAOkV,EAAOowE,YAChC1kF,EAAAA,cAAAA,MAAAA,eACc,QACZyF,UAAS,gBACO,KAAdA,EACIA,EACG4K,MAAM,KACN3E,KAAI,SAAAqsB,GAAC,OAAOA,EAAP,YACLv7B,KAAK,KACR,IAENqlB,QAAQ,YACRziB,MAAK,GACHO,SAAU,YACPwnF,IAGLnnF,EAAAA,cAAAA,OAAAA,CAAM8G,EAAE,iBAAiBypB,KAAK,mBAInC9vB,IAAgC,oBAAbA,GAChBA,GAAS4oF,GAAYhB,IACrB5nF,KAKJ2U,KAAYxb,EAAGkT,QAAQ,UAAY,GACnCu+E,GAAUxC,GAAUv0E,EAAOc,QAAQqvE,MAAQnwE,EAAOc,QAAQmvE,QAE1Dl1B,GAAU,CACdj6C,IACEpV,EAAAA,cAAAA,MAAAA,CACEvF,IAAI,kBACQ,uBACAouF,GAAU,QAAU,UAChCpjF,UAAS,kBACO,KAAdA,EACIA,EACG4K,MAAM,KACN3E,KAAI,SAAAqsB,GAAC,OAAOA,EAAP,cACLv7B,KAAK,KACR,IAEN4C,MAAK,KACAisF,GACAhE,EAFA,CAGH3F,cACGgF,GAAwBF,GAAWqC,GAAU,OAAS,SAE3DnvE,QAASgtE,GAAwBF,EAAS6C,QAAa5vF,EACvD6xF,UAAW,GAEVzC,IAAW5M,OAIf4M,IAAW5M,MAGd,OACEj8E,EAAAA,cAAAA,EAAAA,SAAAA,KAzIoB,WAOpB,IANA,IAAMurF,EAAoB,CACxB9wF,IAAK,IACLwF,IAAKsoF,GACL,mBAAoBK,GAAQr4C,SAExBi7C,EAAYh1F,MAAMC,QAAQmD,GAAMA,EAAK,CAACA,GACnClB,EAAI,EAAGY,EAAMkyF,EAAU5yF,OAAQF,EAAIY,EAAKZ,IAC/C,OAAQ8yF,EAAU9yF,IAChB,IAAK,QACH6yF,EAAa7xE,QAAU6vE,GACvB,MACF,IAAK,cACHgC,EAAa7B,cAAgBA,GAC7B,MACF,IAAK,QACH6B,EAAa9B,aAAeA,GAC5B8B,EAAa5B,aAAeA,GAC5B,MACF,IAAK,QACH4B,EAAaE,QAAUhC,GACvB8B,EAAaG,OAAS/B,GAM5B,GAAuB,oBAAZ53E,EAAwB,CACjC,IAAM45E,EAAO55E,EAAQs2E,IACrB,QAASt2E,GAAW/R,EAAAA,aAAmB2rF,EAAMJ,GAG/C,QAASx5E,GAAW/R,EAAAA,aAAmB+R,EAASw5E,GA0G7CK,GACAvD,IAAUx3E,EAAAA,aAAsBw+C,GAnUpB,WACnB,IAAIw8B,EAAYnvF,SAASC,eAAe,cAQxC,OANkB,OAAdkvF,KACFA,EAAYnvF,SAASe,cAAc,QACzB4iF,aAAa,KAAM,cAC7B3jF,SAAS6oE,KAAKrnE,YAAY2tF,IAGrBA,EA0TyCC","sources":["../node_modules/@mapbox/point-geometry/index.js","../node_modules/eventemitter3/index.js","../node_modules/@googlemaps/js-api-loader/src/index.ts","../node_modules/@googlemaps/js-api-loader/node_modules/fast-deep-equal/index.js","../node_modules/google-map-react/src/google_map_map.js","../node_modules/google-map-react/src/marker_dispatcher.js","../node_modules/google-map-react/src/utils/omit.js","../node_modules/google-map-react/src/utils/shallowEqual.js","../node_modules/google-map-react/src/google_map_markers.js","../node_modules/google-map-react/src/google_map_markers_prerender.js","../node_modules/google-map-react/src/loaders/google_map_loader.js","../node_modules/google-map-react/src/lib/geo/wrap.js","../node_modules/google-map-react/src/lib/geo/lat_lng.js","../node_modules/google-map-react/src/lib/geo/transform.js","../node_modules/google-map-react/src/lib/geo/index.js","../node_modules/google-map-react/src/utils/raf.js","../node_modules/google-map-react/src/utils/log2.js","../node_modules/google-map-react/src/utils/pick.js","../node_modules/google-map-react/src/utils/isEmpty.js","../node_modules/google-map-react/src/utils/isNumber.js","../node_modules/google-map-react/src/utils/detect.js","../node_modules/google-map-react/src/utils/isPlainObject.js","../node_modules/google-map-react/src/utils/passiveEvents.js","../node_modules/google-map-react/src/utils/detectElementResize.js","../node_modules/google-map-react/src/google_map.js","../node_modules/google-map-react/src/google_heatmap.js","../node_modules/google-map-react/src/utils/isArraysEqualEps.js","../pdfjs-dist/build/pdf/webpack/universalModuleDefinition","../pdfjs-dist/build/pdf/webpack/bootstrap","../pdfjs-dist/build/pdf/src/pdf.js","../pdfjs-dist/build/pdf/src/display/display_utils.js","../pdfjs-dist/build/pdf/src/shared/util.js","../pdfjs-dist/build/pdf/src/shared/compatibility.js","../pdfjs-dist/build/pdf/src/shared/is_node.js","../pdfjs-dist/build/pdf/src/display/api.js","../pdfjs-dist/build/pdf/src/display/font_loader.js","../pdfjs-dist/build/pdf/src/display/node_utils.js","../pdfjs-dist/build/pdf/src/display/annotation_storage.js","../pdfjs-dist/build/pdf/src/display/api_compatibility.js","../pdfjs-dist/build/pdf/src/display/canvas.js","../pdfjs-dist/build/pdf/src/display/pattern_helper.js","../pdfjs-dist/build/pdf/src/display/worker_options.js","../pdfjs-dist/build/pdf/src/shared/message_handler.js","../pdfjs-dist/build/pdf/src/display/metadata.js","../pdfjs-dist/build/pdf/src/display/xml_parser.js","../pdfjs-dist/build/pdf/src/display/optional_content_config.js","../pdfjs-dist/build/pdf/src/display/transport_stream.js","../pdfjs-dist/build/pdf/src/display/webgl.js","../pdfjs-dist/build/pdf/src/display/annotation_layer.js","../pdfjs-dist/build/pdf/src/display/text_layer.js","../pdfjs-dist/build/pdf/src/display/svg.js","../pdfjs-dist/build/pdf/src/display/node_stream.js","../pdfjs-dist/build/pdf/src/display/network_utils.js","../pdfjs-dist/build/pdf/src/display/content_disposition.js","../pdfjs-dist/build/pdf/src/display/network.js","../pdfjs-dist/build/pdf/src/display/fetch_stream.js","../node_modules/make-event-props/dist/esm/index.js","../node_modules/make-cancellable-promise/dist/esm/index.js","../node_modules/merge-class-names/dist/esm/index.js","../node_modules/react-pdf/dist/esm/DocumentContext.js","../node_modules/react-pdf/dist/esm/Message.js","../node_modules/react-pdf/dist/esm/LinkService.js","../node_modules/react-pdf/dist/esm/PasswordResponses.js","../node_modules/react-pdf/dist/esm/shared/utils.js","../node_modules/react-pdf/dist/esm/shared/propTypes.js","../node_modules/react-pdf/dist/esm/Document.js","../node_modules/react-pdf/dist/esm/OutlineContext.js","../node_modules/react-pdf/dist/esm/Ref.js","../node_modules/react-pdf/dist/esm/OutlineItem.js","../node_modules/react-pdf/dist/esm/Outline.js","../node_modules/merge-refs/dist/esm/index.js","../node_modules/react-pdf/dist/esm/PageContext.js","../node_modules/react-pdf/dist/esm/Page/PageCanvas.js","../node_modules/react-pdf/dist/esm/Page/PageSVG.js","../node_modules/react-pdf/dist/esm/Page/TextLayerItem.js","../node_modules/react-pdf/dist/esm/Page/TextLayer.js","../node_modules/react-pdf/dist/esm/Page/AnnotationLayer.js","../node_modules/react-pdf/dist/esm/Page.js","../node_modules/react-pdf/dist/esm/entry.js","../node_modules/reactjs-popup/src/hooks.tsx","../node_modules/reactjs-popup/src/styles.ts","../node_modules/reactjs-popup/src/Utils.ts","../node_modules/reactjs-popup/src/index.tsx"],"sourcesContent":["'use strict';\n\nmodule.exports = Point;\n\n/**\n * A standalone point geometry with useful accessor, comparison, and\n * modification methods.\n *\n * @class Point\n * @param {Number} x the x-coordinate. this could be longitude or screen\n * pixels, or any other sort of unit.\n * @param {Number} y the y-coordinate. this could be latitude or screen\n * pixels, or any other sort of unit.\n * @example\n * var point = new Point(-77, 38);\n */\nfunction Point(x, y) {\n    this.x = x;\n    this.y = y;\n}\n\nPoint.prototype = {\n\n    /**\n     * Clone this point, returning a new point that can be modified\n     * without affecting the old one.\n     * @return {Point} the clone\n     */\n    clone: function() { return new Point(this.x, this.y); },\n\n    /**\n     * Add this point's x & y coordinates to another point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    add:     function(p) { return this.clone()._add(p); },\n\n    /**\n     * Subtract this point's x & y coordinates to from point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    sub:     function(p) { return this.clone()._sub(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    multByPoint:    function(p) { return this.clone()._multByPoint(p); },\n\n    /**\n     * Divide this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    divByPoint:     function(p) { return this.clone()._divByPoint(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    mult:    function(k) { return this.clone()._mult(k); },\n\n    /**\n     * Divide this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    div:     function(k) { return this.clone()._div(k); },\n\n    /**\n     * Rotate this point around the 0, 0 origin by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @return {Point} output point\n     */\n    rotate:  function(a) { return this.clone()._rotate(a); },\n\n    /**\n     * Rotate this point around p point by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @param {Point} p Point to rotate around\n     * @return {Point} output point\n     */\n    rotateAround:  function(a,p) { return this.clone()._rotateAround(a,p); },\n\n    /**\n     * Multiply this point by a 4x1 transformation matrix\n     * @param {Array<Number>} m transformation matrix\n     * @return {Point} output point\n     */\n    matMult: function(m) { return this.clone()._matMult(m); },\n\n    /**\n     * Calculate this point but as a unit vector from 0, 0, meaning\n     * that the distance from the resulting point to the 0, 0\n     * coordinate will be equal to 1 and the angle from the resulting\n     * point to the 0, 0 coordinate will be the same as before.\n     * @return {Point} unit vector point\n     */\n    unit:    function() { return this.clone()._unit(); },\n\n    /**\n     * Compute a perpendicular point, where the new y coordinate\n     * is the old x coordinate and the new x coordinate is the old y\n     * coordinate multiplied by -1\n     * @return {Point} perpendicular point\n     */\n    perp:    function() { return this.clone()._perp(); },\n\n    /**\n     * Return a version of this point with the x & y coordinates\n     * rounded to integers.\n     * @return {Point} rounded point\n     */\n    round:   function() { return this.clone()._round(); },\n\n    /**\n     * Return the magitude of this point: this is the Euclidean\n     * distance from the 0, 0 coordinate to this point's x and y\n     * coordinates.\n     * @return {Number} magnitude\n     */\n    mag: function() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n\n    /**\n     * Judge whether this point is equal to another point, returning\n     * true or false.\n     * @param {Point} other the other point\n     * @return {boolean} whether the points are equal\n     */\n    equals: function(other) {\n        return this.x === other.x &&\n               this.y === other.y;\n    },\n\n    /**\n     * Calculate the distance from this point to another point\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    dist: function(p) {\n        return Math.sqrt(this.distSqr(p));\n    },\n\n    /**\n     * Calculate the distance from this point to another point,\n     * without the square root step. Useful if you're comparing\n     * relative distances.\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    distSqr: function(p) {\n        var dx = p.x - this.x,\n            dy = p.y - this.y;\n        return dx * dx + dy * dy;\n    },\n\n    /**\n     * Get the angle from the 0, 0 coordinate to this point, in radians\n     * coordinates.\n     * @return {Number} angle\n     */\n    angle: function() {\n        return Math.atan2(this.y, this.x);\n    },\n\n    /**\n     * Get the angle from this point to another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleTo: function(b) {\n        return Math.atan2(this.y - b.y, this.x - b.x);\n    },\n\n    /**\n     * Get the angle between this point and another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleWith: function(b) {\n        return this.angleWithSep(b.x, b.y);\n    },\n\n    /*\n     * Find the angle of the two vectors, solving the formula for\n     * the cross product a x b = |a||b|sin(θ) for θ.\n     * @param {Number} x the x-coordinate\n     * @param {Number} y the y-coordinate\n     * @return {Number} the angle in radians\n     */\n    angleWithSep: function(x, y) {\n        return Math.atan2(\n            this.x * y - this.y * x,\n            this.x * x + this.y * y);\n    },\n\n    _matMult: function(m) {\n        var x = m[0] * this.x + m[1] * this.y,\n            y = m[2] * this.x + m[3] * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _add: function(p) {\n        this.x += p.x;\n        this.y += p.y;\n        return this;\n    },\n\n    _sub: function(p) {\n        this.x -= p.x;\n        this.y -= p.y;\n        return this;\n    },\n\n    _mult: function(k) {\n        this.x *= k;\n        this.y *= k;\n        return this;\n    },\n\n    _div: function(k) {\n        this.x /= k;\n        this.y /= k;\n        return this;\n    },\n\n    _multByPoint: function(p) {\n        this.x *= p.x;\n        this.y *= p.y;\n        return this;\n    },\n\n    _divByPoint: function(p) {\n        this.x /= p.x;\n        this.y /= p.y;\n        return this;\n    },\n\n    _unit: function() {\n        this._div(this.mag());\n        return this;\n    },\n\n    _perp: function() {\n        var y = this.y;\n        this.y = this.x;\n        this.x = -y;\n        return this;\n    },\n\n    _rotate: function(angle) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = cos * this.x - sin * this.y,\n            y = sin * this.x + cos * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _rotateAround: function(angle, p) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = p.x + cos * (this.x - p.x) - sin * (this.y - p.y),\n            y = p.y + sin * (this.x - p.x) + cos * (this.y - p.y);\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _round: function() {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n    }\n};\n\n/**\n * Construct a point from an array if necessary, otherwise if the input\n * is already a Point, or an unknown type, return it unchanged\n * @param {Array<Number>|Point|*} a any kind of input value\n * @return {Point} constructed point, or passed-through value.\n * @example\n * // this\n * var point = Point.convert([0, 1]);\n * // is equivalent to\n * var point = new Point(0, 1);\n */\nPoint.convert = function (a) {\n    if (a instanceof Point) {\n        return a;\n    }\n    if (Array.isArray(a)) {\n        return new Point(a[0], a[1]);\n    }\n    return a;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at.\n *\n *      Http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport isEqual from \"fast-deep-equal\";\n\n/**\n * @ignore\n */\ndeclare global {\n  interface Window {\n    __googleMapsCallback: (e: Event) => void;\n  }\n}\n\nexport const DEFAULT_ID = \"__googleMapsScriptId\";\n\nexport type Libraries = (\n  | \"drawing\"\n  | \"geometry\"\n  | \"localContext\"\n  | \"places\"\n  | \"visualization\"\n)[];\n\n/**\n * The Google Maps JavaScript API\n * [documentation](https://developers.google.com/maps/documentation/javascript/tutorial)\n * is the authoritative source for [[LoaderOptions]].\n/**\n * Loader options\n */\nexport interface LoaderOptions {\n  /**\n   * See https://developers.google.com/maps/documentation/javascript/get-api-key.\n   */\n  apiKey: string;\n  /**\n   * @deprecated See https://developers.google.com/maps/premium/overview.\n   */\n  channel?: string;\n  /**\n   * @deprecated See https://developers.google.com/maps/premium/overview, use `apiKey` instead.\n   */\n  client?: string;\n  /**\n   * In your application you can specify release channels or version numbers:\n   *\n   * The weekly version is specified with `version=weekly`. This version is\n   * updated once per week, and is the most current.\n   *\n   * ```\n   * const loader = Loader({apiKey, version: 'weekly'});\n   * ```\n   *\n   * The quarterly version is specified with `version=quarterly`. This version\n   * is updated once per quarter, and is the most predictable.\n   *\n   * ```\n   * const loader = Loader({apiKey, version: 'quarterly'});\n   * ```\n   *\n   * The version number is specified with `version=n.nn`. You can choose\n   * `version=3.40`, `version=3.39`, or `version=3.38`. Version numbers are\n   * updated once per quarter.\n   *\n   * ```\n   * const loader = Loader({apiKey, version: '3.40'});\n   * ```\n   *\n   * If you do not explicitly specify a version, you will receive the\n   * weekly version by default.\n   */\n  version?: string;\n  /**\n   * The id of the script tag. Before adding a new script, the Loader will check for an existing one.\n   */\n  id?: string;\n  /**\n   * When loading the Maps JavaScript API via the URL you may optionally load\n   * additional libraries through use of the libraries URL parameter. Libraries\n   * are modules of code that provide additional functionality to the main Maps\n   * JavaScript API but are not loaded unless you specifically request them.\n   *\n   * ```\n   * const loader = Loader({\n   *  apiKey,\n   *  libraries: ['drawing', 'geometry', 'places', 'visualization'],\n   * });\n   * ```\n   *\n   * Set the [list of libraries](https://developers.google.com/maps/documentation/javascript/libraries) for more options.\n   */\n  libraries?: Libraries;\n  /**\n   * By default, the Maps JavaScript API uses the user's preferred language\n   * setting as specified in the browser, when displaying textual information\n   * such as the names for controls, copyright notices, driving directions and\n   * labels on maps. In most cases, it's preferable to respect the browser\n   * setting. However, if you want the Maps JavaScript API to ignore the\n   * browser's language setting, you can force it to display information in a\n   * particular language when loading the Maps JavaScript API code.\n   *\n   * For example, the following example localizes the language to Japan:\n   *\n   * ```\n   * const loader = Loader({apiKey, language: 'ja', region: 'JP'});\n   * ```\n   *\n   * See the [list of supported\n   * languages](https://developers.google.com/maps/faq#languagesupport). Note\n   * that new languages are added often, so this list may not be exhaustive.\n   *\n   */\n  language?: string;\n  /**\n   * When you load the Maps JavaScript API from maps.googleapis.com it applies a\n   * default bias for application behavior towards the United States. If you\n   * want to alter your application to serve different map tiles or bias the\n   * application (such as biasing geocoding results towards the region), you can\n   * override this default behavior by adding a region parameter when loading\n   * the Maps JavaScript API code.\n   *\n   * The region parameter accepts Unicode region subtag identifiers which\n   * (generally) have a one-to-one mapping to country code Top-Level Domains\n   * (ccTLDs). Most Unicode region identifiers are identical to ISO 3166-1\n   * codes, with some notable exceptions. For example, Great Britain's ccTLD is\n   * \"uk\" (corresponding to the domain .co.uk) while its region identifier is\n   * \"GB.\"\n   *\n   * For example, the following example localizes the map to the United Kingdom:\n   *\n   * ```\n   * const loader = Loader({apiKey, region: 'GB'});\n   * ```\n   */\n  region?: string;\n  /**\n   * @deprecated Passing `mapIds` is no longer required in the script tag.\n   */\n  mapIds?: string[];\n  /**\n   * Use a custom url and path to load the Google Maps API script.\n   */\n  url?: string;\n  /**\n   * Use a cryptographic nonce attribute.\n   */\n  nonce?: string;\n  /**\n   * The number of script load retries.\n   */\n  retries?: number;\n  /**\n   * Maps JS customers can configure HTTP Referrer Restrictions in the Cloud\n   * Console to limit which URLs are allowed to use a particular API Key. By\n   * default, these restrictions can be configured to allow only certain paths\n   * to use an API Key. If any URL on the same domain or origin may use the API\n   * Key, you can set `auth_referrer_policy=origin` to limit the amount of data\n   * sent when authorizing requests from the Maps JavaScript API. This is\n   * available starting in version 3.46. When this parameter is specified and\n   * HTTP Referrer Restrictions are enabled on Cloud Console, Maps JavaScript\n   * API will only be able to load if there is an HTTP Referrer Restriction that\n   * matches the current website's domain without a path specified.\n   */\n  authReferrerPolicy?: \"origin\";\n}\n\n/**\n * The status of the [[Loader]].\n */\nexport enum LoaderStatus {\n  INITIALIZED,\n  LOADING,\n  SUCCESS,\n  FAILURE,\n}\n\n/**\n * [[Loader]] makes it easier to add Google Maps JavaScript API to your application\n * dynamically using\n * [Promises](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise).\n * It works by dynamically creating and appending a script node to the the\n * document head and wrapping the callback function so as to return a promise.\n *\n * ```\n * const loader = new Loader({\n *   apiKey: \"\",\n *   version: \"weekly\",\n *   libraries: [\"places\"]\n * });\n *\n * loader.load().then((google) => {\n *   const map = new google.maps.Map(...)\n * })\n * ```\n */\nexport class Loader {\n  private static instance: Loader;\n  /**\n   * See [[LoaderOptions.version]]\n   */\n  public readonly version: string;\n  /**\n   * See [[LoaderOptions.apiKey]]\n   */\n  public readonly apiKey: string;\n  /**\n   * See [[LoaderOptions.channel]]\n   */\n  public readonly channel: string;\n  /**\n   * See [[LoaderOptions.client]]\n   */\n  public readonly client: string;\n  /**\n   * See [[LoaderOptions.id]]\n   */\n  public readonly id: string;\n  /**\n   * See [[LoaderOptions.libraries]]\n   */\n  public readonly libraries: Libraries;\n  /**\n   * See [[LoaderOptions.language]]\n   */\n  public readonly language: string;\n\n  /**\n   * See [[LoaderOptions.region]]\n   */\n  public readonly region: string;\n\n  /**\n   * See [[LoaderOptions.mapIds]]\n   */\n  public readonly mapIds: string[];\n\n  /**\n   * See [[LoaderOptions.nonce]]\n   */\n  public readonly nonce: string | null;\n\n  /**\n   * See [[LoaderOptions.retries]]\n   */\n  public readonly retries: number;\n\n  /**\n   * See [[LoaderOptions.url]]\n   */\n  public readonly url: string;\n  /**\n   * See [[LoaderOptions.authReferrerPolicy]]\n   */\n  public readonly authReferrerPolicy: \"origin\";\n\n  private CALLBACK = \"__googleMapsCallback\";\n  private callbacks: ((e: ErrorEvent) => void)[] = [];\n  private done = false;\n  private loading = false;\n  private onerrorEvent: ErrorEvent;\n  private errors: ErrorEvent[] = [];\n\n  /**\n   * Creates an instance of Loader using [[LoaderOptions]]. No defaults are set\n   * using this library, instead the defaults are set by the Google Maps\n   * JavaScript API server.\n   *\n   * ```\n   * const loader = Loader({apiKey, version: 'weekly', libraries: ['places']});\n   * ```\n   */\n  constructor({\n    apiKey,\n    authReferrerPolicy,\n    channel,\n    client,\n    id = DEFAULT_ID,\n    language,\n    libraries = [],\n    mapIds,\n    nonce,\n    region,\n    retries = 3,\n    url = \"https://maps.googleapis.com/maps/api/js\",\n    version,\n  }: LoaderOptions) {\n    this.apiKey = apiKey;\n    this.authReferrerPolicy = authReferrerPolicy;\n    this.channel = channel;\n    this.client = client;\n    this.id = id || DEFAULT_ID; // Do not allow empty string\n    this.language = language;\n    this.libraries = libraries;\n    this.mapIds = mapIds;\n    this.nonce = nonce;\n    this.region = region;\n    this.retries = retries;\n    this.url = url;\n    this.version = version;\n\n    if (Loader.instance) {\n      if (!isEqual(this.options, Loader.instance.options)) {\n        throw new Error(\n          `Loader must not be called again with different options. ${JSON.stringify(\n            this.options\n          )} !== ${JSON.stringify(Loader.instance.options)}`\n        );\n      }\n\n      return Loader.instance;\n    }\n\n    Loader.instance = this;\n  }\n\n  public get options(): LoaderOptions {\n    return {\n      version: this.version,\n      apiKey: this.apiKey,\n      channel: this.channel,\n      client: this.client,\n      id: this.id,\n      libraries: this.libraries,\n      language: this.language,\n      region: this.region,\n      mapIds: this.mapIds,\n      nonce: this.nonce,\n      url: this.url,\n      authReferrerPolicy: this.authReferrerPolicy,\n    };\n  }\n\n  public get status(): LoaderStatus {\n    if (this.errors.length) {\n      return LoaderStatus.FAILURE;\n    }\n    if (this.done) {\n      return LoaderStatus.SUCCESS;\n    }\n    if (this.loading) {\n      return LoaderStatus.LOADING;\n    }\n    return LoaderStatus.INITIALIZED;\n  }\n\n  private get failed(): boolean {\n    return this.done && !this.loading && this.errors.length >= this.retries + 1;\n  }\n\n  /**\n   * CreateUrl returns the Google Maps JavaScript API script url given the [[LoaderOptions]].\n   *\n   * @ignore\n   */\n  public createUrl(): string {\n    let url = this.url;\n\n    url += `?callback=${this.CALLBACK}`;\n\n    if (this.apiKey) {\n      url += `&key=${this.apiKey}`;\n    }\n\n    if (this.channel) {\n      url += `&channel=${this.channel}`;\n    }\n\n    if (this.client) {\n      url += `&client=${this.client}`;\n    }\n\n    if (this.libraries.length > 0) {\n      url += `&libraries=${this.libraries.join(\",\")}`;\n    }\n\n    if (this.language) {\n      url += `&language=${this.language}`;\n    }\n\n    if (this.region) {\n      url += `&region=${this.region}`;\n    }\n\n    if (this.version) {\n      url += `&v=${this.version}`;\n    }\n\n    if (this.mapIds) {\n      url += `&map_ids=${this.mapIds.join(\",\")}`;\n    }\n\n    if (this.authReferrerPolicy) {\n      url += `&auth_referrer_policy=${this.authReferrerPolicy}`;\n    }\n\n    return url;\n  }\n\n  public deleteScript(): void {\n    const script = document.getElementById(this.id);\n    if (script) {\n      script.remove();\n    }\n  }\n\n  /**\n   * Load the Google Maps JavaScript API script and return a Promise.\n   */\n  public load(): Promise<typeof google> {\n    return this.loadPromise();\n  }\n\n  /**\n   * Load the Google Maps JavaScript API script and return a Promise.\n   *\n   * @ignore\n   */\n  public loadPromise(): Promise<typeof google> {\n    return new Promise((resolve, reject) => {\n      this.loadCallback((err: ErrorEvent) => {\n        if (!err) {\n          resolve(window.google);\n        } else {\n          reject(err.error);\n        }\n      });\n    });\n  }\n\n  /**\n   * Load the Google Maps JavaScript API script with a callback.\n   */\n  public loadCallback(fn: (e: ErrorEvent) => void): void {\n    this.callbacks.push(fn);\n    this.execute();\n  }\n\n  /**\n   * Set the script on document.\n   */\n  private setScript(): void {\n    if (document.getElementById(this.id)) {\n      // TODO wrap onerror callback for cases where the script was loaded elsewhere\n      this.callback();\n      return;\n    }\n\n    const url = this.createUrl();\n    const script = document.createElement(\"script\");\n    script.id = this.id;\n    script.type = \"text/javascript\";\n    script.src = url;\n    script.onerror = this.loadErrorCallback.bind(this);\n    script.defer = true;\n    script.async = true;\n\n    if (this.nonce) {\n      script.nonce = this.nonce;\n    }\n\n    document.head.appendChild(script);\n  }\n\n  /**\n   * Reset the loader state.\n   */\n  private reset(): void {\n    this.deleteScript();\n    this.done = false;\n    this.loading = false;\n    this.errors = [];\n    this.onerrorEvent = null;\n  }\n\n  private resetIfRetryingFailed(): void {\n    if (this.failed) {\n      this.reset();\n    }\n  }\n\n  private loadErrorCallback(e: ErrorEvent): void {\n    this.errors.push(e);\n\n    if (this.errors.length <= this.retries) {\n      const delay = this.errors.length * 2 ** this.errors.length;\n\n      console.log(\n        `Failed to load Google Maps script, retrying in ${delay} ms.`\n      );\n\n      setTimeout(() => {\n        this.deleteScript();\n        this.setScript();\n      }, delay);\n    } else {\n      this.onerrorEvent = e;\n      this.callback();\n    }\n  }\n\n  private setCallback(): void {\n    window.__googleMapsCallback = this.callback.bind(this);\n  }\n\n  private callback(): void {\n    this.done = true;\n    this.loading = false;\n\n    this.callbacks.forEach((cb) => {\n      cb(this.onerrorEvent);\n    });\n\n    this.callbacks = [];\n  }\n\n  private execute(): void {\n    this.resetIfRetryingFailed();\n\n    if (this.done) {\n      this.callback();\n    } else {\n      // short circuit and warn if google.maps is already loaded\n      if (window.google && window.google.maps && window.google.maps.version) {\n        console.warn(\n          \"Google Maps already loaded outside @googlemaps/js-api-loader.\" +\n            \"This may result in undesirable behavior as options and script parameters may not match.\"\n        );\n        this.callback();\n        return;\n      }\n\n      if (this.loading) {\n        // do nothing but wait\n      } else {\n        this.loading = true;\n        this.setCallback();\n        this.setScript();\n      }\n    }\n  }\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import React, { Component } from 'react';\n\nconst style = {\n  width: '100%',\n  height: '100%',\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: 'absolute',\n};\n\nexport default class GoogleMapMap extends Component {\n  shouldComponentUpdate() {\n    return false; // disable react on this div\n  }\n\n  render() {\n    const { registerChild } = this.props;\n    return <div ref={registerChild} style={style} />;\n  }\n}\n","import EventEmitter from 'eventemitter3';\n\nexport default class MarkerDispatcher extends EventEmitter {\n  constructor(gmapInstance) {\n    super();\n    this.gmapInstance = gmapInstance;\n  }\n\n  getChildren() {\n    return this.gmapInstance.props.children;\n  }\n\n  getMousePosition() {\n    return this.gmapInstance.mouse_;\n  }\n\n  getUpdateCounter() {\n    return this.gmapInstance.updateCounter_;\n  }\n\n  dispose() {\n    this.gmapInstance = null;\n    this.removeAllListeners();\n  }\n}\n","// https://github.com/acdlite/recompose/blob/master/src/packages/recompose/utils/omit.js\nconst omit = (obj, keys) => {\n  const { ...rest } = obj;\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (key in rest) {\n      delete rest[key];\n    }\n  }\n  return rest;\n};\n\nexport default omit;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @providesModule shallowEqual\n * @typechecks\n * @flow\n */\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  }\n  // Step 6.a: NaN == NaN\n  // eslint-disable-next-line no-self-compare\n  return x !== x && y !== y;\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    if (\n      !hasOwnProperty.call(objB, keysA[i]) ||\n      !is(objA[keysA[i]], objB[keysA[i]])\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default shallowEqual;\n/* src: https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/shallowEqual.js */\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n// utils\nimport omit from './utils/omit';\nimport shallowEqual from './utils/shallowEqual';\n\nconst mainStyle = {\n  width: '100%',\n  height: '100%',\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: 'absolute',\n};\n\nconst style = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  backgroundColor: 'transparent',\n  position: 'absolute',\n};\n\nexport default class GoogleMapMarkers extends Component {\n  /* eslint-disable react/forbid-prop-types */\n  static propTypes = {\n    geoService: PropTypes.any,\n    style: PropTypes.any,\n    distanceToMouse: PropTypes.func,\n    dispatcher: PropTypes.any,\n    onChildClick: PropTypes.func,\n    onChildMouseDown: PropTypes.func,\n    onChildMouseLeave: PropTypes.func,\n    onChildMouseEnter: PropTypes.func,\n    getHoverDistance: PropTypes.func,\n    insideMapPanes: PropTypes.bool,\n    prerender: PropTypes.bool,\n  };\n  /* eslint-enable react/forbid-prop-types */\n\n  static defaultProps = {\n    insideMapPanes: false,\n    prerender: false,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.dimensionsCache_ = {};\n    this.hoverKey_ = null;\n    this.hoverChildProps_ = null;\n    this.allowMouse_ = true;\n\n    this.state = { ...this._getState(), hoverKey: null };\n  }\n\n  componentDidMount() {\n    this.props.dispatcher.on('kON_CHANGE', this._onChangeHandler);\n    this.props.dispatcher.on(\n      'kON_MOUSE_POSITION_CHANGE',\n      this._onMouseChangeHandler\n    );\n    this.props.dispatcher.on('kON_CLICK', this._onChildClick);\n    this.props.dispatcher.on('kON_MDOWN', this._onChildMouseDown);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.experimental === true) {\n      return (\n        !shallowEqual(this.props, nextProps) ||\n        !shallowEqual(\n          omit(this.state, ['hoverKey']),\n          omit(nextState, ['hoverKey'])\n        )\n      );\n    }\n\n    return (\n      !shallowEqual(this.props, nextProps) ||\n      !shallowEqual(this.state, nextState)\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.dispatcher.removeListener('kON_CHANGE', this._onChangeHandler);\n    this.props.dispatcher.removeListener(\n      'kON_MOUSE_POSITION_CHANGE',\n      this._onMouseChangeHandler\n    );\n    this.props.dispatcher.removeListener('kON_CLICK', this._onChildClick);\n    this.props.dispatcher.removeListener('kON_MDOWN', this._onChildMouseDown);\n\n    this.dimensionsCache_ = null;\n  }\n\n  _getState = () => ({\n    children: this.props.dispatcher.getChildren(),\n    updateCounter: this.props.dispatcher.getUpdateCounter(),\n  });\n\n  _onChangeHandler = () => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    const prevChildCount = (this.state.children || []).length;\n    const state = this._getState();\n\n    this.setState(\n      state,\n      () =>\n        (state.children || []).length !== prevChildCount &&\n        this._onMouseChangeHandler()\n    );\n  };\n\n  _onChildClick = () => {\n    if (this.props.onChildClick) {\n      if (this.hoverChildProps_) {\n        const hoverKey = this.hoverKey_;\n        const childProps = this.hoverChildProps_;\n        // click works only on hovered item\n        this.props.onChildClick(hoverKey, childProps);\n      }\n    }\n  };\n\n  _onChildMouseDown = () => {\n    if (this.props.onChildMouseDown) {\n      if (this.hoverChildProps_) {\n        const hoverKey = this.hoverKey_;\n        const childProps = this.hoverChildProps_;\n        // works only on hovered item\n        this.props.onChildMouseDown(hoverKey, childProps);\n      }\n    }\n  };\n\n  _onChildMouseEnter = (hoverKey, childProps) => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    if (this.props.onChildMouseEnter) {\n      this.props.onChildMouseEnter(hoverKey, childProps);\n    }\n\n    this.hoverChildProps_ = childProps;\n    this.hoverKey_ = hoverKey;\n    this.setState({ hoverKey });\n  };\n\n  _onChildMouseLeave = () => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    const hoverKey = this.hoverKey_;\n    const childProps = this.hoverChildProps_;\n\n    if (hoverKey !== undefined && hoverKey !== null) {\n      if (this.props.onChildMouseLeave) {\n        this.props.onChildMouseLeave(hoverKey, childProps);\n      }\n\n      this.hoverKey_ = null;\n      this.hoverChildProps_ = null;\n      this.setState({ hoverKey: null });\n    }\n  };\n\n  _onMouseAllow = (value) => {\n    if (!value) {\n      this._onChildMouseLeave();\n    }\n\n    this.allowMouse_ = value;\n  };\n\n  _onMouseChangeHandler = () => {\n    if (this.allowMouse_) {\n      this._onMouseChangeHandlerRaf();\n    }\n  };\n\n  _onMouseChangeHandlerRaf = () => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    const mp = this.props.dispatcher.getMousePosition();\n\n    if (mp) {\n      const distances = [];\n      const hoverDistance = this.props.getHoverDistance();\n\n      React.Children.forEach(this.state.children, (child, childIndex) => {\n        if (!child) return;\n        // layers\n        if (\n          child.props.latLng === undefined &&\n          child.props.lat === undefined &&\n          child.props.lng === undefined\n        ) {\n          return;\n        }\n\n        const childKey =\n          child.key !== undefined && child.key !== null\n            ? child.key\n            : childIndex;\n        const dist = this.props.distanceToMouse(\n          this.dimensionsCache_[childKey],\n          mp,\n          child.props\n        );\n        if (dist < hoverDistance) {\n          distances.push({\n            key: childKey,\n            dist,\n            props: child.props,\n          });\n        }\n      });\n\n      if (distances.length) {\n        distances.sort((a, b) => a.dist - b.dist);\n        const hoverKey = distances[0].key;\n        const childProps = distances[0].props;\n\n        if (this.hoverKey_ !== hoverKey) {\n          this._onChildMouseLeave();\n\n          this._onChildMouseEnter(hoverKey, childProps);\n        }\n      } else {\n        this._onChildMouseLeave();\n      }\n    } else {\n      this._onChildMouseLeave();\n    }\n  };\n\n  _getDimensions = (key) => {\n    const childKey = key;\n    return this.dimensionsCache_[childKey];\n  };\n\n  render() {\n    const mainElementStyle = this.props.style || mainStyle;\n    this.dimensionsCache_ = {};\n\n    const markers = React.Children.map(\n      this.state.children,\n      (child, childIndex) => {\n        if (!child) return undefined;\n        if (\n          child.props.latLng === undefined &&\n          child.props.lat === undefined &&\n          child.props.lng === undefined\n        ) {\n          return React.cloneElement(child, {\n            $geoService: this.props.geoService,\n            $onMouseAllow: this._onMouseAllow,\n            $prerender: this.props.prerender,\n          });\n        }\n\n        const latLng =\n          child.props.latLng !== undefined\n            ? child.props.latLng\n            : { lat: child.props.lat, lng: child.props.lng };\n\n        const pt = this.props.insideMapPanes\n          ? this.props.geoService.fromLatLngToDivPixel(latLng)\n          : this.props.geoService.fromLatLngToCenterPixel(latLng);\n\n        const stylePtPos = {\n          left: pt.x,\n          top: pt.y,\n        };\n\n        // If the component has a southeast corner defined (either as a LatLng, or a separate\n        // lat and lng pair), set the width and height based on the distance between the northwest\n        // and the southeast corner to lock the overlay to the correct geographic bounds.\n        if (\n          child.props.seLatLng !== undefined ||\n          (child.props.seLat !== undefined && child.props.seLng !== undefined)\n        ) {\n          const seLatLng =\n            child.props.seLatLng !== undefined\n              ? child.props.seLatLng\n              : { lat: child.props.seLat, lng: child.props.seLng };\n\n          const sePt = this.props.insideMapPanes\n            ? this.props.geoService.fromLatLngToDivPixel(seLatLng)\n            : this.props.geoService.fromLatLngToCenterPixel(seLatLng);\n\n          stylePtPos.width = sePt.x - pt.x;\n          stylePtPos.height = sePt.y - pt.y;\n        }\n\n        const containerPt = this.props.geoService.fromLatLngToContainerPixel(\n          latLng\n        );\n\n        // to prevent rerender on child element i need to pass\n        // const params $getDimensions and $dimensionKey instead of dimension object\n        const childKey =\n          child.key !== undefined && child.key !== null\n            ? child.key\n            : childIndex;\n\n        this.dimensionsCache_[childKey] = {\n          x: containerPt.x,\n          y: containerPt.y,\n          ...latLng,\n        };\n\n        return (\n          <div\n            key={childKey}\n            style={{ ...style, ...stylePtPos }}\n            className={child.props.$markerHolderClassName}\n          >\n            {React.cloneElement(child, {\n              $hover: childKey === this.state.hoverKey,\n              $getDimensions: this._getDimensions,\n              $dimensionKey: childKey,\n              $geoService: this.props.geoService,\n              $onMouseAllow: this._onMouseAllow,\n              $prerender: this.props.prerender,\n            })}\n          </div>\n        );\n      }\n    );\n\n    return <div style={mainElementStyle}>{markers}</div>;\n  }\n}\n","import React from 'react';\nimport GoogleMapMarkers from './google_map_markers';\n\nconst style = {\n  width: '50%',\n  height: '50%',\n  left: '50%',\n  top: '50%',\n  // backgroundColor: 'red',\n  margin: 0,\n  padding: 0,\n  position: 'absolute',\n  // opacity: 0.3\n};\n\nexport default function (props) {\n  return (\n    <div style={style}>\n      <GoogleMapMarkers {...props} prerender />\n    </div>\n  );\n}\n","import { Loader } from '@googlemaps/js-api-loader';\n\nlet loader_;\nlet loadPromise_;\nlet resolveCustomPromise_;\n\nconst _customPromise = new Promise((resolve) => {\n  resolveCustomPromise_ = resolve;\n});\n\n// TODO add libraries language and other map options\nexport default (bootstrapURLKeys, heatmapLibrary) => {\n  // call from outside google-map-react\n  // will be as soon as loadPromise resolved\n  if (!bootstrapURLKeys) {\n    return _customPromise;\n  }\n\n  // avoid api to be loaded multiple times\n  if (loadPromise_) {\n    return loadPromise_;\n  }\n\n  if (!bootstrapURLKeys.libraries) {\n    bootstrapURLKeys.libraries = [];\n  }\n\n  const libraries = [...bootstrapURLKeys.libraries];\n\n  // note: heatmapLibrary will be deprecated on next major\n  if (heatmapLibrary) {\n    // if heatmapLibrary is present\n    // check if we need to add visualization library\n    if (libraries.length === 0 || !libraries.includes('visualization')) {\n      // if the array isEmpty or visualization is\n      // not present, push the visualization library\n      libraries.push('visualization');\n    }\n    console.warn(\n      \"heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead\"\n    );\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (Object.keys(bootstrapURLKeys).indexOf('callback') > -1) {\n      const message = `\"callback\" key in bootstrapURLKeys is not allowed,\n                      use onGoogleApiLoaded property instead`;\n      // eslint-disable-next-line no-console\n      console.error(message);\n      throw new Error(message);\n    }\n  }\n\n  if (typeof window === 'undefined') {\n    throw new Error('google map cannot be loaded outside browser env');\n  }\n\n  const { key, ...restKeys } = bootstrapURLKeys;\n\n  // use single instance of Loader to avoid multiple api loads\n  if (!loader_) {\n    loader_ = new Loader({\n      // need to keep key as a prop for backwards compatibility\n      apiKey: key || '',\n      ...restKeys,\n      libraries,\n    });\n  }\n\n  loadPromise_ = loader_.load().then(() => {\n    resolveCustomPromise_(window.google.maps);\n    return window.google.maps;\n  });\n\n  resolveCustomPromise_(loadPromise_);\n\n  return loadPromise_;\n};\n","/* eslint-disable import/prefer-default-export */\n\nexport function wrap(n, min, max) {\n  const d = max - min;\n  return n === max ? n : ((((n - min) % d) + d) % d) + min;\n}\n","import { wrap } from './wrap';\n\nexport default class LatLng {\n  static convert = (a) => {\n    if (a instanceof LatLng) {\n      return a;\n    }\n\n    if (Array.isArray(a)) {\n      return new LatLng(a[0], a[1]);\n    }\n\n    if ('lng' in a && 'lat' in a) {\n      return new LatLng(a.lat, a.lng);\n    }\n\n    return a;\n  };\n\n  constructor(lat, lng) {\n    if (isNaN(lat) || isNaN(lng)) {\n      throw new Error(`Invalid LatLng object: (${lat}, ${lng})`);\n    }\n    this.lat = +lat;\n    this.lng = +lng;\n  }\n\n  wrap() {\n    return new LatLng(this.lat, wrap(this.lng, -180, 180));\n  }\n}\n","/* eslint-disable class-methods-use-this */\nimport Point from '@mapbox/point-geometry';\nimport LatLng from './lat_lng';\nimport { wrap } from './wrap';\n\n// A single transform, generally used for a single tile to be scaled, rotated, and zoomed.\nexport default class Transform {\n  constructor(tileSize, minZoom, maxZoom) {\n    this.tileSize = tileSize || 512; // constant\n\n    this._minZoom = minZoom || 0;\n    this._maxZoom = maxZoom || 52;\n\n    this.latRange = [-85.05113, 85.05113];\n\n    this.width = 0;\n    this.height = 0;\n    this.zoom = 0;\n    this.center = new LatLng(0, 0);\n    this.angle = 0;\n  }\n\n  get minZoom() {\n    return this._minZoom;\n  }\n\n  set minZoom(zoom) {\n    this._minZoom = zoom;\n    this.zoom = Math.max(this.zoom, zoom);\n  }\n\n  get maxZoom() {\n    return this._maxZoom;\n  }\n\n  set maxZoom(zoom) {\n    this._maxZoom = zoom;\n    this.zoom = Math.min(this.zoom, zoom);\n  }\n\n  get worldSize() {\n    return this.tileSize * this.scale;\n  }\n\n  get centerPoint() {\n    return new Point(0, 0); // this.size._div(2);\n  }\n\n  get size() {\n    return new Point(this.width, this.height);\n  }\n\n  get bearing() {\n    return (-this.angle / Math.PI) * 180;\n  }\n\n  set bearing(bearing) {\n    this.angle = (-wrap(bearing, -180, 180) * Math.PI) / 180;\n  }\n\n  get zoom() {\n    return this._zoom;\n  }\n\n  set zoom(zoom) {\n    const zoomV = Math.min(Math.max(zoom, this.minZoom), this.maxZoom);\n    this._zoom = zoomV;\n    this.scale = this.zoomScale(zoomV);\n    this.tileZoom = Math.floor(zoomV);\n    this.zoomFraction = zoomV - this.tileZoom;\n  }\n\n  zoomScale(zoom) {\n    return Math.pow(2, zoom);\n  }\n\n  scaleZoom(scale) {\n    return Math.log(scale) / Math.LN2;\n  }\n\n  project(latlng, worldSize) {\n    return new Point(\n      this.lngX(latlng.lng, worldSize),\n      this.latY(latlng.lat, worldSize)\n    );\n  }\n\n  unproject(point, worldSize) {\n    return new LatLng(\n      this.yLat(point.y, worldSize),\n      this.xLng(point.x, worldSize)\n    );\n  }\n\n  get x() {\n    return this.lngX(this.center.lng);\n  }\n\n  get y() {\n    return this.latY(this.center.lat);\n  }\n\n  get point() {\n    return new Point(this.x, this.y);\n  }\n\n  // lat/lon <-> absolute pixel coords convertion\n  lngX(lon, worldSize) {\n    return ((180 + lon) * (worldSize || this.worldSize)) / 360;\n  }\n\n  // latitude to absolute y coord\n  latY(lat, worldSize) {\n    const y =\n      (180 / Math.PI) * Math.log(Math.tan(Math.PI / 4 + (lat * Math.PI) / 360));\n    return ((180 - y) * (worldSize || this.worldSize)) / 360;\n  }\n\n  xLng(x, worldSize) {\n    return (x * 360) / (worldSize || this.worldSize) - 180;\n  }\n\n  yLat(y, worldSize) {\n    const y2 = 180 - (y * 360) / (worldSize || this.worldSize);\n    return (360 / Math.PI) * Math.atan(Math.exp((y2 * Math.PI) / 180)) - 90;\n  }\n\n  locationPoint(latlng) {\n    const p = this.project(latlng);\n    return this.centerPoint._sub(this.point._sub(p)._rotate(this.angle));\n  }\n\n  pointLocation(p) {\n    const p2 = this.centerPoint._sub(p)._rotate(-this.angle);\n    return this.unproject(this.point.sub(p2));\n  }\n}\n","import Point from '@mapbox/point-geometry';\n\nimport LatLng from './lat_lng';\nimport Transform from './transform';\n\nexport default class Geo {\n  constructor(tileSize) {\n    // left_top view пользует гугл\n    // super();\n    this.hasSize_ = false;\n    this.hasView_ = false;\n    this.transform_ = new Transform(tileSize || 512);\n  }\n\n  setView(center, zoom, bearing) {\n    this.transform_.center = LatLng.convert(center);\n    this.transform_.zoom = +zoom;\n    this.transform_.bearing = +bearing;\n    this.hasView_ = true;\n  }\n\n  setViewSize(width, height) {\n    this.transform_.width = width;\n    this.transform_.height = height;\n    this.hasSize_ = true;\n  }\n\n  setMapCanvasProjection(maps, mapCanvasProjection) {\n    this.maps_ = maps;\n    this.mapCanvasProjection_ = mapCanvasProjection;\n  }\n\n  canProject() {\n    return this.hasSize_ && this.hasView_;\n  }\n\n  hasSize() {\n    return this.hasSize_;\n  }\n\n  /** Returns the pixel position relative to the map center. */\n  fromLatLngToCenterPixel(ptLatLng) {\n    return this.transform_.locationPoint(LatLng.convert(ptLatLng));\n  }\n\n  /**\n   * Returns the pixel position relative to the map panes,\n   * or relative to the map center if there are no panes.\n   */\n  fromLatLngToDivPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      const latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToDivPixel(latLng);\n    }\n    return this.fromLatLngToCenterPixel(ptLatLng);\n  }\n\n  /** Returns the pixel position relative to the map top-left. */\n  fromLatLngToContainerPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      const latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToContainerPixel(latLng);\n    }\n\n    const pt = this.fromLatLngToCenterPixel(ptLatLng);\n    pt.x -=\n      this.transform_.worldSize * Math.round(pt.x / this.transform_.worldSize);\n\n    pt.x += this.transform_.width / 2;\n    pt.y += this.transform_.height / 2;\n\n    return pt;\n  }\n\n  /** Returns the LatLng for the given offset from the map top-left. */\n  fromContainerPixelToLatLng(ptXY) {\n    if (this.mapCanvasProjection_) {\n      const latLng = this.mapCanvasProjection_.fromContainerPixelToLatLng(ptXY);\n      return { lat: latLng.lat(), lng: latLng.lng() };\n    }\n\n    const ptxy = { ...ptXY };\n    ptxy.x -= this.transform_.width / 2;\n    ptxy.y -= this.transform_.height / 2;\n    const ptRes = this.transform_.pointLocation(Point.convert(ptxy));\n\n    ptRes.lng -= 360 * Math.round(ptRes.lng / 360); // convert 2 google format\n    return ptRes;\n  }\n\n  getWidth() {\n    return this.transform_.width;\n  }\n\n  getHeight() {\n    return this.transform_.height;\n  }\n\n  getZoom() {\n    return this.transform_.zoom;\n  }\n\n  getCenter() {\n    const ptRes = this.transform_.pointLocation({ x: 0, y: 0 });\n\n    return ptRes;\n  }\n\n  getBounds(margins, roundFactor) {\n    const bndT = (margins && margins[0]) || 0;\n    const bndR = (margins && margins[1]) || 0;\n    const bndB = (margins && margins[2]) || 0;\n    const bndL = (margins && margins[3]) || 0;\n\n    if (\n      this.getWidth() - bndR - bndL > 0 &&\n      this.getHeight() - bndT - bndB > 0\n    ) {\n      const topLeftCorner = this.transform_.pointLocation(\n        Point.convert({\n          x: bndL - this.getWidth() / 2,\n          y: bndT - this.getHeight() / 2,\n        })\n      );\n      const bottomRightCorner = this.transform_.pointLocation(\n        Point.convert({\n          x: this.getWidth() / 2 - bndR,\n          y: this.getHeight() / 2 - bndB,\n        })\n      );\n\n      let res = [\n        topLeftCorner.lat,\n        topLeftCorner.lng, // NW\n        bottomRightCorner.lat,\n        bottomRightCorner.lng, // SE\n        bottomRightCorner.lat,\n        topLeftCorner.lng, // SW\n        topLeftCorner.lat,\n        bottomRightCorner.lng, // NE\n      ];\n\n      if (roundFactor) {\n        res = res.map((r) => Math.round(r * roundFactor) / roundFactor);\n      }\n      return res;\n    }\n\n    return [0, 0, 0, 0];\n  }\n}\n","export default function raf(callback) {\n  if (window.requestAnimationFrame) {\n    return window.requestAnimationFrame(callback);\n  }\n\n  const nativeRaf =\n    window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n\n  return nativeRaf\n    ? nativeRaf(callback)\n    : window.setTimeout(callback, 1e3 / 60);\n}\n","const log2 = Math.log2 ? Math.log2 : (x) => Math.log(x) / Math.LN2;\n\nexport default log2;\n","// source taken from https://github.com/rackt/redux/blob/master/src/utils/pick.js\n\nexport default function pick(obj, fn) {\n  return Object.keys(obj).reduce((result, key) => {\n    if (fn(obj[key])) {\n        result[key] = obj[key]; // eslint-disable-line\n    }\n    return result;\n  }, {});\n}\n","const isEmpty = (val) => {\n  // check for empty object {}, array []\n  if (val !== null && typeof val === 'object') {\n    if (Object.keys(val).length === 0) {\n      return true;\n    }\n  } else if (val === null || val === undefined || val === '') {\n    // check for undefined, null and \"\"\n    return true;\n  }\n  return false;\n};\n\nexport default isEmpty;\n","function isObjectLike(value) {\n  return !!value && typeof value === 'object';\n}\n\nconst objectToString = Object.prototype.toString;\n\nexport default function isNumber(value) {\n  const numberTag = '[object Number]';\n  return (\n    typeof value === 'number' ||\n    (isObjectLike(value) && objectToString.call(value) === numberTag)\n  );\n}\n","// http://stackoverflow.com/questions/5899783/detect-safari-chrome-ie-firefox-opera-with-user-agent\nlet detectBrowserResult_ = null;\n\nexport default function detectBrowser() {\n  if (detectBrowserResult_) {\n    return detectBrowserResult_;\n  }\n\n  if (typeof navigator !== 'undefined') {\n    const isExplorer = navigator.userAgent.indexOf('MSIE') > -1;\n    const isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n    const isOpera = navigator.userAgent.toLowerCase().indexOf('op') > -1;\n\n    let isChrome = navigator.userAgent.indexOf('Chrome') > -1;\n    let isSafari = navigator.userAgent.indexOf('Safari') > -1;\n\n    if (isChrome && isSafari) {\n      isSafari = false;\n    }\n\n    if (isChrome && isOpera) {\n      isChrome = false;\n    }\n\n    detectBrowserResult_ = {\n      isExplorer,\n      isFirefox,\n      isOpera,\n      isChrome,\n      isSafari,\n    };\n    return detectBrowserResult_;\n  }\n\n  detectBrowserResult_ = {\n    isChrome: true,\n    isExplorer: false,\n    isFirefox: false,\n    isOpera: false,\n    isSafari: false,\n  };\n\n  return detectBrowserResult_;\n}\n","// source taken from https://github.com/rackt/redux/blob/master/src/utils/isPlainObject.js\nconst fnToString = (fn) => Function.prototype.toString.call(fn);\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nexport default function isPlainObject(obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  const proto =\n    typeof obj.constructor === 'function'\n      ? Object.getPrototypeOf(obj)\n      : Object.prototype;\n\n  if (proto === null) {\n    return true;\n  }\n\n  const constructor = proto.constructor;\n\n  return (\n    typeof constructor === 'function' &&\n    constructor instanceof constructor &&\n    fnToString(constructor) === fnToString(Object)\n  );\n}\n","// feature detection for passive support\n// see: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nfunction hasPassiveSupport() {\n  let passiveSupported = false;\n\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      get() {\n        passiveSupported = true;\n      },\n    });\n\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, options);\n  } catch (err) {\n    passiveSupported = false;\n  }\n\n  return passiveSupported;\n}\n\nexport default function addPassiveEventListener(\n  element,\n  eventName,\n  func,\n  capture\n) {\n  element.addEventListener(\n    eventName,\n    func,\n    hasPassiveSupport()\n      ? {\n          capture,\n          passive: true,\n        }\n      : capture\n  );\n}\n","/* eslint-disable */\n/**\n* Detect Element Resize.\n* Forked in order to guard against unsafe 'window' and 'document' references.\n*\n* https://github.com/sdecima/javascript-detect-element-resize\n* Sebastian Decima\n*\n* version: 0.5.3\n**/\n\nimport addPassiveEventListener from './passiveEvents';\n\n// Reliable `window` and `document` detection\nvar canUseDOM = !!(typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement);\n\n// Check `document` and `window` in case of server-side rendering\nvar _window;\nif (canUseDOM) {\n  _window = window;\n} else if (typeof self !== 'undefined') {\n  _window = self;\n} else {\n  _window = this;\n}\n\nvar attachEvent = typeof document !== 'undefined' && document.attachEvent;\nvar stylesCreated = false;\n\nif (canUseDOM && !attachEvent) {\n  var requestFrame = (function () {\n    var raf = _window.requestAnimationFrame ||\n      _window.mozRequestAnimationFrame ||\n      _window.webkitRequestAnimationFrame ||\n      function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n    return function (fn) {\n      return raf(fn);\n    };\n  })();\n\n  var cancelFrame = (function () {\n    var cancel = _window.cancelAnimationFrame ||\n      _window.mozCancelAnimationFrame ||\n      _window.webkitCancelAnimationFrame ||\n      _window.clearTimeout;\n    return function (id) {\n      return cancel(id);\n    };\n  })();\n\n  var resetTriggers = function (element) {\n    var triggers = element.__resizeTriggers__,\n      expand = triggers.firstElementChild,\n      contract = triggers.lastElementChild,\n      expandChild = expand.firstElementChild;\n    contract.scrollLeft = contract.scrollWidth;\n    contract.scrollTop = contract.scrollHeight;\n    expandChild.style.width = expand.offsetWidth + 1 + 'px';\n    expandChild.style.height = expand.offsetHeight + 1 + 'px';\n    expand.scrollLeft = expand.scrollWidth;\n    expand.scrollTop = expand.scrollHeight;\n  };\n\n  var checkTriggers = function (element) {\n    return element.offsetWidth != element.__resizeLast__.width ||\n      element.offsetHeight != element.__resizeLast__.height;\n  };\n\n  var scrollListener = function (e) {\n    var element = this;\n    resetTriggers(this);\n    if (this.__resizeRAF__) cancelFrame(this.__resizeRAF__);\n    this.__resizeRAF__ = requestFrame(function () {\n      if (checkTriggers(element)) {\n        element.__resizeLast__.width = element.offsetWidth;\n        element.__resizeLast__.height = element.offsetHeight;\n        element.__resizeListeners__.forEach(function (fn) {\n          fn.call(element, e);\n        });\n      }\n    });\n  };\n\n  /* Detect CSS Animations support to detect element display/re-attach */\n  var animation = false,\n    animationstring = 'animation',\n    keyframeprefix = '',\n    animationstartevent = 'animationstart',\n    domPrefixes = 'Webkit Moz O ms'.split(' '),\n    startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(\n      ' '\n    ),\n    pfx = '';\n\n  if (canUseDOM) {\n    var elm = document.createElement('fakeelement');\n    if (elm.style.animationName !== undefined) {\n      animation = true;\n    }\n\n    if (animation === false) {\n      for (var i = 0; i < domPrefixes.length; i++) {\n        if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n          pfx = domPrefixes[i];\n          animationstring = pfx + 'Animation';\n          keyframeprefix = '-' + pfx.toLowerCase() + '-';\n          animationstartevent = startEvents[i];\n          animation = true;\n          break;\n        }\n      }\n    }\n  }\n\n  var animationName = 'resizeanim';\n  var animationKeyframes = '@' +\n    keyframeprefix +\n    'keyframes ' +\n    animationName +\n    ' { from { opacity: 0; } to { opacity: 0; } } ';\n  var animationStyle = keyframeprefix +\n    'animation: 1ms ' +\n    animationName +\n    '; ';\n}\n\nvar createStyles = function () {\n  if (!stylesCreated) {\n    //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n    var css = (animationKeyframes ? animationKeyframes : '') +\n      '.resize-triggers { ' +\n      (animationStyle ? animationStyle : '') +\n      'visibility: hidden; opacity: 0; } ' +\n      '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n      head = document.head || document.getElementsByTagName('head')[0],\n      style = document.createElement('style');\n\n    style.type = 'text/css';\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n\n    head.appendChild(style);\n    stylesCreated = true;\n  }\n};\n\nvar addResizeListener = function (element, fn) {\n  if (element.parentNode === undefined) {\n    var tempParentDiv = document.createElement('div');\n    element.parentNode = tempParentDiv;\n  }\n  element = element.parentNode;\n  if (attachEvent)\n    element.attachEvent('onresize', fn);\n  else {\n    if (!element.__resizeTriggers__) {\n      if (getComputedStyle(element).position == 'static')\n        element.style.position = 'relative';\n      createStyles();\n      element.__resizeLast__ = {};\n      element.__resizeListeners__ = [];\n      (element.__resizeTriggers__ = document.createElement(\n        'div'\n      )).className = 'resize-triggers';\n      element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' +\n        '<div class=\"contract-trigger\"></div>';\n      element.appendChild(element.__resizeTriggers__);\n      resetTriggers(element);\n\n      addPassiveEventListener(element, 'scroll', scrollListener, true);\n\n      /* Listen for a css animation to detect element display/re-attach */\n      animationstartevent &&\n        element.__resizeTriggers__.addEventListener(\n          animationstartevent,\n          function (e) {\n            if (e.animationName == animationName) resetTriggers(element);\n          }\n        );\n    }\n    element.__resizeListeners__.push(fn);\n  }\n};\n\nvar removeResizeListener = function (element, fn) {\n  element = element.parentNode;\n  if (attachEvent)\n    element.detachEvent('onresize', fn);\n  else {\n    element.__resizeListeners__.splice(\n      element.__resizeListeners__.indexOf(fn),\n      1\n    );\n    if (!element.__resizeListeners__.length) {\n      element.removeEventListener('scroll', scrollListener);\n      element.__resizeTriggers__ = !element.removeChild(\n        element.__resizeTriggers__\n      );\n    }\n  }\n};\n\nexport {\n  addResizeListener,\n  removeResizeListener,\n};\n","/* eslint-disable import/no-extraneous-dependencies, react/forbid-prop-types, react/no-find-dom-node, no-console, no-undef */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\n// helpers\nimport GoogleMapMap from './google_map_map';\nimport MarkerDispatcher from './marker_dispatcher';\nimport GoogleMapMarkers from './google_map_markers';\nimport GoogleMapMarkersPrerender from './google_map_markers_prerender';\nimport { generateHeatmap, optionsHeatmap } from './google_heatmap';\n\n// loaders\nimport googleMapLoader from './loaders/google_map_loader';\n\n// lib\nimport Geo from './lib/geo';\n\n// tools\nimport raf from './utils/raf';\nimport log2 from './utils/log2';\nimport omit from './utils/omit';\nimport pick from './utils/pick';\nimport isEmpty from './utils/isEmpty';\nimport isNumber from './utils/isNumber';\nimport detectBrowser from './utils/detect';\nimport shallowEqual from './utils/shallowEqual';\nimport isPlainObject from './utils/isPlainObject';\nimport isArraysEqualEps from './utils/isArraysEqualEps';\nimport {\n  addResizeListener,\n  removeResizeListener,\n} from './utils/detectElementResize';\nimport addPassiveEventListener from './utils/passiveEvents';\n\n// consts\nconst kEPS = 0.00001;\nconst K_GOOGLE_TILE_SIZE = 256;\n// real minZoom calculated here _getMinZoom\nconst K_IDLE_TIMEOUT = 100;\nconst K_IDLE_CLICK_TIMEOUT = 300;\nconst DEFAULT_MIN_ZOOM = 3;\n// Starting with version 3.32, the maps API calls `draw()` each frame during\n// a zoom animation.\nconst DRAW_CALLED_DURING_ANIMATION_VERSION = 32;\nconst IS_REACT_16 = ReactDOM.createPortal !== undefined;\n\nconst createPortal = IS_REACT_16\n  ? ReactDOM.createPortal\n  : ReactDOM.unstable_renderSubtreeIntoContainer;\n\nfunction defaultOptions_(/* maps */) {\n  return {\n    overviewMapControl: false,\n    streetViewControl: false,\n    rotateControl: true,\n    mapTypeControl: false,\n    // disable poi\n    styles: [\n      {\n        featureType: 'poi',\n        elementType: 'labels',\n        stylers: [{ visibility: 'off' }],\n      },\n    ],\n    minZoom: DEFAULT_MIN_ZOOM, // dynamically recalculted if possible during init\n  };\n}\n\nconst latLng2Obj = (latLng) =>\n  isPlainObject(latLng) ? latLng : { lat: latLng[0], lng: latLng[1] };\n\nconst _checkMinZoom = (zoom, minZoom) => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (zoom < minZoom) {\n      console.warn(\n        'GoogleMap: ' + // eslint-disable-line\n          'minZoom option is less than recommended ' +\n          'minZoom option for your map sizes.\\n' +\n          'overrided to value ' +\n          minZoom\n      );\n    }\n  }\n\n  if (minZoom < zoom) {\n    return zoom;\n  }\n  return minZoom;\n};\n\nconst isFullScreen = () =>\n  document.fullscreen ||\n  document.webkitIsFullScreen ||\n  document.mozFullScreen ||\n  document.msFullscreenElement;\n\nclass GoogleMap extends Component {\n  static propTypes = {\n    apiKey: PropTypes.string,\n    bootstrapURLKeys: PropTypes.any,\n\n    defaultCenter: PropTypes.oneOfType([\n      PropTypes.array,\n      PropTypes.shape({\n        lat: PropTypes.number,\n        lng: PropTypes.number,\n      }),\n    ]),\n    center: PropTypes.oneOfType([\n      PropTypes.array,\n      PropTypes.shape({\n        lat: PropTypes.number,\n        lng: PropTypes.number,\n      }),\n    ]),\n    defaultZoom: PropTypes.number,\n    zoom: PropTypes.number,\n    onBoundsChange: PropTypes.func,\n    onChange: PropTypes.func,\n    onClick: PropTypes.func,\n    onChildClick: PropTypes.func,\n    onChildMouseDown: PropTypes.func,\n    onChildMouseUp: PropTypes.func,\n    onChildMouseMove: PropTypes.func,\n    onChildMouseEnter: PropTypes.func,\n    onChildMouseLeave: PropTypes.func,\n    onZoomAnimationStart: PropTypes.func,\n    onZoomAnimationEnd: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onMapTypeIdChange: PropTypes.func,\n    onTilesLoaded: PropTypes.func,\n    options: PropTypes.any,\n    distanceToMouse: PropTypes.func,\n    hoverDistance: PropTypes.number,\n    debounced: PropTypes.bool,\n    margin: PropTypes.array,\n    googleMapLoader: PropTypes.any,\n    onGoogleApiLoaded: PropTypes.func,\n    yesIWantToUseGoogleMapApiInternals: PropTypes.bool,\n    draggable: PropTypes.bool,\n    style: PropTypes.any,\n    resetBoundsOnResize: PropTypes.bool,\n    layerTypes: PropTypes.arrayOf(PropTypes.string), // ['TransitLayer', 'TrafficLayer']\n    shouldUnregisterMapOnUnmount: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    distanceToMouse(pt, mousePos /* , markerProps */) {\n      return Math.sqrt(\n        (pt.x - mousePos.x) * (pt.x - mousePos.x) +\n          (pt.y - mousePos.y) * (pt.y - mousePos.y)\n      );\n    },\n    hoverDistance: 30,\n    debounced: true,\n    options: defaultOptions_,\n    googleMapLoader,\n    yesIWantToUseGoogleMapApiInternals: false,\n    style: {\n      width: '100%',\n      height: '100%',\n      margin: 0,\n      padding: 0,\n      position: 'relative',\n    },\n    layerTypes: [],\n    heatmap: {},\n    heatmapLibrary: false,\n    shouldUnregisterMapOnUnmount: true,\n  };\n\n  static googleMapLoader = googleMapLoader; // eslint-disable-line\n\n  constructor(props) {\n    super(props);\n    this.mounted_ = false;\n    this.initialized_ = false;\n    this.googleApiLoadedCalled_ = false;\n\n    this.map_ = null;\n    this.maps_ = null;\n    this.prevBounds_ = null;\n    this.heatmap = null;\n\n    this.layers_ = {};\n\n    this.mouse_ = null;\n    this.mouseMoveTime_ = 0;\n    this.boundingRect_ = null;\n    this.mouseInMap_ = true;\n\n    this.dragTime_ = 0;\n    this.fireMouseEventOnIdle_ = false;\n    this.updateCounter_ = 0;\n\n    this.markersDispatcher_ = new MarkerDispatcher(this);\n    this.geoService_ = new Geo(K_GOOGLE_TILE_SIZE);\n    this.centerIsObject_ = isPlainObject(this.props.center);\n\n    this.minZoom_ = DEFAULT_MIN_ZOOM;\n    this.defaultDraggableOption_ = true;\n\n    this.zoomControlClickTime_ = 0;\n\n    this.childMouseDownArgs_ = null;\n    this.childMouseUpTime_ = 0;\n\n    this.googleMapDom_ = null;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.props.apiKey) {\n        console.warn(\n          'GoogleMap: ' + // eslint-disable-line no-console\n            'apiKey is deprecated, use ' +\n            'bootstrapURLKeys={{key: YOUR_API_KEY}} instead.'\n        );\n      }\n\n      if (this.props.onBoundsChange) {\n        console.warn(\n          'GoogleMap: ' + // eslint-disable-line no-console\n            'onBoundsChange is deprecated, use ' +\n            'onChange({center, zoom, bounds, ...other}) instead.'\n        );\n      }\n\n      if (isEmpty(this.props.center) && isEmpty(this.props.defaultCenter)) {\n        console.warn(\n          'GoogleMap: center or defaultCenter property must be defined' // eslint-disable-line no-console\n        );\n      }\n\n      if (isEmpty(this.props.zoom) && isEmpty(this.props.defaultZoom)) {\n        console.warn(\n          'GoogleMap: zoom or defaultZoom property must be defined' // eslint-disable-line no-console\n        );\n      }\n    }\n\n    if (this._isCenterDefined(this.props.center || this.props.defaultCenter)) {\n      const propsCenter = latLng2Obj(\n        this.props.center || this.props.defaultCenter\n      );\n      this.geoService_.setView(\n        propsCenter,\n        this.props.zoom || this.props.defaultZoom,\n        0\n      );\n    }\n\n    this.zoomAnimationInProgress_ = false;\n\n    this.state = {\n      overlay: null,\n    };\n  }\n\n  componentDidMount() {\n    this.mounted_ = true;\n    addPassiveEventListener(window, 'resize', this._onWindowResize, false);\n    addPassiveEventListener(window, 'keydown', this._onKeyDownCapture, true);\n    const mapDom = ReactDOM.findDOMNode(this.googleMapDom_);\n    // gmap can't prevent map drag if mousedown event already occured\n    // the only workaround I find is prevent mousedown native browser event\n\n    if (mapDom) {\n      addPassiveEventListener(\n        mapDom,\n        'mousedown',\n        this._onMapMouseDownNative,\n        true\n      );\n    }\n\n    addPassiveEventListener(window, 'mouseup', this._onChildMouseUp, false);\n    const bootstrapURLKeys = {\n      ...(this.props.apiKey && { key: this.props.apiKey }),\n      ...this.props.bootstrapURLKeys,\n    };\n\n    this.props.googleMapLoader(bootstrapURLKeys, this.props.heatmapLibrary); // we can start load immediatly\n\n    setTimeout(\n      () => {\n        // to detect size\n        this._setViewSize();\n        if (\n          this._isCenterDefined(this.props.center || this.props.defaultCenter)\n        ) {\n          this._initMap();\n        }\n      },\n      0,\n      this\n    );\n    if (this.props.resetBoundsOnResize) {\n      const that = this;\n      addResizeListener(mapDom, that._mapDomResizeCallback);\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // draggable does not affect inner components\n    return (\n      !shallowEqual(\n        omit(this.props, ['draggable']),\n        omit(nextProps, ['draggable'])\n      ) || !shallowEqual(this.state, nextState)\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!shallowEqual(prevProps.defaultCenter, this.props.defaultCenter)) {\n        console.warn(\n          \"GoogleMap: defaultCenter prop changed. You can't change default props.\"\n        );\n      }\n\n      if (!shallowEqual(prevProps.defaultZoom, this.props.defaultZoom)) {\n        console.warn(\n          \"GoogleMap: defaultZoom prop changed. You can't change default props.\"\n        );\n      }\n    }\n\n    if (\n      !this._isCenterDefined(prevProps.center) &&\n      this._isCenterDefined(this.props.center)\n    ) {\n      setTimeout(() => this._initMap(), 0);\n    }\n\n    if (this.map_) {\n      const centerLatLng = this.geoService_.getCenter();\n      if (this._isCenterDefined(this.props.center)) {\n        const currentCenter = latLng2Obj(this.props.center);\n        const prevCenter = this._isCenterDefined(prevProps.center)\n          ? latLng2Obj(prevProps.center)\n          : null;\n\n        if (\n          !prevCenter ||\n          Math.abs(currentCenter.lat - prevCenter.lat) +\n            Math.abs(currentCenter.lng - prevCenter.lng) >\n            kEPS\n        ) {\n          if (\n            Math.abs(currentCenter.lat - centerLatLng.lat) +\n              Math.abs(currentCenter.lng - centerLatLng.lng) >\n            kEPS\n          ) {\n            this.map_.panTo({\n              lat: currentCenter.lat,\n              lng: currentCenter.lng,\n            });\n          }\n        }\n      }\n\n      if (!isEmpty(this.props.zoom)) {\n        // if zoom chaged by user\n        if (Math.abs(this.props.zoom - prevProps.zoom) > 0) {\n          this.map_.setZoom(this.props.zoom);\n        }\n      }\n\n      if (!isEmpty(prevProps.draggable) && isEmpty(this.props.draggable)) {\n        // reset to default\n        this.map_.setOptions({ draggable: this.defaultDraggableOption_ });\n      } else if (!shallowEqual(prevProps.draggable, this.props.draggable)) {\n        // also prevent this on window 'mousedown' event to prevent map move\n        this.map_.setOptions({ draggable: this.props.draggable });\n      }\n\n      // use shallowEqual to try avoid calling map._setOptions if only the ref changes\n      if (\n        !isEmpty(this.props.options) &&\n        !shallowEqual(prevProps.options, this.props.options)\n      ) {\n        const mapPlainObjects = pick(this.maps_, isPlainObject);\n        let options =\n          typeof this.props.options === 'function'\n            ? this.props.options(mapPlainObjects)\n            : this.props.options;\n        // remove zoom, center and draggable options as these are managed by google-maps-react\n        options = omit(options, ['zoom', 'center', 'draggable']);\n\n        if ('minZoom' in options) {\n          const minZoom = this._computeMinZoom(options.minZoom);\n          options.minZoom = _checkMinZoom(options.minZoom, minZoom);\n        }\n\n        this.map_.setOptions(options);\n      }\n\n      if (!shallowEqual(this.props.layerTypes, prevProps.layerTypes)) {\n        Object.keys(this.layers_).forEach((layerKey) => {\n          this.layers_[layerKey].setMap(null);\n          delete this.layers_[layerKey];\n        });\n        this._setLayers(this.props.layerTypes);\n      }\n\n      if (\n        this.heatmap &&\n        !shallowEqual(this.props.heatmap.positions, prevProps.heatmap.positions)\n      ) {\n        this.heatmap.setData(\n          this.props.heatmap.positions.map((p) => ({\n            location: new this.maps_.LatLng(p.lat, p.lng),\n            weight: p.weight,\n          }))\n        );\n      }\n      if (\n        this.heatmap &&\n        !shallowEqual(this.props.heatmap.options, prevProps.heatmap.options)\n      ) {\n        Object.keys(this.props.heatmap.options).forEach((option) => {\n          this.heatmap.set(option, this.props.heatmap.options[option]);\n        });\n      }\n    }\n    // emit actions\n    this.markersDispatcher_.emit('kON_CHANGE');\n\n    if (!shallowEqual(this.props.hoverDistance, prevProps.hoverDistance)) {\n      this.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted_ = false;\n    const mapDom = ReactDOM.findDOMNode(this.googleMapDom_);\n    if (mapDom) {\n      mapDom.removeEventListener('mousedown', this._onMapMouseDownNative, true);\n    }\n    window.removeEventListener('resize', this._onWindowResize);\n    window.removeEventListener('keydown', this._onKeyDownCapture);\n    window.removeEventListener('mouseup', this._onChildMouseUp, false);\n    if (this.props.resetBoundsOnResize) {\n      removeResizeListener(mapDom, this._mapDomResizeCallback);\n    }\n\n    if (this.overlay_) {\n      // this triggers overlay_.onRemove(), which will unmount the <GoogleMapMarkers/>\n      this.overlay_.setMap(null);\n    }\n\n    if (this.maps_ && this.map_ && this.props.shouldUnregisterMapOnUnmount) {\n      // fix google, as otherwise listeners works even without map\n      this.map_.setOptions({ scrollwheel: false });\n      this.maps_.event.clearInstanceListeners(this.map_);\n    }\n\n    if (this.props.shouldUnregisterMapOnUnmount) {\n      this.map_ = null;\n      this.maps_ = null;\n    }\n    this.markersDispatcher_.dispose();\n\n    this.resetSizeOnIdle_ = false;\n\n    if (this.props.shouldUnregisterMapOnUnmount) {\n      delete this.map_;\n      delete this.markersDispatcher_;\n    }\n  }\n\n  // calc minZoom if map size available\n  // it's better to not set minZoom less than this calculation gives\n  // otherwise there is no homeomorphism between screen coordinates and map\n  // (one map coordinate can have different screen coordinates)\n  _getMinZoom = () => {\n    if (this.geoService_.getWidth() > 0 || this.geoService_.getHeight() > 0) {\n      const tilesPerWidth =\n        Math.ceil(this.geoService_.getWidth() / K_GOOGLE_TILE_SIZE) + 2;\n      const tilesPerHeight =\n        Math.ceil(this.geoService_.getHeight() / K_GOOGLE_TILE_SIZE) + 2;\n      const maxTilesPerDim = Math.max(tilesPerWidth, tilesPerHeight);\n      return Math.ceil(log2(maxTilesPerDim));\n    }\n    return DEFAULT_MIN_ZOOM;\n  };\n\n  _computeMinZoom = (minZoom) => {\n    if (!isEmpty(minZoom)) {\n      return minZoom;\n    }\n    return this._getMinZoom();\n  };\n\n  _mapDomResizeCallback = () => {\n    this.resetSizeOnIdle_ = true;\n    if (this.maps_) {\n      const originalCenter = this.props.center || this.props.defaultCenter;\n      const currentCenter = this.map_.getCenter();\n      this.maps_.event.trigger(this.map_, 'resize');\n      this.map_.setCenter(\n        this.props.resetBoundsOnResize ? originalCenter : currentCenter\n      );\n    }\n  };\n\n  _setLayers = (layerTypes) => {\n    layerTypes.forEach((layerType) => {\n      this.layers_[layerType] = new this.maps_[layerType]();\n      this.layers_[layerType].setMap(this.map_);\n    });\n  };\n\n  _renderPortal = () => (\n    <GoogleMapMarkers\n      experimental={this.props.experimental}\n      onChildClick={this._onChildClick}\n      onChildMouseDown={this._onChildMouseDown}\n      onChildMouseEnter={this._onChildMouseEnter}\n      onChildMouseLeave={this._onChildMouseLeave}\n      geoService={this.geoService_}\n      insideMapPanes\n      distanceToMouse={this.props.distanceToMouse}\n      getHoverDistance={this._getHoverDistance}\n      dispatcher={this.markersDispatcher_}\n    />\n  );\n\n  _initMap = () => {\n    // only initialize the map once\n    if (this.initialized_) {\n      return;\n    }\n    this.initialized_ = true;\n\n    const propsCenter = latLng2Obj(\n      this.props.center || this.props.defaultCenter\n    );\n    this.geoService_.setView(\n      propsCenter,\n      this.props.zoom || this.props.defaultZoom,\n      0\n    );\n\n    this._onBoundsChanged(); // now we can calculate map bounds center etc...\n\n    const bootstrapURLKeys = {\n      ...(this.props.apiKey && { key: this.props.apiKey }),\n      ...this.props.bootstrapURLKeys,\n    };\n\n    this.props\n      .googleMapLoader(bootstrapURLKeys, this.props.heatmapLibrary)\n      .then((maps) => {\n        if (!this.mounted_) {\n          return;\n        }\n\n        const centerLatLng = this.geoService_.getCenter();\n\n        const propsOptions = {\n          zoom: this.props.zoom || this.props.defaultZoom,\n          center: new maps.LatLng(centerLatLng.lat, centerLatLng.lng),\n        };\n\n        // Start Heatmap\n        if (this.props.heatmap.positions) {\n          Object.assign(this, {\n            heatmap: generateHeatmap(maps, this.props.heatmap),\n          });\n          optionsHeatmap(this.heatmap, this.props.heatmap);\n        }\n        // End Heatmap\n\n        // prevent to exapose full api\n        // next props must be exposed (console.log(Object.keys(pick(maps, isPlainObject))))\n        // \"Animation\", \"ControlPosition\", \"MapTypeControlStyle\", \"MapTypeId\",\n        // \"NavigationControlStyle\", \"ScaleControlStyle\", \"StrokePosition\",\n        // \"SymbolPath\", \"ZoomControlStyle\",\n        // \"event\", \"DirectionsStatus\", \"DirectionsTravelMode\", \"DirectionsUnitSystem\",\n        // \"DistanceMatrixStatus\",\n        // \"DistanceMatrixElementStatus\", \"ElevationStatus\", \"GeocoderLocationType\",\n        // \"GeocoderStatus\", \"KmlLayerStatus\",\n        // \"MaxZoomStatus\", \"StreetViewStatus\", \"TransitMode\", \"TransitRoutePreference\",\n        // \"TravelMode\", \"UnitSystem\"\n        const mapPlainObjects = pick(maps, isPlainObject);\n        const options =\n          typeof this.props.options === 'function'\n            ? this.props.options(mapPlainObjects)\n            : this.props.options;\n        const defaultOptions = defaultOptions_(mapPlainObjects);\n\n        const draggableOptions = !isEmpty(this.props.draggable) && {\n          draggable: this.props.draggable,\n        };\n\n        const minZoom = this._computeMinZoom(options.minZoom);\n        this.minZoom_ = minZoom;\n\n        const preMapOptions = {\n          ...defaultOptions,\n          minZoom,\n          ...options,\n          ...propsOptions,\n        };\n\n        this.defaultDraggableOption_ = !isEmpty(preMapOptions.draggable)\n          ? preMapOptions.draggable\n          : this.defaultDraggableOption_;\n\n        const mapOptions = {\n          ...preMapOptions,\n          ...draggableOptions,\n        };\n\n        mapOptions.minZoom = _checkMinZoom(mapOptions.minZoom, minZoom);\n\n        const map = new maps.Map(\n          ReactDOM.findDOMNode(this.googleMapDom_),\n          mapOptions\n        );\n\n        this.map_ = map;\n        this.maps_ = maps;\n\n        this._setLayers(this.props.layerTypes);\n\n        // Parse `google.maps.version` to capture the major version number.\n        const versionMatch = maps.version.match(/^3\\.(\\d+)\\./);\n        // The major version is the first (and only) captured group.\n        const mapsVersion = versionMatch && Number(versionMatch[1]);\n\n        // render in overlay\n        const this_ = this;\n        const overlay = Object.assign(new maps.OverlayView(), {\n          onAdd() {\n            const K_MAX_WIDTH =\n              typeof screen !== 'undefined' ? `${screen.width}px` : '2000px';\n            const K_MAX_HEIGHT =\n              typeof screen !== 'undefined' ? `${screen.height}px` : '2000px';\n\n            const div = document.createElement('div');\n            div.style.backgroundColor = 'transparent';\n            div.style.position = 'absolute';\n            div.style.left = '0px';\n            div.style.top = '0px';\n            div.style.width = K_MAX_WIDTH; // prevents some chrome draw defects\n            div.style.height = K_MAX_HEIGHT;\n\n            if (this_.props.overlayViewDivStyle) {\n              const { overlayViewDivStyle } = this_.props;\n              if (typeof overlayViewDivStyle === 'object') {\n                Object.keys(overlayViewDivStyle).forEach((property) => {\n                  div.style[property] = overlayViewDivStyle[property];\n                });\n              }\n            }\n\n            const panes = this.getPanes();\n            panes.overlayMouseTarget.appendChild(div);\n            this_.geoService_.setMapCanvasProjection(\n              maps,\n              overlay.getProjection()\n            );\n\n            if (!IS_REACT_16) {\n              createPortal(\n                this_,\n                this_._renderPortal(),\n                div,\n                // remove prerendered markers\n                () => this_.setState({ overlay: div })\n              );\n            } else {\n              this_.setState({ overlay: div });\n            }\n          },\n\n          onRemove() {\n            const renderedOverlay = this_.state.overlay;\n            if (renderedOverlay && !IS_REACT_16) {\n              ReactDOM.unmountComponentAtNode(renderedOverlay);\n            }\n            this_.setState({ overlay: null });\n          },\n\n          draw() {\n            this_.updateCounter_++;\n            this_._onBoundsChanged(map, maps, !this_.props.debounced);\n\n            if (!this_.googleApiLoadedCalled_) {\n              this_._onGoogleApiLoaded({ map, maps, ref: this_.googleMapDom_ });\n              this_.googleApiLoadedCalled_ = true;\n            }\n\n            if (this_.mouse_) {\n              const latLng = this_.geoService_.fromContainerPixelToLatLng(\n                this_.mouse_\n              );\n              this_.mouse_.lat = latLng.lat;\n              this_.mouse_.lng = latLng.lng;\n            }\n\n            this_._onChildMouseMove();\n\n            if (this_.markersDispatcher_) {\n              this_.markersDispatcher_.emit('kON_CHANGE');\n              if (this_.fireMouseEventOnIdle_) {\n                this_.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n              }\n            }\n          },\n        });\n\n        this.overlay_ = overlay;\n\n        overlay.setMap(map);\n        if (this.props.heatmap.positions) {\n          this.heatmap.setMap(map);\n        }\n\n        if (this.props.onTilesLoaded) {\n          maps.event.addListener(map, 'tilesloaded', () => {\n            this_._onTilesLoaded();\n          });\n        }\n\n        maps.event.addListener(map, 'zoom_changed', () => {\n          // recalc position at zoom start\n          if (this_.geoService_.getZoom() !== map.getZoom()) {\n            if (!this_.zoomAnimationInProgress_) {\n              this_.zoomAnimationInProgress_ = true;\n              this_._onZoomAnimationStart(map.zoom);\n            }\n\n            // If draw() is not called each frame during a zoom animation,\n            // simulate it.\n            if (mapsVersion < DRAW_CALLED_DURING_ANIMATION_VERSION) {\n              const TIMEOUT_ZOOM = 300;\n\n              if (\n                new Date().getTime() - this.zoomControlClickTime_ <\n                TIMEOUT_ZOOM\n              ) {\n                // there is strange Google Map Api behavior in chrome when zoom animation of map\n                // is started only on second raf call, if was click on zoom control\n                // or +- keys pressed, so i wait for two rafs before change state\n\n                // this does not fully prevent animation jump\n                // but reduce it's occurence probability\n                raf(() =>\n                  raf(() => {\n                    this_.updateCounter_++;\n                    this_._onBoundsChanged(map, maps);\n                  })\n                );\n              } else {\n                this_.updateCounter_++;\n                this_._onBoundsChanged(map, maps);\n              }\n            }\n          }\n        });\n\n        maps.event.addListener(map, 'idle', () => {\n          if (this.resetSizeOnIdle_) {\n            this._setViewSize();\n            const currMinZoom = this._computeMinZoom(options.minZoom);\n\n            if (currMinZoom !== this.minZoom_) {\n              this.minZoom_ = currMinZoom;\n              map.setOptions({ minZoom: currMinZoom });\n            }\n\n            this.resetSizeOnIdle_ = false;\n          }\n\n          if (this_.zoomAnimationInProgress_) {\n            this_.zoomAnimationInProgress_ = false;\n            this_._onZoomAnimationEnd(map.zoom);\n          }\n\n          this_.updateCounter_++;\n          this_._onBoundsChanged(map, maps);\n\n          this_.dragTime_ = 0;\n\n          if (this_.markersDispatcher_) {\n            this_.markersDispatcher_.emit('kON_CHANGE');\n          }\n        });\n\n        maps.event.addListener(map, 'mouseover', () => {\n          // has advantage over div MouseLeave\n          this_.mouseInMap_ = true;\n        });\n\n        // an alternative way to know the mouse is back within the map\n        // This would not fire when clicking/interacting with google maps\n        // own on-map countrols+markers. This handles an edge case for touch devices\n        // + 'draggable:false' custom option. See #332 for more details.\n        maps.event.addListener(map, 'click', () => {\n          this_.mouseInMap_ = true;\n        });\n\n        maps.event.addListener(map, 'mouseout', () => {\n          // has advantage over div MouseLeave\n          this_.mouseInMap_ = false;\n          this_.mouse_ = null;\n          this_.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n        });\n\n        maps.event.addListener(map, 'drag', () => {\n          this_.dragTime_ = new Date().getTime();\n          this_._onDrag(map);\n        });\n\n        maps.event.addListener(map, 'dragend', () => {\n          // 'dragend' fires on mouse release.\n          // 'idle' listener waits until drag inertia ends before firing `onDragEnd`\n          const idleListener = maps.event.addListener(map, 'idle', () => {\n            maps.event.removeListener(idleListener);\n            this_._onDragEnd(map);\n          });\n        });\n        // user choosing satellite vs roads, etc\n        maps.event.addListener(map, 'maptypeid_changed', () => {\n          this_._onMapTypeIdChange(map.getMapTypeId());\n        });\n      })\n      .catch((e) => {\n        // notify callback of load failure\n        this._onGoogleApiLoaded({\n          map: null,\n          maps: null,\n          ref: this.googleMapDom_,\n        });\n        console.error(e); // eslint-disable-line no-console\n        throw e;\n      });\n  };\n\n  _onGoogleApiLoaded = (...args) => {\n    if (this.props.onGoogleApiLoaded) {\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        this.props.yesIWantToUseGoogleMapApiInternals !== true\n      ) {\n        console.warn(\n          'GoogleMap: ' + // eslint-disable-line\n            'Usage of internal api objects is dangerous ' +\n            'and can cause a lot of issues.\\n' +\n            'To hide this warning add yesIWantToUseGoogleMapApiInternals={true} ' +\n            'to <GoogleMap instance'\n        );\n      }\n\n      this.props.onGoogleApiLoaded(...args);\n    }\n  };\n\n  _getHoverDistance = () => this.props.hoverDistance;\n\n  _onDrag = (...args) => this.props.onDrag && this.props.onDrag(...args);\n\n  _onDragEnd = (...args) =>\n    this.props.onDragEnd && this.props.onDragEnd(...args);\n\n  _onMapTypeIdChange = (...args) =>\n    this.props.onMapTypeIdChange && this.props.onMapTypeIdChange(...args);\n\n  _onZoomAnimationStart = (...args) =>\n    this.props.onZoomAnimationStart && this.props.onZoomAnimationStart(...args);\n\n  _onZoomAnimationEnd = (...args) =>\n    this.props.onZoomAnimationEnd && this.props.onZoomAnimationEnd(...args);\n\n  _onTilesLoaded = () => this.props.onTilesLoaded && this.props.onTilesLoaded();\n\n  _onChildClick = (...args) => {\n    if (this.props.onChildClick) {\n      return this.props.onChildClick(...args);\n    }\n    return undefined;\n  };\n\n  _onChildMouseDown = (hoverKey, childProps) => {\n    this.childMouseDownArgs_ = [hoverKey, childProps];\n    if (this.props.onChildMouseDown) {\n      this.props.onChildMouseDown(hoverKey, childProps, { ...this.mouse_ });\n    }\n  };\n\n  // this method works only if this.props.onChildMouseDown was called\n  _onChildMouseUp = () => {\n    if (this.childMouseDownArgs_) {\n      if (this.props.onChildMouseUp) {\n        this.props.onChildMouseUp(...this.childMouseDownArgs_, {\n          ...this.mouse_,\n        });\n      }\n      this.childMouseDownArgs_ = null;\n      this.childMouseUpTime_ = new Date().getTime();\n    }\n  };\n\n  // this method works only if this.props.onChildMouseDown was called\n  _onChildMouseMove = () => {\n    if (this.childMouseDownArgs_) {\n      if (this.props.onChildMouseMove) {\n        this.props.onChildMouseMove(...this.childMouseDownArgs_, {\n          ...this.mouse_,\n        });\n      }\n    }\n  };\n\n  _onChildMouseEnter = (...args) => {\n    if (this.props.onChildMouseEnter) {\n      return this.props.onChildMouseEnter(...args);\n    }\n    return undefined;\n  };\n\n  _onChildMouseLeave = (...args) => {\n    if (this.props.onChildMouseLeave) {\n      return this.props.onChildMouseLeave(...args);\n    }\n    return undefined;\n  };\n\n  _setViewSize = () => {\n    if (!this.mounted_) return;\n    if (isFullScreen()) {\n      this.geoService_.setViewSize(window.innerWidth, window.innerHeight);\n    } else {\n      const mapDom = ReactDOM.findDOMNode(this.googleMapDom_);\n      this.geoService_.setViewSize(mapDom.clientWidth, mapDom.clientHeight);\n    }\n    this._onBoundsChanged();\n  };\n\n  _onWindowResize = () => {\n    this.resetSizeOnIdle_ = true;\n  };\n\n  _onMapMouseMove = (e) => {\n    if (!this.mouseInMap_) return;\n\n    const currTime = new Date().getTime();\n    const K_RECALC_CLIENT_RECT_MS = 50;\n\n    if (currTime - this.mouseMoveTime_ > K_RECALC_CLIENT_RECT_MS) {\n      this.boundingRect_ = e.currentTarget.getBoundingClientRect();\n    }\n    this.mouseMoveTime_ = currTime;\n\n    const mousePosX = e.clientX - this.boundingRect_.left;\n    const mousePosY = e.clientY - this.boundingRect_.top;\n\n    if (!this.mouse_) {\n      this.mouse_ = { x: 0, y: 0, lat: 0, lng: 0 };\n    }\n\n    this.mouse_.x = mousePosX;\n    this.mouse_.y = mousePosY;\n\n    const latLng = this.geoService_.fromContainerPixelToLatLng(this.mouse_);\n    this.mouse_.lat = latLng.lat;\n    this.mouse_.lng = latLng.lng;\n\n    this._onChildMouseMove();\n\n    if (currTime - this.dragTime_ < K_IDLE_TIMEOUT) {\n      this.fireMouseEventOnIdle_ = true;\n    } else {\n      this.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n      this.fireMouseEventOnIdle_ = false;\n    }\n  };\n\n  // K_IDLE_CLICK_TIMEOUT - looks like 300 is enough\n  _onClick = (...args) =>\n    this.props.onClick &&\n    !this.childMouseDownArgs_ &&\n    new Date().getTime() - this.childMouseUpTime_ > K_IDLE_CLICK_TIMEOUT &&\n    this.dragTime_ === 0 &&\n    this.props.onClick(...args);\n\n  _onMapClick = (event) => {\n    if (this.markersDispatcher_) {\n      // support touch events and recalculate mouse position on click\n      this._onMapMouseMove(event);\n      const currTime = new Date().getTime();\n      if (currTime - this.dragTime_ > K_IDLE_TIMEOUT) {\n        if (this.mouse_) {\n          this._onClick({\n            ...this.mouse_,\n            event,\n          });\n        }\n\n        this.markersDispatcher_.emit('kON_CLICK', event);\n      }\n    }\n  };\n\n  // gmap can't prevent map drag if mousedown event already occured\n  // the only workaround I find is prevent mousedown native browser event\n  _onMapMouseDownNative = (event) => {\n    if (!this.mouseInMap_) return;\n\n    this._onMapMouseDown(event);\n  };\n\n  _onMapMouseDown = (event) => {\n    if (this.markersDispatcher_) {\n      const currTime = new Date().getTime();\n      if (currTime - this.dragTime_ > K_IDLE_TIMEOUT) {\n        // Hovered marker detected at mouse move could be deleted at mouse down time\n        // so it will be good to force hovered marker recalculation\n        this._onMapMouseMove(event);\n        this.markersDispatcher_.emit('kON_MDOWN', event);\n      }\n    }\n  };\n\n  _onMapMouseDownCapture = () => {\n    if (detectBrowser().isChrome) {\n      // to fix strange zoom in chrome\n      this.zoomControlClickTime_ = new Date().getTime();\n    }\n  };\n\n  _onKeyDownCapture = () => {\n    if (detectBrowser().isChrome) {\n      this.zoomControlClickTime_ = new Date().getTime();\n    }\n  };\n\n  _isCenterDefined = (center) =>\n    center &&\n    ((isPlainObject(center) && isNumber(center.lat) && isNumber(center.lng)) ||\n      (center.length === 2 && isNumber(center[0]) && isNumber(center[1])));\n\n  _onBoundsChanged = (map, maps, callExtBoundsChange) => {\n    if (map) {\n      const gmC = map.getCenter();\n      this.geoService_.setView([gmC.lat(), gmC.lng()], map.getZoom(), 0);\n    }\n\n    if (\n      (this.props.onChange || this.props.onBoundsChange) &&\n      this.geoService_.canProject()\n    ) {\n      const zoom = this.geoService_.getZoom();\n      const bounds = this.geoService_.getBounds();\n      const centerLatLng = this.geoService_.getCenter();\n\n      if (!isArraysEqualEps(bounds, this.prevBounds_, kEPS)) {\n        if (callExtBoundsChange !== false) {\n          const marginBounds = this.geoService_.getBounds(this.props.margin);\n          if (this.props.onBoundsChange) {\n            this.props.onBoundsChange(\n              this.centerIsObject_\n                ? { ...centerLatLng }\n                : [centerLatLng.lat, centerLatLng.lng],\n              zoom,\n              bounds,\n              marginBounds\n            );\n          }\n\n          if (this.props.onChange) {\n            this.props.onChange({\n              center: { ...centerLatLng },\n              zoom,\n              bounds: {\n                nw: {\n                  lat: bounds[0],\n                  lng: bounds[1],\n                },\n                se: {\n                  lat: bounds[2],\n                  lng: bounds[3],\n                },\n                sw: {\n                  lat: bounds[4],\n                  lng: bounds[5],\n                },\n                ne: {\n                  lat: bounds[6],\n                  lng: bounds[7],\n                },\n              },\n              marginBounds: {\n                nw: {\n                  lat: marginBounds[0],\n                  lng: marginBounds[1],\n                },\n                se: {\n                  lat: marginBounds[2],\n                  lng: marginBounds[3],\n                },\n                sw: {\n                  lat: marginBounds[4],\n                  lng: marginBounds[5],\n                },\n                ne: {\n                  lat: marginBounds[6],\n                  lng: marginBounds[7],\n                },\n              },\n\n              size: this.geoService_.hasSize()\n                ? {\n                    width: this.geoService_.getWidth(),\n                    height: this.geoService_.getHeight(),\n                  }\n                : {\n                    width: 0,\n                    height: 0,\n                  },\n            });\n          }\n\n          this.prevBounds_ = bounds;\n        }\n      }\n    }\n  };\n\n  _registerChild = (ref) => {\n    this.googleMapDom_ = ref;\n  };\n\n  render() {\n    const overlay = this.state.overlay;\n    const mapMarkerPrerender = !overlay ? (\n      <GoogleMapMarkersPrerender\n        experimental={this.props.experimental}\n        onChildClick={this._onChildClick}\n        onChildMouseDown={this._onChildMouseDown}\n        onChildMouseEnter={this._onChildMouseEnter}\n        onChildMouseLeave={this._onChildMouseLeave}\n        geoService={this.geoService_}\n        insideMapPanes={false}\n        distanceToMouse={this.props.distanceToMouse}\n        getHoverDistance={this._getHoverDistance}\n        dispatcher={this.markersDispatcher_}\n      />\n    ) : null;\n\n    return (\n      <div\n        style={this.props.style}\n        onMouseMove={this._onMapMouseMove}\n        onMouseDownCapture={this._onMapMouseDownCapture}\n        onClick={this._onMapClick}\n      >\n        <GoogleMapMap registerChild={this._registerChild} />\n        {IS_REACT_16 && overlay && createPortal(this._renderPortal(), overlay)}\n\n        {/* render markers before map load done */}\n        {mapMarkerPrerender}\n      </div>\n    );\n  }\n}\n\nexport default GoogleMap;\n","export const generateHeatmap = (instance, { positions }) =>\n  new instance.visualization.HeatmapLayer({\n    data: positions.reduce((acc, { lat, lng, weight = 1 }) => {\n      acc.push({\n        location: new instance.LatLng(lat, lng),\n        weight,\n      });\n      return acc;\n    }, []),\n  });\n\nexport const optionsHeatmap = (instance, { options = {} }) =>\n  Object.keys(options).map((option) => instance.set(option, options[option]));\n","export default function isArraysEqualEps(arrayA, arrayB, eps) {\n  if (arrayA && arrayB) {\n    for (let i = 0; i !== arrayA.length; ++i) {\n      if (Math.abs(arrayA[i] - arrayB[i]) > eps) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/build/pdf\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/build/pdf\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/build/pdf\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __w_pdfjs_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__w_pdfjs_require__.m = modules;\n\n \t// expose the module cache\n \t__w_pdfjs_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__w_pdfjs_require__.d = function(exports, name, getter) {\n \t\tif(!__w_pdfjs_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__w_pdfjs_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__w_pdfjs_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __w_pdfjs_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__w_pdfjs_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __w_pdfjs_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__w_pdfjs_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__w_pdfjs_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__w_pdfjs_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__w_pdfjs_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __w_pdfjs_require__(__w_pdfjs_require__.s = 0);\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  addLinkAttributes,\n  getFilenameFromUrl,\n  isFetchSupported,\n  isValidFetchUrl,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  RenderingCancelledException,\n} from \"./display/display_utils.js\";\nimport {\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  setPDFNetworkStreamFactory,\n  version,\n} from \"./display/api.js\";\nimport {\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n} from \"./shared/util.js\";\nimport { AnnotationLayer } from \"./display/annotation_layer.js\";\nimport { apiCompatibilityParams } from \"./display/api_compatibility.js\";\nimport { GlobalWorkerOptions } from \"./display/worker_options.js\";\nimport { renderTextLayer } from \"./display/text_layer.js\";\nimport { SVGGraphics } from \"./display/svg.js\";\n\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsVersion =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : void 0;\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsBuild =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : void 0;\n\nif (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n  const streamsPromise = Promise.all([\n    import(\"pdfjs/display/network.js\"),\n    import(\"pdfjs/display/fetch_stream.js\"),\n  ]);\n  setPDFNetworkStreamFactory(params => {\n    return streamsPromise.then(streams => {\n      const [{ PDFNetworkStream }, { PDFFetchStream }] = streams;\n      if (isFetchSupported() && isValidFetchUrl(params.url)) {\n        return new PDFFetchStream(params);\n      }\n      return new PDFNetworkStream(params);\n    });\n  });\n} else if (PDFJSDev.test(\"GENERIC\")) {\n  const { isNodeJS } = require(\"./shared/is_node.js\");\n  if (isNodeJS) {\n    const PDFNodeStream = require(\"./display/node_stream.js\").PDFNodeStream;\n    setPDFNetworkStreamFactory(params => {\n      return new PDFNodeStream(params);\n    });\n  } else {\n    const PDFNetworkStream = require(\"./display/network.js\").PDFNetworkStream;\n    let PDFFetchStream;\n    if (isFetchSupported()) {\n      PDFFetchStream = require(\"./display/fetch_stream.js\").PDFFetchStream;\n    }\n    setPDFNetworkStreamFactory(params => {\n      if (PDFFetchStream && isValidFetchUrl(params.url)) {\n        return new PDFFetchStream(params);\n      }\n      return new PDFNetworkStream(params);\n    });\n  }\n} else if (PDFJSDev.test(\"CHROME\")) {\n  const PDFNetworkStream = require(\"./display/network.js\").PDFNetworkStream;\n  let PDFFetchStream;\n  const isChromeWithFetchCredentials = function () {\n    // fetch does not include credentials until Chrome 61.0.3138.0 and later.\n    // https://chromium.googlesource.com/chromium/src/+/2e231cf052ca5e68e22baf0008ac9e5e29121707\n    try {\n      // Indexed properties on window are read-only in Chrome 61.0.3151.0+\n      // https://chromium.googlesource.com/chromium/src.git/+/58ab4a971b06dec13e4edf9de8382ca6847f6190\n      window[999] = 123; // should throw. Note: JS strict mode MUST be enabled.\n      delete window[999];\n      return false;\n    } catch (e) {\n      return true;\n    }\n  };\n  if (isFetchSupported() && isChromeWithFetchCredentials()) {\n    PDFFetchStream = require(\"./display/fetch_stream.js\").PDFFetchStream;\n  }\n  setPDFNetworkStreamFactory(params => {\n    if (PDFFetchStream && isValidFetchUrl(params.url)) {\n      return new PDFFetchStream(params);\n    }\n    return new PDFNetworkStream(params);\n  });\n}\n\nexport {\n  // From \"./display/display_utils.js\":\n  addLinkAttributes,\n  getFilenameFromUrl,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  RenderingCancelledException,\n  // From \"./display/api.js\":\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  version,\n  // From \"./shared/util.js\":\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n  // From \"./display/annotation_layer.js\":\n  AnnotationLayer,\n  // From \"./display/api_compatibility.js\":\n  apiCompatibilityParams,\n  // From \"./display/worker_options.js\":\n  GlobalWorkerOptions,\n  // From \"./display/text_layer.js\":\n  renderTextLayer,\n  // From \"./display/svg.js\":\n  SVGGraphics,\n};\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  assert,\n  BaseException,\n  CMapCompressionType,\n  isString,\n  removeNullCharacters,\n  stringToBytes,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      unreachable(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n\n  create(width, height) {\n    unreachable(\"Abstract method `create` called.\");\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n}\n\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({ ownerDocument = globalThis.document } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    canvas.width = width;\n    canvas.height = height;\n    return {\n      canvas,\n      context,\n    };\n  }\n}\n\nclass BaseCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = false }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      unreachable(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({ name }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The CMap \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.'\n      );\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed\n      ? CMapCompressionType.BINARY\n      : CMapCompressionType.NONE;\n\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(\n        `Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`\n      );\n    });\n  }\n\n  /**\n   * @private\n   */\n  _fetchData(url, compressionType) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\n\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    if (\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      (isFetchSupported() && isValidFetchUrl(url, document.baseURI))\n    ) {\n      return fetch(url).then(async response => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        let cMapData;\n        if (this.isCompressed) {\n          cMapData = new Uint8Array(await response.arrayBuffer());\n        } else {\n          cMapData = stringToBytes(await response.text());\n        }\n        return { cMapData, compressionType };\n      });\n    }\n\n    // The Fetch API is not supported.\n    return new Promise((resolve, reject) => {\n      const request = new XMLHttpRequest();\n      request.open(\"GET\", url, true);\n\n      if (this.isCompressed) {\n        request.responseType = \"arraybuffer\";\n      }\n      request.onreadystatechange = () => {\n        if (request.readyState !== XMLHttpRequest.DONE) {\n          return;\n        }\n        if (request.status === 200 || request.status === 0) {\n          let cMapData;\n          if (this.isCompressed && request.response) {\n            cMapData = new Uint8Array(request.response);\n          } else if (!this.isCompressed && request.responseText) {\n            cMapData = stringToBytes(request.responseText);\n          }\n          if (cMapData) {\n            resolve({ cMapData, compressionType });\n            return;\n          }\n        }\n        reject(new Error(request.statusText));\n      };\n\n      request.send(null);\n    });\n  }\n}\n\nclass DOMSVGFactory {\n  create(width, height) {\n    assert(width > 0 && height > 0, \"Invalid SVG dimensions\");\n\n    const svg = document.createElementNS(SVG_NS, \"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    svg.setAttribute(\"width\", width + \"px\");\n    svg.setAttribute(\"height\", height + \"px\");\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n\n    return svg;\n  }\n\n  createElement(type) {\n    assert(typeof type === \"string\", \"Invalid SVG element type\");\n\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n/**\n * @typedef {Object} PageViewportParameters\n * @property {Array<number>} viewBox - The xMin, yMin, xMax and\n *   yMax coordinates.\n * @property {number} scale - The scale of the viewport.\n * @property {number} rotation - The rotation, in degrees, of the viewport.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset. The\n *   default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset. The\n *   default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * @typedef {Object} PageViewportCloneParameters\n * @property {number} [scale] - The scale, overriding the one in the cloned\n *   viewport. The default value is `this.scale`.\n * @property {number} [rotation] - The rotation, in degrees, overriding the one\n *   in the cloned viewport. The default value is `this.rotation`.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `this.offsetX`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `this.offsetY`.\n * @property {boolean} [dontFlip] - If true, the x-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n */\nclass PageViewport {\n  /**\n   * @param {PageViewportParameters}\n   */\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation = rotation % 360;\n    rotation = rotation < 0 ? rotation + 360 : rotation;\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\n          \"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\"\n        );\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY,\n    ];\n\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * Clones viewport, with optional additional properties.\n   * @param {PageViewportCloneParameters} [params]\n   * @returns {PageViewport} Cloned viewport.\n   */\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * Converts PDF point to the viewport coordinates. For examples, useful for\n   * converting PDF location into canvas pixel coordinates.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the viewport coordinate space.\n   * @see {@link convertToPdfPoint}\n   * @see {@link convertToViewportRectangle}\n   */\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n\n  /**\n   * Converts PDF rectangle to the viewport coordinates.\n   * @param {Array} rect - The xMin, yMin, xMax and yMax coordinates.\n   * @returns {Array} Array containing corresponding coordinates of the\n   *   rectangle in the viewport coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  /**\n   * Converts viewport coordinates to the PDF location. For examples, useful\n   * for converting canvas pixel location into PDF one.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the PDF coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\n\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, type) {\n    super(msg);\n    this.type = type;\n  }\n}\n\nconst LinkTarget = {\n  NONE: 0, // Default value.\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4,\n};\n\n/**\n * @typedef ExternalLinkParameters\n * @typedef {Object} ExternalLinkParameters\n * @property {string} url - An absolute URL.\n * @property {LinkTarget} [target] - The link target. The default value is\n *   `LinkTarget.NONE`.\n * @property {string} [rel] - The link relationship. The default value is\n *   `DEFAULT_LINK_REL`.\n * @property {boolean} [enabled] - Whether the link should be enabled. The\n *   default value is true.\n */\n\n/**\n * Adds various attributes (href, title, target, rel) to hyperlinks.\n * @param {HTMLLinkElement} link - The link element.\n * @param {ExternalLinkParameters} params\n */\nfunction addLinkAttributes(link, { url, target, rel, enabled = true } = {}) {\n  assert(\n    url && typeof url === \"string\",\n    'addLinkAttributes: A valid \"url\" parameter must provided.'\n  );\n\n  const urlNullRemoved = removeNullCharacters(url);\n  if (enabled) {\n    link.href = link.title = urlNullRemoved;\n  } else {\n    link.href = \"\";\n    link.title = `Disabled: ${urlNullRemoved}`;\n    link.onclick = () => {\n      return false;\n    };\n  }\n\n  let targetStr = \"\"; // LinkTarget.NONE\n  switch (target) {\n    case LinkTarget.NONE:\n      break;\n    case LinkTarget.SELF:\n      targetStr = \"_self\";\n      break;\n    case LinkTarget.BLANK:\n      targetStr = \"_blank\";\n      break;\n    case LinkTarget.PARENT:\n      targetStr = \"_parent\";\n      break;\n    case LinkTarget.TOP:\n      targetStr = \"_top\";\n      break;\n  }\n  link.target = targetStr;\n\n  link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n}\n\n/**\n * Gets the file name from a given URL.\n * @param {string} url\n */\nfunction getFilenameFromUrl(url) {\n  const anchor = url.indexOf(\"#\");\n  const query = url.indexOf(\"?\");\n  const end = Math.min(\n    anchor > 0 ? anchor : url.length,\n    query > 0 ? query : url.length\n  );\n  return url.substring(url.lastIndexOf(\"/\", end) + 1, end);\n}\n\nclass StatTimer {\n  constructor() {\n    this.started = Object.create(null);\n    this.times = [];\n  }\n\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now(),\n    });\n    // Remove timer from started so it can be called again.\n    delete this.started[name];\n  }\n\n  toString() {\n    // Find the longest name for padding purposes.\n    const outBuf = [];\n    let longest = 0;\n    for (const time of this.times) {\n      const name = time.name;\n      if (name.length > longest) {\n        longest = name.length;\n      }\n    }\n    for (const time of this.times) {\n      const duration = time.end - time.start;\n      outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\n\nfunction isFetchSupported() {\n  return (\n    typeof fetch !== \"undefined\" &&\n    typeof Response !== \"undefined\" &&\n    \"body\" in Response.prototype &&\n    typeof ReadableStream !== \"undefined\"\n  );\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const { protocol } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    // The Fetch API only supports the http/https protocols, and not file/ftp.\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch (ex) {\n    return false; // `new URL()` will throw on incorrect data.\n  }\n}\n\n/**\n * @param {string} src\n * @returns {Promise<void>}\n */\nfunction loadScript(src) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = resolve;\n    script.onerror = function () {\n      reject(new Error(`Cannot load script at: ${script.src}`));\n    };\n    (document.head || document.documentElement).appendChild(script);\n  });\n}\n\n// Deprecated API function -- display regardless of the `verbosity` setting.\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nlet pdfDateStringRegex;\n\nclass PDFDateString {\n  /**\n   * Convert a PDF date string to a JavaScript `Date` object.\n   *\n   * The PDF date string format is described in section 7.9.4 of the official\n   * PDF 32000-1:2008 specification. However, in the PDF 1.7 reference (sixth\n   * edition) Adobe describes the same format including a trailing apostrophe.\n   * This syntax in incorrect, but Adobe Acrobat creates PDF files that contain\n   * them. We ignore all apostrophes as they are not necessary for date parsing.\n   *\n   * Moreover, Adobe Acrobat doesn't handle changing the date to universal time\n   * and doesn't use the user's time zone (effectively ignoring the HH' and mm'\n   * parts of the date string).\n   *\n   * @param {string} input\n   * @returns {Date|null}\n   */\n  static toDateObject(input) {\n    if (!input || !isString(input)) {\n      return null;\n    }\n\n    // Lazily initialize the regular expression.\n    if (!pdfDateStringRegex) {\n      pdfDateStringRegex = new RegExp(\n        \"^D:\" + // Prefix (required)\n        \"(\\\\d{4})\" + // Year (required)\n        \"(\\\\d{2})?\" + // Month (optional)\n        \"(\\\\d{2})?\" + // Day (optional)\n        \"(\\\\d{2})?\" + // Hour (optional)\n        \"(\\\\d{2})?\" + // Minute (optional)\n        \"(\\\\d{2})?\" + // Second (optional)\n        \"([Z|+|-])?\" + // Universal time relation (optional)\n        \"(\\\\d{2})?\" + // Offset hour (optional)\n        \"'?\" + // Splitting apostrophe (optional)\n        \"(\\\\d{2})?\" + // Offset minute (optional)\n          \"'?\" // Trailing apostrophe (optional)\n      );\n    }\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n\nexport {\n  PageViewport,\n  RenderingCancelledException,\n  addLinkAttributes,\n  getFilenameFromUrl,\n  LinkTarget,\n  DEFAULT_LINK_REL,\n  BaseCanvasFactory,\n  DOMCanvasFactory,\n  BaseCMapReaderFactory,\n  DOMCMapReaderFactory,\n  DOMSVGFactory,\n  StatTimer,\n  isFetchSupported,\n  isValidFetchUrl,\n  loadScript,\n  deprecated,\n  PDFDateString,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport \"./compatibility.js\";\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\",\n};\n\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\",\n};\n\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\",\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\", // PDF short name is 'RL', but telemetry requires three chars.\n};\n\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nconst UNSUPPORTED_FEATURES = {\n  /** @deprecated unused */\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  /** @deprecated unused */\n  font: \"font\",\n  errorTilingPattern: \"errorTilingPattern\",\n  errorExtGState: \"errorExtGState\",\n  errorXObject: \"errorXObject\",\n  errorFontLoadType3: \"errorFontLoadType3\",\n  errorFontState: \"errorFontState\",\n  errorFontMissing: \"errorFontMissing\",\n  errorFontTranslate: \"errorFontTranslate\",\n  errorColorSpace: \"errorColorSpace\",\n  errorOperatorList: \"errorOperatorList\",\n  errorFontToUnicode: \"errorFontToUnicode\",\n  errorFontLoadNative: \"errorFontLoadNative\",\n  errorFontGetPath: \"errorFontGetPath\",\n  errorMarkedContent: \"errorMarkedContent\",\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  let base;\n  try {\n    base = new URL(baseUrl);\n    if (!base.origin || base.origin === \"null\") {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  const other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} baseUrl - An absolute URL.\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl) {\n  if (!url) {\n    return null;\n  }\n  try {\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = this.constructor.name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg);\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg);\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {}\n\nclass MissingPDFException extends BaseException {}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg);\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {}\n\nconst NullCharactersRegExp = /\\x00/g;\n\n/**\n * @param {string} str\n */\nfunction removeNullCharacters(str) {\n  if (typeof str !== \"string\") {\n    warn(\"The argument for removeNullCharacters must be a string.\");\n    return str;\n  }\n  return str.replace(NullCharactersRegExp, \"\");\n}\n\nfunction bytesToString(bytes) {\n  assert(\n    bytes !== null && typeof bytes === \"object\" && bytes.length !== undefined,\n    \"Invalid argument for bytesToString\"\n  );\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === \"string\", \"Invalid argument for stringToBytes\");\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array<any>|Uint8Array|string} arr\n * @returns {number}\n */\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  assert(arr.byteLength !== undefined, \"arrayByteLength - invalid argument.\");\n  return arr.byteLength;\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array<Array<any>|Uint8Array|string>} arr - the array of the arrays\n *   (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n  let resultLength = 0;\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nconst IsLittleEndianCached = {\n  get value() {\n    return shadow(this, \"value\", isLittleEndian());\n  },\n};\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nconst IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, \"value\", isEvalSupported());\n  },\n};\n\nconst rgbBuf = [\"rgb(\", 0, \",\", 0, \",\", 0, \")\"];\n\nclass Util {\n  // makeCssRgb() can be called thousands of times. Using ´rgbBuf` avoids\n  // creating many intermediate strings.\n  static makeCssRgb(r, g, b) {\n    rgbBuf[1] = r;\n    rgbBuf[3] = g;\n    rgbBuf[5] = b;\n    return rgbBuf.join(\"\");\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  static apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2],\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n    const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n    const result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if (\n      (orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n      (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])\n    ) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return null;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if (\n      (orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n      (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])\n    ) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return null;\n    }\n\n    return result;\n  }\n}\n\n// prettier-ignore\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n  0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n  0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n  0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n];\n\nfunction stringToPDFString(str) {\n  const length = str.length,\n    strBuf = [];\n  if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n    // UTF16BE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i) << 8) | str.charCodeAt(i + 1))\n      );\n    }\n  } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n    // UTF16LE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i + 1) << 8) | str.charCodeAt(i))\n      );\n    }\n  } else {\n    for (let i = 0; i < length; ++i) {\n      const code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join(\"\");\n}\n\nfunction escapeString(str) {\n  // replace \"(\", \")\" and \"\\\" by \"\\(\", \"\\)\" and \"\\\\\"\n  // in order to write it in a PDF file.\n  return str.replace(/([\\(\\)\\\\])/g, \"\\\\$1\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isBool(v) {\n  return typeof v === \"boolean\";\n}\n\nfunction isNum(v) {\n  return typeof v === \"number\";\n}\n\nfunction isString(v) {\n  return typeof v === \"string\";\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  return arr1.every(function (element, index) {\n    return element === arr2[index];\n  });\n}\n\nfunction getModificationDate(date = new Date(Date.now())) {\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    (date.getUTCDate() + 1).toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise<any>} promise - A Promise object.\n * @property {boolean} settled - If the Promise has been fulfilled/rejected.\n * @property {function} resolve - Fulfills the Promise.\n * @property {function} reject - Rejects the Promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @returns {PromiseCapability}\n */\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    },\n  });\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = function (data) {\n      isSettled = true;\n      resolve(data);\n    };\n    capability.reject = function (reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\nconst createObjectURL = (function createObjectURLClosure() {\n  // Blob/createObjectURL is not available, falling back to data schema.\n  const digits =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n  // eslint-disable-next-line no-shadow\n  return function createObjectURL(data, contentType, forceDataSchema = false) {\n    if (!forceDataSchema && URL.createObjectURL) {\n      const blob = new Blob([data], { type: contentType });\n      return URL.createObjectURL(blob);\n    }\n\n    let buffer = `data:${contentType};base64,`;\n    for (let i = 0, ii = data.length; i < ii; i += 3) {\n      const b1 = data[i] & 0xff;\n      const b2 = data[i + 1] & 0xff;\n      const b3 = data[i + 2] & 0xff;\n      const d1 = b1 >> 2,\n        d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      const d3 = i + 1 < ii ? ((b2 & 0xf) << 2) | (b3 >> 6) : 64;\n      const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n    return buffer;\n  };\n})();\n\nexport {\n  BaseException,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  OPS,\n  VerbosityLevel,\n  UNSUPPORTED_FEATURES,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMarkedState,\n  AnnotationReplyType,\n  AnnotationReviewState,\n  AnnotationStateModelType,\n  AnnotationType,\n  FontType,\n  ImageKind,\n  CMapCompressionType,\n  AbortException,\n  InvalidPDFException,\n  MissingPDFException,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  StreamType,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  Util,\n  FormatError,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  bytesToString,\n  createPromiseCapability,\n  createObjectURL,\n  escapeString,\n  getModificationDate,\n  getVerbosityLevel,\n  info,\n  isArrayBuffer,\n  isArrayEqual,\n  isBool,\n  isNum,\n  isString,\n  isSameOrigin,\n  createValidAbsoluteUrl,\n  IsLittleEndianCached,\n  IsEvalSupportedCached,\n  removeNullCharacters,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  utf8StringToString,\n  warn,\n  unreachable,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport { isNodeJS } from \"./is_node.js\";\n\n// Skip compatibility checks for modern builds and if we already ran the module.\nif (\n  (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"SKIP_BABEL\")) &&\n  (typeof globalThis === \"undefined\" || !globalThis._pdfjsCompatibilityChecked)\n) {\n  // Provides support for globalThis in legacy browsers.\n  // Support: IE11/Edge, Opera\n  if (typeof globalThis === \"undefined\" || globalThis.Math !== Math) {\n    // eslint-disable-next-line no-global-assign\n    globalThis = require(\"core-js/es/global-this\");\n  }\n  globalThis._pdfjsCompatibilityChecked = true;\n\n  const hasDOM = typeof window === \"object\" && typeof document === \"object\";\n  const userAgent =\n    (typeof navigator !== \"undefined\" && navigator.userAgent) || \"\";\n  const isIE = /Trident/.test(userAgent);\n\n  // Support: Node.js\n  (function checkNodeBtoa() {\n    if (globalThis.btoa || !isNodeJS) {\n      return;\n    }\n    globalThis.btoa = function (chars) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(chars, \"binary\").toString(\"base64\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkNodeAtob() {\n    if (globalThis.atob || !isNodeJS) {\n      return;\n    }\n    globalThis.atob = function (input) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(input, \"base64\").toString(\"binary\");\n    };\n  })();\n\n  // Provides support for ChildNode.remove in legacy browsers.\n  // Support: IE.\n  (function checkChildNodeRemove() {\n    if (!hasDOM) {\n      return;\n    }\n    if (typeof Element.prototype.remove !== \"undefined\") {\n      return;\n    }\n    Element.prototype.remove = function () {\n      if (this.parentNode) {\n        // eslint-disable-next-line mozilla/avoid-removeChild\n        this.parentNode.removeChild(this);\n      }\n    };\n  })();\n\n  // Provides support for DOMTokenList.prototype.{add, remove}, with more than\n  // one parameter, in legacy browsers.\n  // Support: IE\n  (function checkDOMTokenListAddRemove() {\n    if (!hasDOM || isNodeJS) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.classList.add(\"testOne\", \"testTwo\");\n\n    if (\n      div.classList.contains(\"testOne\") === true &&\n      div.classList.contains(\"testTwo\") === true\n    ) {\n      return;\n    }\n    const OriginalDOMTokenListAdd = DOMTokenList.prototype.add;\n    const OriginalDOMTokenListRemove = DOMTokenList.prototype.remove;\n\n    DOMTokenList.prototype.add = function (...tokens) {\n      for (const token of tokens) {\n        OriginalDOMTokenListAdd.call(this, token);\n      }\n    };\n    DOMTokenList.prototype.remove = function (...tokens) {\n      for (const token of tokens) {\n        OriginalDOMTokenListRemove.call(this, token);\n      }\n    };\n  })();\n\n  // Provides support for DOMTokenList.prototype.toggle, with the optional\n  // \"force\" parameter, in legacy browsers.\n  // Support: IE\n  (function checkDOMTokenListToggle() {\n    if (!hasDOM || isNodeJS) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    if (div.classList.toggle(\"test\", 0) === false) {\n      return;\n    }\n\n    DOMTokenList.prototype.toggle = function (token) {\n      const force =\n        arguments.length > 1 ? !!arguments[1] : !this.contains(token);\n      return this[force ? \"add\" : \"remove\"](token), force;\n    };\n  })();\n\n  // Provides support for window.history.{pushState, replaceState}, with the\n  // `url` parameter set to `undefined`, without breaking the document URL.\n  // Support: IE\n  (function checkWindowHistoryPushStateReplaceState() {\n    if (!hasDOM || !isIE) {\n      return;\n    }\n    const OriginalPushState = window.history.pushState;\n    const OriginalReplaceState = window.history.replaceState;\n\n    window.history.pushState = function (state, title, url) {\n      const args = url === undefined ? [state, title] : [state, title, url];\n      OriginalPushState.apply(this, args);\n    };\n    window.history.replaceState = function (state, title, url) {\n      const args = url === undefined ? [state, title] : [state, title, url];\n      OriginalReplaceState.apply(this, args);\n    };\n  })();\n\n  // Provides support for String.prototype.startsWith in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringStartsWith() {\n    if (String.prototype.startsWith) {\n      return;\n    }\n    require(\"core-js/es/string/starts-with.js\");\n  })();\n\n  // Provides support for String.prototype.endsWith in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringEndsWith() {\n    if (String.prototype.endsWith) {\n      return;\n    }\n    require(\"core-js/es/string/ends-with.js\");\n  })();\n\n  // Provides support for String.prototype.includes in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringIncludes() {\n    if (String.prototype.includes) {\n      return;\n    }\n    require(\"core-js/es/string/includes.js\");\n  })();\n\n  // Provides support for Array.prototype.includes in legacy browsers.\n  // Support: IE, Chrome<47\n  (function checkArrayIncludes() {\n    if (Array.prototype.includes) {\n      return;\n    }\n    require(\"core-js/es/array/includes.js\");\n  })();\n\n  // Provides support for Array.from in legacy browsers.\n  // Support: IE\n  (function checkArrayFrom() {\n    if (Array.from) {\n      return;\n    }\n    require(\"core-js/es/array/from.js\");\n  })();\n\n  // Provides support for Object.assign in legacy browsers.\n  // Support: IE\n  (function checkObjectAssign() {\n    if (Object.assign) {\n      return;\n    }\n    require(\"core-js/es/object/assign.js\");\n  })();\n\n  // Provides support for Object.fromEntries in legacy browsers.\n  // Support: IE, Chrome<73\n  (function checkObjectFromEntries() {\n    if (Object.fromEntries) {\n      return;\n    }\n    require(\"core-js/es/object/from-entries.js\");\n  })();\n\n  // Provides support for Math.log2 in legacy browsers.\n  // Support: IE, Chrome<38\n  (function checkMathLog2() {\n    if (Math.log2) {\n      return;\n    }\n    Math.log2 = require(\"core-js/es/math/log2.js\");\n  })();\n\n  // Provides support for Number.isNaN in legacy browsers.\n  // Support: IE.\n  (function checkNumberIsNaN() {\n    if (Number.isNaN) {\n      return;\n    }\n    Number.isNaN = require(\"core-js/es/number/is-nan.js\");\n  })();\n\n  // Provides support for Number.isInteger in legacy browsers.\n  // Support: IE, Chrome<34\n  (function checkNumberIsInteger() {\n    if (Number.isInteger) {\n      return;\n    }\n    Number.isInteger = require(\"core-js/es/number/is-integer.js\");\n  })();\n\n  // Provides support for TypedArray.prototype.slice in legacy browsers.\n  // Support: IE\n  (function checkTypedArraySlice() {\n    if (Uint8Array.prototype.slice) {\n      return;\n    }\n    require(\"core-js/es/typed-array/slice\");\n  })();\n\n  // Support: IE, Safari<11, Chrome<63\n  (function checkPromise() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `Promise` shouldn't\n      // need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (globalThis.Promise && globalThis.Promise.allSettled) {\n      return;\n    }\n    globalThis.Promise = require(\"core-js/es/promise/index.js\");\n  })();\n\n  // Support: IE\n  (function checkURL() {\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n      // Prevent \"require is not a function\" errors in development mode,\n      // since the `URL` constructor should be available in modern browers.\n      return;\n    } else if (!PDFJSDev.test(\"GENERIC\")) {\n      // The `URL` constructor is assumed to be available in the extension\n      // builds.\n      return;\n    } else if (PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders don't use the `URL` constructor, so it\n      // doesn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    globalThis.URL = require(\"core-js/web/url.js\");\n  })();\n\n  // Support: IE, Node.js\n  (function checkReadableStream() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `ReadableStream`\n      // shouldn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    let isReadableStreamSupported = false;\n\n    if (typeof ReadableStream !== \"undefined\") {\n      // MS Edge may say it has ReadableStream but they are not up to spec yet.\n      try {\n        // eslint-disable-next-line no-new\n        new ReadableStream({\n          start(controller) {\n            controller.close();\n          },\n        });\n        isReadableStreamSupported = true;\n      } catch (e) {\n        // The ReadableStream constructor cannot be used.\n      }\n    }\n    if (isReadableStreamSupported) {\n      return;\n    }\n    globalThis.ReadableStream = require(\"web-streams-polyfill/dist/ponyfill.js\").ReadableStream;\n  })();\n\n  // We want to support Map iteration, but it doesn't seem possible to easily\n  // test for that specifically; hence using a similarly unsupported property.\n  // Support: IE11\n  (function checkMapEntries() {\n    if (globalThis.Map && globalThis.Map.prototype.entries) {\n      return;\n    }\n    globalThis.Map = require(\"core-js/es/map/index.js\");\n  })();\n\n  // We want to support Set iteration, but it doesn't seem possible to easily\n  // test for that specifically; hence using a similarly unsupported property.\n  // Support: IE11\n  (function checkSetEntries() {\n    if (globalThis.Set && globalThis.Set.prototype.entries) {\n      return;\n    }\n    globalThis.Set = require(\"core-js/es/set/index.js\");\n  })();\n\n  // Support: IE<11, Safari<8, Chrome<36\n  (function checkWeakMap() {\n    if (globalThis.WeakMap) {\n      return;\n    }\n    globalThis.WeakMap = require(\"core-js/es/weak-map/index.js\");\n  })();\n\n  // Support: IE11\n  (function checkWeakSet() {\n    if (globalThis.WeakSet) {\n      return;\n    }\n    globalThis.WeakSet = require(\"core-js/es/weak-set/index.js\");\n  })();\n\n  // Provides support for String.codePointAt in legacy browsers.\n  // Support: IE11.\n  (function checkStringCodePointAt() {\n    if (String.prototype.codePointAt) {\n      return;\n    }\n    require(\"core-js/es/string/code-point-at.js\");\n  })();\n\n  // Provides support for String.fromCodePoint in legacy browsers.\n  // Support: IE11.\n  (function checkStringFromCodePoint() {\n    if (String.fromCodePoint) {\n      return;\n    }\n    String.fromCodePoint = require(\"core-js/es/string/from-code-point.js\");\n  })();\n\n  // Support: IE\n  (function checkSymbol() {\n    if (globalThis.Symbol) {\n      return;\n    }\n    require(\"core-js/es/symbol/index.js\");\n  })();\n\n  // Provides support for String.prototype.padStart in legacy browsers.\n  // Support: IE, Chrome<57\n  (function checkStringPadStart() {\n    if (String.prototype.padStart) {\n      return;\n    }\n    require(\"core-js/es/string/pad-start.js\");\n  })();\n\n  // Provides support for String.prototype.padEnd in legacy browsers.\n  // Support: IE, Chrome<57\n  (function checkStringPadEnd() {\n    if (String.prototype.padEnd) {\n      return;\n    }\n    require(\"core-js/es/string/pad-end.js\");\n  })();\n\n  // Provides support for Object.values in legacy browsers.\n  // Support: IE, Chrome<54\n  (function checkObjectValues() {\n    if (Object.values) {\n      return;\n    }\n    Object.values = require(\"core-js/es/object/values.js\");\n  })();\n\n  // Provides support for Object.entries in legacy browsers.\n  // Support: IE, Chrome<54\n  (function checkObjectEntries() {\n    if (Object.entries) {\n      return;\n    }\n    Object.entries = require(\"core-js/es/object/entries.js\");\n  })();\n}\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nexport { isNodeJS };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\n/**\n * @module pdfjsLib\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  getVerbosityLevel,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isSameOrigin,\n  MissingPDFException,\n  PasswordException,\n  setVerbosityLevel,\n  shadow,\n  stringToBytes,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  loadScript,\n  PageViewport,\n  RenderingCancelledException,\n  StatTimer,\n} from \"./display_utils.js\";\nimport { FontFaceObject, FontLoader } from \"./font_loader.js\";\nimport { NodeCanvasFactory, NodeCMapReaderFactory } from \"./node_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { apiCompatibilityParams } from \"./api_compatibility.js\";\nimport { CanvasGraphics } from \"./canvas.js\";\nimport { GlobalWorkerOptions } from \"./worker_options.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { MessageHandler } from \"../shared/message_handler.js\";\nimport { Metadata } from \"./metadata.js\";\nimport { OptionalContentConfig } from \"./optional_content_config.js\";\nimport { PDFDataTransportStream } from \"./transport_stream.js\";\nimport { WebGLContext } from \"./webgl.js\";\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\nconst RENDERING_CANCELLED_TIMEOUT = 100; // ms\n\nconst DefaultCanvasFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCanvasFactory\n    : DOMCanvasFactory;\nconst DefaultCMapReaderFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCMapReaderFactory\n    : DOMCMapReaderFactory;\n\n/**\n * @typedef {function} IPDFStreamFactory\n * @param {DocumentInitParameters} params - The document initialization\n *   parameters. The \"url\" key is always present.\n * @returns {Promise} A promise, which is resolved with an instance of\n *   {IPDFStream}.\n * @ignore\n */\n\n/**\n * @type IPDFStreamFactory\n * @private\n */\nlet createPDFNetworkStream;\n\n/**\n * Sets the function that instantiates an {IPDFStream} as an alternative PDF\n * data transport.\n *\n * @param {IPDFStreamFactory} pdfNetworkStreamFactory - The factory function\n *   that takes document initialization parameters (including a \"url\") and\n *   returns a promise which is resolved with an instance of {IPDFStream}.\n * @ignore\n */\nfunction setPDFNetworkStreamFactory(pdfNetworkStreamFactory) {\n  createPDFNetworkStream = pdfNetworkStreamFactory;\n}\n\n/**\n * @typedef { Int8Array | Uint8Array | Uint8ClampedArray |\n *            Int16Array | Uint16Array |\n *            Int32Array | Uint32Array | Float32Array |\n *            Float64Array\n * } TypedArray\n */\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string} [url] - The URL of the PDF.\n * @property {TypedArray|Array<number>|string} [data] - Binary PDF data. Use\n *    typed arrays (Uint8Array) to improve the memory usage. If PDF data is\n *    BASE64-encoded, use `atob()` to convert it to a binary string first.\n * @property {Object} [httpHeaders] - Basic authentication headers.\n * @property {boolean} [withCredentials] - Indicates whether or not\n *   cross-site Access-Control requests should be made using credentials such\n *   as cookies or authorization headers. The default is `false`.\n * @property {string} [password] - For decrypting password-protected PDFs.\n * @property {TypedArray} [initialData] - A typed array with the first portion\n *   or all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n * @property {number} [length] - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} [range] - Allows for using a custom range\n *   transport implementation.\n * @property {number} [rangeChunkSize] - Specify maximum number of bytes fetched\n *   per range request. The default value is {@link DEFAULT_RANGE_CHUNK_SIZE}.\n * @property {PDFWorker} [worker] - The worker that will be used for loading and\n *   parsing the PDF data.\n * @property {number} [verbosity] - Controls the logging level; the constants\n *   from {@link VerbosityLevel} should be used.\n * @property {string} [docBaseUrl] - The base URL of the document, used when\n *   attempting to recover valid absolute URLs for annotations, and outline\n *   items, that (incorrectly) only specify relative URLs.\n * @property {string} [cMapUrl] - The URL where the predefined Adobe CMaps are\n *   located. Include the trailing slash.\n * @property {boolean} [cMapPacked] - Specifies if the Adobe CMaps are binary\n *   packed or not.\n * @property {Object} [CMapReaderFactory] - The factory that will be used when\n *   reading built-in CMap files. Providing a custom factory is useful for\n *   environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMCMapReaderFactory}.\n * @property {boolean} [stopAtErrors] - Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n * @property {number} [maxImageSize] - The maximum allowed image size in total\n *   pixels, i.e. width * height. Images above this value will not be rendered.\n *   Use -1 for no limit, which is also the default value.\n * @property {boolean} [isEvalSupported] - Determines if we can evaluate strings\n *   as JavaScript. Primarily used to improve performance of font rendering, and\n *   when parsing PDF functions. The default value is `true`.\n * @property {boolean} [disableFontFace] - By default fonts are converted to\n *   OpenType fonts and loaded via `@font-face` rules. If disabled, fonts will\n *   be rendered using a built-in font renderer that constructs the glyphs with\n *   primitive path commands. The default value is `false`.\n * @property {boolean} [fontExtraProperties] - Include additional properties,\n *   which are unused during rendering of PDF documents, when exporting the\n *   parsed font data from the worker-thread. This may be useful for debugging\n *   purposes (and backwards compatibility), but note that it will lead to\n *   increased memory usage. The default value is `false`.\n * @property {HTMLDocument} [ownerDocument] - Specify an explicit document\n *   context to create elements with and to load resources, such as fonts,\n *   into. Defaults to the current document.\n * @property {boolean} [disableRange] - Disable range request loading of PDF\n *   files. When enabled, and if the server supports partial content requests,\n *   then the PDF will be fetched in chunks. The default value is `false`.\n * @property {boolean} [disableStream] - Disable streaming of PDF file data.\n *   By default PDF.js attempts to load PDF files in chunks. The default value\n *   is `false`.\n * @property {boolean} [disableAutoFetch] - Disable pre-fetching of PDF file\n *   data. When range requests are enabled PDF.js will automatically keep\n *   fetching more data even if it isn't needed to display the current page.\n *   The default value is `false`.\n *\n *   NOTE: It is also necessary to disable streaming, see above, in order for\n *   disabling of pre-fetching to work correctly.\n * @property {boolean} [pdfBug] - Enables special hooks for debugging PDF.js\n *   (see `web/debugger.js`). The default value is `false`.\n */\n\n/**\n * @typedef {Object} PDFDocumentStats\n * @property {Object<string, boolean>} streamTypes - Used stream types in the\n *   document (an item is set to true if specific stream ID was used in the\n *   document).\n * @property {Object<string, boolean>} fontTypes - Used font types in the\n *   document (an item is set to true if specific font ID was used in the\n *   document).\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n *\n * NOTE: If a URL is used to fetch the PDF data a standard Fetch API call (or\n * XHR as fallback) is used, which means it must follow same origin rules,\n * e.g. no cross-domain requests without CORS.\n *\n * @param {string|TypedArray|DocumentInitParameters|PDFDataRangeTransport} src -\n *   Can be a URL to where a PDF file is located, a typed array (Uint8Array)\n *   already populated with data or parameter object.\n * @returns {PDFDocumentLoadingTask}\n */\nfunction getDocument(src) {\n  const task = new PDFDocumentLoadingTask();\n\n  let source;\n  if (typeof src === \"string\") {\n    source = { url: src };\n  } else if (isArrayBuffer(src)) {\n    source = { data: src };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = { range: src };\n  } else {\n    if (typeof src !== \"object\") {\n      throw new Error(\n        \"Invalid parameter in getDocument, \" +\n          \"need either Uint8Array, string or a parameter object\"\n      );\n    }\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\n        \"Invalid parameter object: need either .data, .range or .url\"\n      );\n    }\n    source = src;\n  }\n  const params = Object.create(null);\n  let rangeTransport = null,\n    worker = null;\n\n  for (const key in source) {\n    if (key === \"url\" && typeof window !== \"undefined\") {\n      // The full path is required in the 'url' field.\n      params[key] = new URL(source[key], window.location).href;\n      continue;\n    } else if (key === \"range\") {\n      rangeTransport = source[key];\n      continue;\n    } else if (key === \"worker\") {\n      worker = source[key];\n      continue;\n    } else if (key === \"data\" && !(source[key] instanceof Uint8Array)) {\n      // Converting string or array-like data to Uint8Array.\n      const pdfBytes = source[key];\n      if (typeof pdfBytes === \"string\") {\n        params[key] = stringToBytes(pdfBytes);\n      } else if (\n        typeof pdfBytes === \"object\" &&\n        pdfBytes !== null &&\n        !isNaN(pdfBytes.length)\n      ) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else if (isArrayBuffer(pdfBytes)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else {\n        throw new Error(\n          \"Invalid PDF binary data: either typed array, \" +\n            \"string or array-like object is expected in the \" +\n            \"data property.\"\n        );\n      }\n      continue;\n    }\n    params[key] = source[key];\n  }\n\n  params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n  params.CMapReaderFactory =\n    params.CMapReaderFactory || DefaultCMapReaderFactory;\n  params.ignoreErrors = params.stopAtErrors !== true;\n  params.fontExtraProperties = params.fontExtraProperties === true;\n  params.pdfBug = params.pdfBug === true;\n\n  if (!Number.isInteger(params.maxImageSize)) {\n    params.maxImageSize = -1;\n  }\n  if (typeof params.isEvalSupported !== \"boolean\") {\n    params.isEvalSupported = true;\n  }\n  if (typeof params.disableFontFace !== \"boolean\") {\n    params.disableFontFace = apiCompatibilityParams.disableFontFace || false;\n  }\n  if (typeof params.ownerDocument === \"undefined\") {\n    params.ownerDocument = globalThis.document;\n  }\n\n  if (typeof params.disableRange !== \"boolean\") {\n    params.disableRange = false;\n  }\n  if (typeof params.disableStream !== \"boolean\") {\n    params.disableStream = false;\n  }\n  if (typeof params.disableAutoFetch !== \"boolean\") {\n    params.disableAutoFetch = false;\n  }\n\n  // Set the main-thread verbosity level.\n  setVerbosityLevel(params.verbosity);\n\n  if (!worker) {\n    const workerParams = {\n      verbosity: params.verbosity,\n      port: GlobalWorkerOptions.workerPort,\n    };\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global worker options, using it.\n    worker = workerParams.port\n      ? PDFWorker.fromPort(workerParams)\n      : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const docId = task.docId;\n  worker.promise\n    .then(function () {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n\n      const workerIdPromise = _fetchDocument(\n        worker,\n        params,\n        rangeTransport,\n        docId\n      );\n      const networkStreamPromise = new Promise(function (resolve) {\n        let networkStream;\n        if (rangeTransport) {\n          networkStream = new PDFDataTransportStream(\n            {\n              length: params.length,\n              initialData: params.initialData,\n              progressiveDone: params.progressiveDone,\n              disableRange: params.disableRange,\n              disableStream: params.disableStream,\n            },\n            rangeTransport\n          );\n        } else if (!params.data) {\n          networkStream = createPDFNetworkStream({\n            url: params.url,\n            length: params.length,\n            httpHeaders: params.httpHeaders,\n            withCredentials: params.withCredentials,\n            rangeChunkSize: params.rangeChunkSize,\n            disableRange: params.disableRange,\n            disableStream: params.disableStream,\n          });\n        }\n        resolve(networkStream);\n      });\n\n      return Promise.all([workerIdPromise, networkStreamPromise]).then(\n        function ([workerId, networkStream]) {\n          if (task.destroyed) {\n            throw new Error(\"Loading aborted\");\n          }\n\n          const messageHandler = new MessageHandler(\n            docId,\n            workerId,\n            worker.port\n          );\n          messageHandler.postMessageTransfers = worker.postMessageTransfers;\n          const transport = new WorkerTransport(\n            messageHandler,\n            task,\n            networkStream,\n            params\n          );\n          task._transport = transport;\n          messageHandler.send(\"Ready\", null);\n        }\n      );\n    })\n    .catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * Starts fetching of specified PDF document/data.\n *\n * @param {PDFWorker} worker\n * @param {Object} source\n * @param {PDFDataRangeTransport} pdfDataRangeTransport\n * @param {string} docId - Unique document ID, used in `MessageHandler`.\n * @returns {Promise} A promise that is resolved when the worker ID of the\n *   `MessageHandler` is known.\n * @private\n */\nfunction _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    return Promise.reject(new Error(\"Worker was destroyed\"));\n  }\n\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n    source.progressiveDone = pdfDataRangeTransport.progressiveDone;\n  }\n  return worker.messageHandler\n    .sendWithPromise(\"GetDocRequest\", {\n      docId,\n      apiVersion:\n        typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"TESTING\")\n          ? PDFJSDev.eval(\"BUNDLE_VERSION\")\n          : null,\n      // Only send the required properties, and *not* the entire object.\n      source: {\n        data: source.data,\n        url: source.url,\n        password: source.password,\n        disableAutoFetch: source.disableAutoFetch,\n        rangeChunkSize: source.rangeChunkSize,\n        length: source.length,\n      },\n      maxImageSize: source.maxImageSize,\n      disableFontFace: source.disableFontFace,\n      postMessageTransfers: worker.postMessageTransfers,\n      docBaseUrl: source.docBaseUrl,\n      ignoreErrors: source.ignoreErrors,\n      isEvalSupported: source.isEvalSupported,\n      fontExtraProperties: source.fontExtraProperties,\n    })\n    .then(function (workerId) {\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n      return workerId;\n    });\n}\n\n/**\n * The loading task controls the operations required to load a PDF document\n * (such as network requests) and provides a way to listen for completion,\n * after which individual pages can be rendered.\n *\n * @typedef {Object} PDFDocumentLoadingTask\n * @property {string} docId - Unique identifier for the document loading task.\n * @property {boolean} destroyed - Whether the loading task is destroyed or not.\n * @property {function} [onPassword] - Callback to request a password if a wrong\n *   or no password was provided. The callback receives two parameters: a\n *   function that should be called with the new password, and a reason (see\n *   {@link PasswordResponses}).\n * @property {function} [onProgress] - Callback to be able to monitor the\n *   loading progress of the PDF file (necessary to implement e.g. a loading\n *   bar). The callback receives an {Object} with the properties `loaded`\n *   ({number}) and `total` ({number}) that indicate how many bytes are loaded.\n * @property {function} [onUnsupportedFeature] - Callback for when an\n *   unsupported feature is used in the PDF document. The callback receives an\n *   {@link UNSUPPORTED_FEATURES} argument.\n * @property {Promise<PDFDocumentProxy>} promise - Promise for document loading\n *   task completion.\n * @property {function} destroy - Abort all network requests and destroy\n *   the worker. Returns a promise that is resolved when destruction is\n *   completed.\n */\n\n/**\n * @type {any}\n * @ignore\n */\nconst PDFDocumentLoadingTask = (function PDFDocumentLoadingTaskClosure() {\n  let nextDocumentId = 0;\n\n  /**\n   * The loading task controls the operations required to load a PDF document\n   * (such as network requests) and provides a way to listen for completion,\n   * after which individual pages can be rendered.\n   */\n  // eslint-disable-next-line no-shadow\n  class PDFDocumentLoadingTask {\n    constructor() {\n      this._capability = createPromiseCapability();\n      this._transport = null;\n      this._worker = null;\n\n      /**\n       * Unique identifier for the document loading task.\n       * @type {string}\n       */\n      this.docId = \"d\" + nextDocumentId++;\n\n      /**\n       * Whether the loading task is destroyed or not.\n       * @type {boolean}\n       */\n      this.destroyed = false;\n\n      /**\n       * Callback to request a password if a wrong or no password was provided.\n       * The callback receives two parameters: a function that should be called\n       * with the new password, and a reason (see {@link PasswordResponses}).\n       * @type {function}\n       */\n      this.onPassword = null;\n\n      /**\n       * Callback to be able to monitor the loading progress of the PDF file\n       * (necessary to implement e.g. a loading bar). The callback receives\n       * an {Object} with the properties `loaded` ({number}) and `total`\n       * ({number}) that indicate how many bytes are loaded.\n       * @type {function}\n       */\n      this.onProgress = null;\n\n      /**\n       * Callback for when an unsupported feature is used in the PDF document.\n       * The callback receives an {@link UNSUPPORTED_FEATURES} argument.\n       * @type {function}\n       */\n      this.onUnsupportedFeature = null;\n    }\n\n    /**\n     * Promise for document loading task completion.\n     * @type {Promise<PDFDocumentProxy>}\n     */\n    get promise() {\n      return this._capability.promise;\n    }\n\n    /**\n     * @returns {Promise<void>} A promise that is resolved when destruction is\n     *   completed.\n     */\n    destroy() {\n      this.destroyed = true;\n\n      const transportDestroyed = !this._transport\n        ? Promise.resolve()\n        : this._transport.destroy();\n      return transportDestroyed.then(() => {\n        this._transport = null;\n        if (this._worker) {\n          this._worker.destroy();\n          this._worker = null;\n        }\n      });\n    }\n  }\n  return PDFDocumentLoadingTask;\n})();\n\n/**\n * Abstract class to support range requests file loading.\n */\nclass PDFDataRangeTransport {\n  /**\n   * @param {number} length\n   * @param {Uint8Array} initialData\n   * @param {boolean} [progressiveDone]\n   */\n  constructor(length, initialData, progressiveDone = false) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = createPromiseCapability();\n  }\n\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n}\n\n/**\n * Proxy to a `PDFDocument` in the worker thread.\n */\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n\n  /**\n   * @type {AnnotationStorage} Storage for annotation data in forms.\n   */\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n\n  /**\n   * @type {number} Total number of pages in the PDF file.\n   */\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  /**\n   * @type {string} A (not guaranteed to be) unique ID to identify a PDF.\n   */\n  get fingerprint() {\n    return this._pdfInfo.fingerprint;\n  }\n\n  /**\n   * @param {number} pageNumber - The page number to get. The first page is 1.\n   * @returns {Promise<PDFPageProxy>} A promise that is resolved with\n   *   a {@link PDFPageProxy} object.\n   */\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  /**\n   * @param {{num: number, gen: number}} ref - The page reference. Must have\n   *   the `num` and `gen` properties.\n   * @returns {Promise<{num: number, gen: number}>} A promise that is resolved\n   *   with the page index (starting from zero) that is associated with the\n   *   reference.\n   */\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<any>>>} A promise that is resolved\n   *   with a mapping from named destinations to references.\n   *\n   * This can be slow for large documents. Use `getDestination` instead.\n   */\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  /**\n   * @param {string} id - The named destination to get.\n   * @returns {Promise<Array<any>>} A promise that is resolved with all\n   *   information of the given named destination.\n   */\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} containing the page labels that correspond to the page\n   *   indexes, or `null` when no page labels are present in the PDF file.\n   */\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page layout name.\n   */\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page mode name.\n   */\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with an\n   *   {Object} containing the viewer preferences, or `null` when no viewer\n   *   preferences are present in the PDF file.\n   */\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  /**\n   * @returns {Promise<any | null>} A promise that is resolved with an {Array}\n   *   containing the destination, or `null` when no open action is present\n   *   in the PDF.\n   */\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  /**\n   * @returns {Promise<any>} A promise that is resolved with a lookup table\n   *   for mapping named attachments to their content.\n   */\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} of all the JavaScript strings in the name tree, or `null`\n   *   if no JavaScript exists.\n   */\n  getJavaScript() {\n    return this._transport.getJavaScript();\n  }\n\n  /**\n   * @typedef {Object} OutlineNode\n   * @property {string} title\n   * @property {boolean} bold\n   * @property {boolean} italic\n   * @property {Uint8ClampedArray} color - The color in RGB format to use for\n   *   display purposes.\n   * @property {string | Array<any> | null} dest\n   * @property {string | null} url\n   * @property {string | undefined} unsafeUrl\n   * @property {boolean | undefined} newWindow\n   * @property {number | undefined} count\n   * @property {Array<OutlineNode>} items\n   */\n\n  /**\n   * @returns {Promise<Array<OutlineNode>>} A promise that is resolved with an\n   *   {Array} that is a tree outline (if it has one) of the PDF file.\n   */\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  /**\n   * @returns {Promise<OptionalContentConfig>} A promise that is resolved with\n   *   an {@link OptionalContentConfig} that contains all the optional content\n   *   groups (assuming that the document has any).\n   */\n  getOptionalContentConfig() {\n    return this._transport.getOptionalContentConfig();\n  }\n\n  /**\n   * @returns {Promise<Array<number> | null>} A promise that is resolved with\n   *   an {Array} that contains the permission flags for the PDF document, or\n   *   `null` when no permissions are present in the PDF file.\n   */\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  /**\n   * @returns {Promise<{ info: Object, metadata: Metadata }>} A promise that is\n   *   resolved with an {Object} that has `info` and `metadata` properties.\n   *   `info` is an {Object} filled with anything available in the information\n   *   dictionary and similarly `metadata` is a {Metadata} object with\n   *   information from the metadata section of the PDF.\n   */\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  /**\n   * @returns {Promise<TypedArray>} A promise that is resolved with a\n   *   {TypedArray} that has the raw data from the PDF.\n   */\n  getData() {\n    return this._transport.getData();\n  }\n\n  /**\n   * @returns {Promise<{ length: number }>} A promise that is resolved when the\n   *   document's data is loaded. It is resolved with an {Object} that contains\n   *   the `length` property that indicates size of the PDF data in bytes.\n   */\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  /**\n   * @returns {Promise<PDFDocumentStats>} A promise this is resolved with\n   *   current statistics about document structures (see\n   *   {@link PDFDocumentStats}).\n   */\n  getStats() {\n    return this._transport.getStats();\n  }\n\n  /**\n   * Cleans up resources allocated by the document on both the main and worker\n   * threads.\n   *\n   * NOTE: Do not, under any circumstances, call this method when rendering is\n   * currently ongoing since that may lead to rendering errors.\n   *\n   * @returns {Promise} A promise that is resolved when clean-up has finished.\n   */\n  cleanup() {\n    return this._transport.startCleanup();\n  }\n\n  /**\n   * Destroys the current document instance and terminates the worker.\n   */\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  /**\n   * @type {DocumentInitParameters} A subset of the current\n   *   {DocumentInitParameters}, which are either needed in the viewer and/or\n   *   whose default values may be affected by the `apiCompatibilityParams`.\n   */\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  /**\n   * @type {PDFDocumentLoadingTask} The loadingTask for the current document.\n   */\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  /**\n   * @param {AnnotationStorage} annotationStorage - Storage for annotation\n   *   data in forms.\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the full data of the saved document.\n   */\n  saveDocument(annotationStorage) {\n    return this._transport.saveDocument(annotationStorage);\n  }\n}\n\n/**\n * Page getViewport parameters.\n *\n * @typedef {Object} GetViewportParameters\n * @property {number} scale - The desired scale of the viewport.\n * @property {number} [rotation] - The desired rotation, in degrees, of\n *   the viewport. If omitted it defaults to the page rotation.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be\n *   flipped. The default value is `false`.\n */\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} normalizeWhitespace - Replaces all occurrences of\n *   whitespace with standard spaces (0x20). The default value is `false`.\n * @property {boolean} disableCombineTextItems - Do not attempt to combine\n *   same line {@link TextItem}'s. The default value is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {Array<TextItem>} items - Array of {@link TextItem} objects.\n * @property {Object<string, TextStyle>} styles - {@link TextStyle} objects,\n *   indexed by font name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - Text content.\n * @property {string} dir - Text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {Array<any>} transform - Transformation matrix.\n * @property {number} width - Width in device space.\n * @property {number} height - Height in device space.\n * @property {string} fontName - Font name used by PDF.js for converted font.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - Font ascent.\n * @property {number} descent - Font descent.\n * @property {boolean} vertical - Whether or not the text is in vertical mode.\n * @property {string} fontFamily - The possible font family.\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} intent - Determines the annotations that will be fetched,\n *   can be either 'display' (viewable annotations) or 'print' (printable\n *   annotations). If the parameter is omitted, all annotations are fetched.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by calling\n *   the `PDFPageProxy.getViewport` method.\n * @property {string} [intent] - Rendering intent, can be 'display' or 'print'.\n *   The default value is 'display'.\n * @property {boolean} [enableWebGL] - Enables WebGL accelerated rendering for\n *   some operations. The default value is `false`.\n * @property {boolean} [renderInteractiveForms] - Whether or not interactive\n *   form elements are rendered in the display layer. If so, we do not render\n *   them on the canvas as well.\n * @property {Array<any>} [transform] - Additional transform, applied just\n *   before viewport transform.\n * @property {Object} [imageLayer] - An object that has `beginLayout`,\n *   `endLayout` and `appendImage` functions.\n * @property {Object} [canvasFactory] - The factory instance that will be used\n *   when creating canvases. The default value is {new DOMCanvasFactory()}.\n * @property {Object | string} [background] - Background to use for the canvas.\n *   Any valid `canvas.fillStyle` can be used: a `DOMString` parsed as CSS\n *   <color> value, a `CanvasGradient` object (a linear or radial gradient) or\n *   a `CanvasPattern` object (a repetitive image). The default value is\n *   'rgb(255,255,255)'.\n * @property {AnnotationStorage} [annotationStorage] - Storage for annotation\n *   data in forms.\n * @property {Promise<OptionalContentConfig>} [optionalContentConfigPromise] -\n *   A promise that should resolve with an {@link OptionalContentConfig}\n *   created from `PDFDocumentProxy.getOptionalContentConfig`. If `null`,\n *   the configuration will be fetched automatically with the default visibility\n *   states set.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array<number>} fnArray - Array containing the operator functions.\n * @property {Array<any>} argsArray - Array containing the arguments of the\n *   functions.\n */\n\n/**\n * Proxy to a `PDFPage` in the worker thread.\n */\nclass PDFPageProxy {\n  constructor(pageIndex, pageInfo, transport, ownerDocument, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._ownerDocument = ownerDocument;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n\n  /**\n   * @type {number} Page number of the page. First page is 1.\n   */\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  /**\n   * @type {number} The number of degrees the page is rotated clockwise.\n   */\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  /**\n   * @type {Object} The reference that points to this page. It has `num` and\n   *   `gen` properties.\n   */\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  /**\n   * @type {number} The default size of units in 1/72nds of an inch.\n   */\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  /**\n   * @type {Array<number>} An array of the visible portion of the PDF page in\n   *   user space units [x1, y1, x2, y2].\n   */\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  /**\n   * @param {GetViewportParameters} params - Viewport parameters.\n   * @returns {PageViewport} Contains 'width' and 'height' properties\n   *   along with transforms required for rendering.\n   */\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * @param {GetAnnotationsParameters} params - Annotation parameters.\n   * @returns {Promise<Array<any>>} A promise that is resolved with an\n   *   {Array} of the annotation objects.\n   */\n  getAnnotations({ intent = null } = {}) {\n    if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n      this.annotationsPromise = this._transport.getAnnotations(\n        this._pageIndex,\n        intent\n      );\n      this.annotationsIntent = intent;\n    }\n    return this.annotationsPromise;\n  }\n\n  /**\n   * Begins the process of rendering a page to the desired context.\n   *\n   * @param {RenderParameters} params Page render parameters.\n   * @returns {RenderTask} An object that contains a promise that is\n   *   resolved when the page finishes rendering.\n   */\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    enableWebGL = false,\n    renderInteractiveForms = false,\n    transform = null,\n    imageLayer = null,\n    canvasFactory = null,\n    background = null,\n    annotationStorage = null,\n    optionalContentConfigPromise = null,\n  }) {\n    if (this._stats) {\n      this._stats.time(\"Overall\");\n    }\n\n    const renderingIntent = intent === \"print\" ? \"print\" : \"display\";\n    // If there was a pending destroy, cancel it so no cleanup happens during\n    // this call to render.\n    this.pendingCleanup = false;\n\n    if (!optionalContentConfigPromise) {\n      optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n    }\n\n    let intentState = this._intentStates.get(renderingIntent);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(renderingIntent, intentState);\n    }\n\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const canvasFactoryInstance =\n      canvasFactory ||\n      new DefaultCanvasFactory({ ownerDocument: this._ownerDocument });\n    const webGLContext = new WebGLContext({\n      enable: enableWebGL,\n    });\n\n    // If there's no displayReadyCapability yet, then the operatorList\n    // was never requested before. Make the request and create the promise.\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = createPromiseCapability();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        renderInteractiveForms: renderInteractiveForms === true,\n        annotationStorage:\n          (annotationStorage && annotationStorage.getAll()) || null,\n      });\n    }\n\n    const complete = error => {\n      const i = intentState.renderTasks.indexOf(internalRenderTask);\n      if (i >= 0) {\n        intentState.renderTasks.splice(i, 1);\n      }\n\n      // Attempt to reduce memory usage during *printing*, by always running\n      // cleanup once rendering has finished (regardless of cleanupAfterRender).\n      if (this.cleanupAfterRender || renderingIntent === \"print\") {\n        this.pendingCleanup = true;\n      }\n      this._tryCleanup();\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error,\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      // Only include the required properties, and *not* the entire object.\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: canvasFactoryInstance,\n      webGLContext,\n      useRequestAnimationFrame: renderingIntent !== \"print\",\n      pdfBug: this._pdfBug,\n    });\n\n    if (!intentState.renderTasks) {\n      intentState.renderTasks = [];\n    }\n    intentState.renderTasks.push(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n\n    Promise.all([\n      intentState.displayReadyCapability.promise,\n      optionalContentConfigPromise,\n    ])\n      .then(([transparency, optionalContentConfig]) => {\n        if (this.pendingCleanup) {\n          complete();\n          return;\n        }\n        if (this._stats) {\n          this._stats.time(\"Rendering\");\n        }\n        internalRenderTask.initializeGraphics({\n          transparency,\n          optionalContentConfig,\n        });\n        internalRenderTask.operatorListChanged();\n      })\n      .catch(complete);\n\n    return renderTask;\n  }\n\n  /**\n   * @returns {Promise<PDFOperatorList>} A promise resolved with an\n   *   {@link PDFOperatorList} object that represents page's operator list.\n   */\n  getOperatorList() {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n\n        const i = intentState.renderTasks.indexOf(opListTask);\n        if (i >= 0) {\n          intentState.renderTasks.splice(i, 1);\n        }\n      }\n    }\n\n    const renderingIntent = \"oplist\";\n    let intentState = this._intentStates.get(renderingIntent);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(renderingIntent, intentState);\n    }\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = createPromiseCapability();\n      intentState.renderTasks = [];\n      intentState.renderTasks.push(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n      });\n    }\n    return intentState.opListReadCapability.promise;\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {ReadableStream} Stream for reading text content chunks.\n   */\n  streamTextContent({\n    normalizeWhitespace = false,\n    disableCombineTextItems = false,\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n\n    return this._transport.messageHandler.sendWithStream(\n      \"GetTextContent\",\n      {\n        pageIndex: this._pageIndex,\n        normalizeWhitespace: normalizeWhitespace === true,\n        combineTextItems: disableCombineTextItems !== true,\n      },\n      {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      }\n    );\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {Promise<TextContent>} A promise that is resolved with a\n   *   {@link TextContent} object that represents the page's text content.\n   */\n  getTextContent(params = {}) {\n    const readableStream = this.streamTextContent(params);\n\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({ value, done }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n      };\n      pump();\n    });\n  }\n\n  /**\n   * Destroys the page object.\n   * @private\n   */\n  _destroy() {\n    this.destroyed = true;\n    this._transport.pageCache[this._pageIndex] = null;\n\n    const waitOn = [];\n    for (const [intent, intentState] of this._intentStates) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true,\n      });\n\n      if (intent === \"oplist\") {\n        // Avoid errors below, since the renderTasks are just stubs.\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.annotationsPromise = null;\n    this.pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n\n  /**\n   * Cleans up resources allocated by the page.\n   *\n   * @param {boolean} [resetStats] - Reset page stats, if enabled.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  cleanup(resetStats = false) {\n    this.pendingCleanup = true;\n    return this._tryCleanup(resetStats);\n  }\n\n  /**\n   * Attempts to clean up if rendering is in a state where that's possible.\n   * @private\n   */\n  _tryCleanup(resetStats = false) {\n    if (!this.pendingCleanup) {\n      return false;\n    }\n    for (const { renderTasks, operatorList } of this._intentStates.values()) {\n      if (renderTasks.length !== 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n\n    this._intentStates.clear();\n    this.objs.clear();\n    this.annotationsPromise = null;\n    if (resetStats && this._stats) {\n      this._stats = new StatTimer();\n    }\n    this.pendingCleanup = false;\n    return true;\n  }\n\n  /**\n   * @private\n   */\n  _startRenderPage(transparency, intent) {\n    const intentState = this._intentStates.get(intent);\n    if (!intentState) {\n      return; // Rendering was cancelled.\n    }\n    if (this._stats) {\n      this._stats.timeEnd(\"Page Request\");\n    }\n    // TODO Refactor RenderPageRequest to separate rendering\n    // and operator list logic\n    if (intentState.displayReadyCapability) {\n      intentState.displayReadyCapability.resolve(transparency);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _renderPageChunk(operatorListChunk, intentState) {\n    // Add the new chunk to the current operator list.\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n    // Notify all the rendering tasks there are more operators to be consumed.\n    for (let i = 0; i < intentState.renderTasks.length; i++) {\n      intentState.renderTasks[i].operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this._tryCleanup();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _pumpOperatorList(args) {\n    assert(\n      args.intent,\n      'PDFPageProxy._pumpOperatorList: Expected \"intent\" argument.'\n    );\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\n      \"GetOperatorList\",\n      args\n    );\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(args.intent);\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(\n        ({ value, done }) => {\n          if (done) {\n            intentState.streamReader = null;\n            return;\n          }\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          this._renderPageChunk(value, intentState);\n          pump();\n        },\n        reason => {\n          intentState.streamReader = null;\n\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          if (intentState.operatorList) {\n            // Mark operator list as complete.\n            intentState.operatorList.lastChunk = true;\n\n            for (let i = 0; i < intentState.renderTasks.length; i++) {\n              intentState.renderTasks[i].operatorListChanged();\n            }\n            this._tryCleanup();\n          }\n\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.reject(reason);\n          } else if (intentState.opListReadCapability) {\n            intentState.opListReadCapability.reject(reason);\n          } else {\n            throw reason;\n          }\n        }\n      );\n    };\n    pump();\n  }\n\n  /**\n   * @private\n   */\n  _abortOperatorList({ intentState, reason, force = false }) {\n    assert(\n      reason instanceof Error ||\n        (typeof reason === \"object\" && reason !== null),\n      'PDFPageProxy._abortOperatorList: Expected \"reason\" argument.'\n    );\n\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (!force) {\n      // Ensure that an Error occurring in *only* one `InternalRenderTask`, e.g.\n      // multiple render() calls on the same canvas, won't break all rendering.\n      if (intentState.renderTasks.length !== 0) {\n        return;\n      }\n      // Don't immediately abort parsing on the worker-thread when rendering is\n      // cancelled, since that will unnecessarily delay re-rendering when (for\n      // partially parsed pages) e.g. zooming/rotation occurs in the viewer.\n      if (reason instanceof RenderingCancelledException) {\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          this._abortOperatorList({ intentState, reason, force: true });\n          intentState.streamReaderCancelTimeout = null;\n        }, RENDERING_CANCELLED_TIMEOUT);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(\n      new AbortException(reason && reason.message)\n    );\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    // Remove the current `intentState`, since a cancelled `getOperatorList`\n    // call on the worker-thread cannot be re-started...\n    for (const [intent, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(intent);\n        break;\n      }\n    }\n    // ... and force clean-up to ensure that any old state is always removed.\n    this.cleanup();\n  }\n\n  /**\n   * @type {Object} Returns page stats, if enabled; returns `null` otherwise.\n   */\n  get stats() {\n    return this._stats;\n  }\n}\n\nclass LoopbackPort {\n  constructor(defer = true) {\n    this._listeners = [];\n    this._defer = defer;\n    this._deferred = Promise.resolve(undefined);\n  }\n\n  postMessage(obj, transfers) {\n    function cloneValue(value) {\n      // Trying to perform a structured clone close to the spec, including\n      // transfers.\n      if (typeof value !== \"object\" || value === null) {\n        return value;\n      }\n      if (cloned.has(value)) {\n        // already cloned the object\n        return cloned.get(value);\n      }\n      let buffer, result;\n      if ((buffer = value.buffer) && isArrayBuffer(buffer)) {\n        // We found object with ArrayBuffer (typed array).\n        const transferable = transfers && transfers.includes(buffer);\n        if (transferable) {\n          result = new value.constructor(\n            buffer,\n            value.byteOffset,\n            value.byteLength\n          );\n        } else {\n          result = new value.constructor(value);\n        }\n        cloned.set(value, result);\n        return result;\n      }\n      result = Array.isArray(value) ? [] : {};\n      cloned.set(value, result); // adding to cache now for cyclic references\n      // Cloning all value and object properties, however ignoring properties\n      // defined via getter.\n      for (const i in value) {\n        let desc,\n          p = value;\n        while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n          p = Object.getPrototypeOf(p);\n        }\n        if (typeof desc.value === \"undefined\") {\n          continue;\n        }\n        if (typeof desc.value === \"function\") {\n          if (value.hasOwnProperty && value.hasOwnProperty(i)) {\n            throw new Error(\n              `LoopbackPort.postMessage - cannot clone: ${value[i]}`\n            );\n          }\n          continue;\n        }\n        result[i] = cloneValue(desc.value);\n      }\n      return result;\n    }\n\n    if (!this._defer) {\n      this._listeners.forEach(listener => {\n        listener.call(this, { data: obj });\n      });\n      return;\n    }\n\n    const cloned = new WeakMap();\n    const e = { data: cloneValue(obj) };\n    this._deferred.then(() => {\n      this._listeners.forEach(listener => {\n        listener.call(this, e);\n      });\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    const i = this._listeners.indexOf(listener);\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners.length = 0;\n  }\n}\n\n/**\n * @typedef {Object} PDFWorkerParameters\n * @property {string} [name] - The name of the worker.\n * @property {Object} [port] - The `workerPort` object.\n * @property {number} [verbosity] - Controls the logging level; the\n *   constants from {@link VerbosityLevel} should be used.\n */\n\n/** @type {any} */\nconst PDFWorker = (function PDFWorkerClosure() {\n  const pdfWorkerPorts = new WeakMap();\n  let isWorkerDisabled = false;\n  let fallbackWorkerSrc;\n  let nextFakeWorkerId = 0;\n  let fakeWorkerCapability;\n\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n    // eslint-disable-next-line no-undef\n    if (isNodeJS && typeof __non_webpack_require__ === \"function\") {\n      // Workers aren't supported in Node.js, force-disabling them there.\n      isWorkerDisabled = true;\n\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"LIB\")) {\n        fallbackWorkerSrc = \"../pdf.worker.js\";\n      } else {\n        fallbackWorkerSrc = \"./pdf.worker.js\";\n      }\n    } else if (typeof document === \"object\" && \"currentScript\" in document) {\n      const pdfjsFilePath =\n        document.currentScript && document.currentScript.src;\n      if (pdfjsFilePath) {\n        fallbackWorkerSrc = pdfjsFilePath.replace(\n          /(\\.(?:min\\.)?js)(\\?.*)?$/i,\n          \".worker$1$2\"\n        );\n      }\n    }\n  }\n\n  function getWorkerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    if (typeof fallbackWorkerSrc !== \"undefined\") {\n      if (!isNodeJS) {\n        deprecated('No \"GlobalWorkerOptions.workerSrc\" specified.');\n      }\n      return fallbackWorkerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  function getMainThreadWorkerMessageHandler() {\n    let mainWorkerMessageHandler;\n    try {\n      mainWorkerMessageHandler =\n        globalThis.pdfjsWorker && globalThis.pdfjsWorker.WorkerMessageHandler;\n    } catch (ex) {\n      /* Ignore errors. */\n    }\n    return mainWorkerMessageHandler || null;\n  }\n\n  // Loads worker code into main thread.\n  function setupFakeWorkerGlobal() {\n    if (fakeWorkerCapability) {\n      return fakeWorkerCapability.promise;\n    }\n    fakeWorkerCapability = createPromiseCapability();\n\n    const loader = async function () {\n      const mainWorkerMessageHandler = getMainThreadWorkerMessageHandler();\n\n      if (mainWorkerMessageHandler) {\n        // The worker was already loaded using e.g. a `<script>` tag.\n        return mainWorkerMessageHandler;\n      }\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n        if (typeof SystemJS !== \"object\") {\n          // Manually load SystemJS, since it's only necessary for fake workers.\n          await loadScript(\"../node_modules/systemjs/dist/system.js\");\n          await loadScript(\"../systemjs.config.js\");\n        }\n        const worker = await SystemJS.import(\"pdfjs/core/worker.js\");\n        return worker.WorkerMessageHandler;\n      }\n      if (\n        PDFJSDev.test(\"GENERIC\") &&\n        isNodeJS &&\n        // eslint-disable-next-line no-undef\n        typeof __non_webpack_require__ === \"function\"\n      ) {\n        // Since bundlers, such as Webpack, cannot be told to leave `require`\n        // statements alone we are thus forced to jump through hoops in order\n        // to prevent `Critical dependency: ...` warnings in third-party\n        // deployments of the built `pdf.js`/`pdf.worker.js` files; see\n        // https://github.com/webpack/webpack/issues/8826\n        //\n        // The following hack is based on the assumption that code running in\n        // Node.js won't ever be affected by e.g. Content Security Policies that\n        // prevent the use of `eval`. If that ever occurs, we should revert this\n        // to a normal `__non_webpack_require__` statement and simply document\n        // the Webpack warnings instead (telling users to ignore them).\n        //\n        // eslint-disable-next-line no-eval\n        const worker = eval(\"require\")(getWorkerSrc());\n        return worker.WorkerMessageHandler;\n      }\n      await loadScript(getWorkerSrc());\n      return window.pdfjsWorker.WorkerMessageHandler;\n    };\n    loader().then(fakeWorkerCapability.resolve, fakeWorkerCapability.reject);\n\n    return fakeWorkerCapability.promise;\n  }\n\n  function createCDNWrapper(url) {\n    // We will rely on blob URL's property to specify origin.\n    // We want this function to fail in case if createObjectURL or Blob do not\n    // exist or fail for some reason -- our Worker creation will fail anyway.\n    const wrapper = \"importScripts('\" + url + \"');\";\n    return URL.createObjectURL(new Blob([wrapper]));\n  }\n\n  /**\n   * PDF.js web worker abstraction that controls the instantiation of PDF\n   * documents. Message handlers are used to pass information from the main\n   * thread to the worker thread and vice versa. If the creation of a web\n   * worker is not possible, a \"fake\" worker will be used instead.\n   */\n  // eslint-disable-next-line no-shadow\n  class PDFWorker {\n    /**\n     * @param {PDFWorkerParameters} params - Worker initialization parameters.\n     */\n    constructor({\n      name = null,\n      port = null,\n      verbosity = getVerbosityLevel(),\n    } = {}) {\n      if (port && pdfWorkerPorts.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port\");\n      }\n\n      this.name = name;\n      this.destroyed = false;\n      this.postMessageTransfers = true;\n      this.verbosity = verbosity;\n\n      this._readyCapability = createPromiseCapability();\n      this._port = null;\n      this._webWorker = null;\n      this._messageHandler = null;\n\n      if (port) {\n        pdfWorkerPorts.set(port, this);\n        this._initializeFromPort(port);\n        return;\n      }\n      this._initialize();\n    }\n\n    get promise() {\n      return this._readyCapability.promise;\n    }\n\n    get port() {\n      return this._port;\n    }\n\n    get messageHandler() {\n      return this._messageHandler;\n    }\n\n    _initializeFromPort(port) {\n      this._port = port;\n      this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n      this._messageHandler.on(\"ready\", function () {\n        // Ignoring 'ready' event -- MessageHandler shall be already initialized\n        // and ready to accept the messages.\n      });\n      this._readyCapability.resolve();\n    }\n\n    _initialize() {\n      // If worker support isn't disabled explicit and the browser has worker\n      // support, create a new web worker and test if it/the browser fulfills\n      // all requirements to run parts of pdf.js in a web worker.\n      // Right now, the requirement is, that an Uint8Array is still an\n      // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n      if (\n        typeof Worker !== \"undefined\" &&\n        !isWorkerDisabled &&\n        !getMainThreadWorkerMessageHandler()\n      ) {\n        let workerSrc = getWorkerSrc();\n\n        try {\n          // Wraps workerSrc path into blob URL, if the former does not belong\n          // to the same origin.\n          if (\n            typeof PDFJSDev !== \"undefined\" &&\n            PDFJSDev.test(\"GENERIC\") &&\n            !isSameOrigin(window.location.href, workerSrc)\n          ) {\n            workerSrc = createCDNWrapper(\n              new URL(workerSrc, window.location).href\n            );\n          }\n\n          // Some versions of FF can't create a worker on localhost, see:\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n          const worker = new Worker(workerSrc);\n          const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n          const terminateEarly = () => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            messageHandler.destroy();\n            worker.terminate();\n            if (this.destroyed) {\n              this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n            } else {\n              // Fall back to fake worker if the termination is caused by an\n              // error (e.g. NetworkError / SecurityError).\n              this._setupFakeWorker();\n            }\n          };\n\n          const onWorkerError = () => {\n            if (!this._webWorker) {\n              // Worker failed to initialize due to an error. Clean up and fall\n              // back to the fake worker.\n              terminateEarly();\n            }\n          };\n          worker.addEventListener(\"error\", onWorkerError);\n\n          messageHandler.on(\"test\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            if (data) {\n              // supportTypedArray\n              this._messageHandler = messageHandler;\n              this._port = worker;\n              this._webWorker = worker;\n              if (!data.supportTransfers) {\n                this.postMessageTransfers = false;\n              }\n              this._readyCapability.resolve();\n              // Send global setting, e.g. verbosity level.\n              messageHandler.send(\"configure\", {\n                verbosity: this.verbosity,\n              });\n            } else {\n              this._setupFakeWorker();\n              messageHandler.destroy();\n              worker.terminate();\n            }\n          });\n\n          messageHandler.on(\"ready\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            try {\n              sendTest();\n            } catch (e) {\n              // We need fallback to a faked worker.\n              this._setupFakeWorker();\n            }\n          });\n\n          const sendTest = () => {\n            const testObj = new Uint8Array([\n              this.postMessageTransfers ? 255 : 0,\n            ]);\n            // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n            // typed array. Also, checking if we can use transfers.\n            try {\n              messageHandler.send(\"test\", testObj, [testObj.buffer]);\n            } catch (ex) {\n              warn(\"Cannot use postMessage transfers.\");\n              testObj[0] = 0;\n              messageHandler.send(\"test\", testObj);\n            }\n          };\n\n          // It might take time for worker to initialize (especially when AMD\n          // loader is used). We will try to send test immediately, and then\n          // when 'ready' message will arrive. The worker shall process only\n          // first received 'test'.\n          sendTest();\n          return;\n        } catch (e) {\n          info(\"The worker has been disabled.\");\n        }\n      }\n      // Either workers are disabled, not supported or have thrown an exception.\n      // Thus, we fallback to a faked worker.\n      this._setupFakeWorker();\n    }\n\n    _setupFakeWorker() {\n      if (!isWorkerDisabled) {\n        warn(\"Setting up fake worker.\");\n        isWorkerDisabled = true;\n      }\n\n      setupFakeWorkerGlobal()\n        .then(WorkerMessageHandler => {\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n            return;\n          }\n          const port = new LoopbackPort();\n          this._port = port;\n\n          // All fake workers use the same port, making id unique.\n          const id = \"fake\" + nextFakeWorkerId++;\n\n          // If the main thread is our worker, setup the handling for the\n          // messages -- the main thread sends to it self.\n          const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n          WorkerMessageHandler.setup(workerHandler, port);\n\n          const messageHandler = new MessageHandler(id, id + \"_worker\", port);\n          this._messageHandler = messageHandler;\n          this._readyCapability.resolve();\n          // Send global setting, e.g. verbosity level.\n          messageHandler.send(\"configure\", {\n            verbosity: this.verbosity,\n          });\n        })\n        .catch(reason => {\n          this._readyCapability.reject(\n            new Error(`Setting up fake worker failed: \"${reason.message}\".`)\n          );\n        });\n    }\n\n    /**\n     * Destroys the worker instance.\n     */\n    destroy() {\n      this.destroyed = true;\n      if (this._webWorker) {\n        // We need to terminate only web worker created resource.\n        this._webWorker.terminate();\n        this._webWorker = null;\n      }\n      pdfWorkerPorts.delete(this._port);\n      this._port = null;\n      if (this._messageHandler) {\n        this._messageHandler.destroy();\n        this._messageHandler = null;\n      }\n    }\n\n    /**\n     * @param {PDFWorkerParameters} params - The worker initialization\n     *   parameters.\n     */\n    static fromPort(params) {\n      if (!params || !params.port) {\n        throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n      }\n      if (pdfWorkerPorts.has(params.port)) {\n        return pdfWorkerPorts.get(params.port);\n      }\n      return new PDFWorker(params);\n    }\n\n    static getWorkerSrc() {\n      return getWorkerSrc();\n    }\n  }\n  return PDFWorker;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nclass WorkerTransport {\n  constructor(messageHandler, loadingTask, networkStream, params) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      docId: loadingTask.docId,\n      onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n      ownerDocument: params.ownerDocument,\n    });\n    this._params = params;\n    this.CMapReaderFactory = new params.CMapReaderFactory({\n      baseUrl: params.cMapUrl,\n      isCompressed: params.cMapPacked,\n    });\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = createPromiseCapability();\n\n    this.setupMessageHandler();\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = createPromiseCapability();\n\n    if (this._passwordCapability) {\n      this._passwordCapability.reject(\n        new Error(\"Worker was destroyed during onPassword callback\")\n      );\n    }\n\n    const waitOn = [];\n    // We need to wait for all renderings to be completed, e.g.\n    // timeout/rAF can take a long time.\n    this.pageCache.forEach(function (page) {\n      if (page) {\n        waitOn.push(page._destroy());\n      }\n    });\n    this.pageCache.length = 0;\n    this.pagePromises.length = 0;\n    // We also need to wait for the worker to finish its long running tasks.\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.fontLoader.clear();\n      if (this._networkStream) {\n        this._networkStream.cancelAllRequests(\n          new AbortException(\"Worker was terminated.\")\n        );\n      }\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const { messageHandler, loadingTask } = this;\n\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetReader - no `IPDFStream` instance available.\"\n      );\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total,\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetReader - expected an ArrayBuffer.\"\n            );\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = createPromiseCapability();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        // If stream or range are disabled, it's our only way to report\n        // loading progress.\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress && loadingTask.onProgress) {\n            loadingTask.onProgress(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            if (loadingTask.onProgress) {\n              loadingTask.onProgress({\n                loaded: evt.loaded,\n                total: evt.total,\n              });\n            }\n          };\n        }\n\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength,\n        });\n      }, headersCapability.reject);\n\n      return headersCapability.promise;\n    });\n\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetRangeReader - no `IPDFStream` instance available.\"\n      );\n      const rangeReader = this._networkStream.getRangeReader(\n        data.begin,\n        data.end\n      );\n\n      // When streaming is enabled, it's possible that the data requested here\n      // has already been fetched via the `_fullRequestReader` implementation.\n      // However, given that the PDF data is loaded asynchronously on the\n      // main-thread and then sent via `postMessage` to the worker-thread,\n      // it may not have been available during parsing (hence the attempt to\n      // use range requests here).\n      //\n      // To avoid wasting time and resources here, we'll thus *not* dispatch\n      // range requests if the data was already loaded but has not been sent to\n      // the worker-thread yet (which will happen via the `_fullRequestReader`).\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetRangeReader - expected an ArrayBuffer.\"\n            );\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"GetDoc\", ({ pdfInfo }) => {\n      this._numPages = pdfInfo.numPages;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n      }\n      if (!(reason instanceof Error)) {\n        const msg = \"DocException - expected a valid Error.\";\n        if (\n          typeof PDFJSDev === \"undefined\" ||\n          PDFJSDev.test(\"!PRODUCTION || TESTING\")\n        ) {\n          unreachable(msg);\n        } else {\n          warn(msg);\n        }\n      }\n      loadingTask._capability.reject(reason);\n    });\n\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this._passwordCapability = createPromiseCapability();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          this._passwordCapability.resolve({\n            password,\n          });\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this._passwordCapability.reject(ex);\n        }\n      } else {\n        this._passwordCapability.reject(\n          new PasswordException(exception.message, exception.code)\n        );\n      }\n      return this._passwordCapability.promise;\n    });\n\n    messageHandler.on(\"DataLoaded\", data => {\n      // For consistency: Ensure that progress is always reported when the\n      // entire PDF file has been loaded, regardless of how it was fetched.\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.length,\n          total: data.length,\n        });\n      }\n      this.downloadInfoCapability.resolve(data);\n    });\n\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const page = this.pageCache[data.pageIndex];\n      page._startRenderPage(data.transparency, data.intent);\n    });\n\n    messageHandler.on(\"commonobj\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const [id, type, exportedData] = data;\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          let fontRegistry = null;\n          if (\n            params.pdfBug &&\n            globalThis.FontInspector &&\n            globalThis.FontInspector.enabled\n          ) {\n            fontRegistry = {\n              registerFont(font, url) {\n                globalThis.FontInspector.fontAdded(font, url);\n              },\n            };\n          }\n          const font = new FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n            fontRegistry,\n          });\n\n          this.fontLoader\n            .bind(font)\n            .catch(reason => {\n              return messageHandler.sendWithPromise(\"FontFallback\", { id });\n            })\n            .finally(() => {\n              if (!params.fontExtraProperties && font.data) {\n                // Immediately release the `font.data` property once the font\n                // has been attached to the DOM, since it's no longer needed,\n                // rather than waiting for a `PDFDocumentProxy.cleanup` call.\n                // Since `font.data` could be very large, e.g. in some cases\n                // multiple megabytes, this will help reduce memory usage.\n                font.data = null;\n              }\n              this.commonObjs.resolve(id, font);\n            });\n          break;\n        case \"FontPath\":\n        case \"Image\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"obj\", data => {\n      if (this.destroyed) {\n        // Ignore any pending requests if the worker was terminated.\n        return undefined;\n      }\n\n      const [id, pageIndex, type, imageData] = data;\n      const pageProxy = this.pageCache[pageIndex];\n      if (pageProxy.objs.has(id)) {\n        return undefined;\n      }\n\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n\n          // Heuristic that will allow us not to store large data.\n          const MAX_IMAGE_SIZE_TO_STORE = 8000000;\n          if (\n            imageData &&\n            \"data\" in imageData &&\n            imageData.data.length > MAX_IMAGE_SIZE_TO_STORE\n          ) {\n            pageProxy.cleanupAfterRender = true;\n          }\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n      return undefined;\n    });\n\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.loaded,\n          total: data.total,\n        });\n      }\n    });\n\n    messageHandler.on(\n      \"UnsupportedFeature\",\n      this._onUnsupportedFeature.bind(this)\n    );\n\n    messageHandler.on(\"FetchBuiltInCMap\", (data, sink) => {\n      if (this.destroyed) {\n        sink.error(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      let fetched = false;\n\n      sink.onPull = () => {\n        if (fetched) {\n          sink.close();\n          return;\n        }\n        fetched = true;\n\n        this.CMapReaderFactory.fetch(data)\n          .then(function (builtInCMap) {\n            sink.enqueue(builtInCMap, 1, [builtInCMap.cMapData.buffer]);\n          })\n          .catch(function (reason) {\n            sink.error(reason);\n          });\n      };\n    });\n  }\n\n  _onUnsupportedFeature({ featureId }) {\n    if (this.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    if (this.loadingTask.onUnsupportedFeature) {\n      this.loadingTask.onUnsupportedFeature(featureId);\n    }\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  getPage(pageNumber) {\n    if (\n      !Number.isInteger(pageNumber) ||\n      pageNumber <= 0 ||\n      pageNumber > this._numPages\n    ) {\n      return Promise.reject(new Error(\"Invalid page request\"));\n    }\n\n    const pageIndex = pageNumber - 1;\n    if (pageIndex in this.pagePromises) {\n      return this.pagePromises[pageIndex];\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(\"GetPage\", {\n        pageIndex,\n      })\n      .then(pageInfo => {\n        if (this.destroyed) {\n          throw new Error(\"Transport destroyed\");\n        }\n        const page = new PDFPageProxy(\n          pageIndex,\n          pageInfo,\n          this,\n          this._params.ownerDocument,\n          this._params.pdfBug\n        );\n        this.pageCache[pageIndex] = page;\n        return page;\n      });\n    this.pagePromises[pageIndex] = promise;\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    return this.messageHandler\n      .sendWithPromise(\"GetPageIndex\", {\n        ref,\n      })\n      .catch(function (reason) {\n        return Promise.reject(new Error(reason));\n      });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent,\n    });\n  }\n\n  saveDocument(annotationStorage) {\n    return this.messageHandler\n      .sendWithPromise(\"SaveDocument\", {\n        numPages: this._numPages,\n        annotationStorage:\n          (annotationStorage && annotationStorage.getAll()) || null,\n        filename: this._fullReader ? this._fullReader.filename : null,\n      })\n      .finally(() => {\n        if (annotationStorage) {\n          annotationStorage.resetModified();\n        }\n      });\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id,\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getJavaScript() {\n    return this.messageHandler.sendWithPromise(\"GetJavaScript\", null);\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig() {\n    return this.messageHandler\n      .sendWithPromise(\"GetOptionalContentConfig\", null)\n      .then(results => {\n        return new OptionalContentConfig(results);\n      });\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    return this.messageHandler\n      .sendWithPromise(\"GetMetadata\", null)\n      .then(results => {\n        return {\n          info: results[0],\n          metadata: results[1] ? new Metadata(results[1]) : null,\n          contentDispositionFilename: this._fullReader\n            ? this._fullReader.filename\n            : null,\n        };\n      });\n  }\n\n  getStats() {\n    return this.messageHandler.sendWithPromise(\"GetStats\", null);\n  }\n\n  startCleanup() {\n    return this.messageHandler.sendWithPromise(\"Cleanup\", null).then(() => {\n      for (let i = 0, ii = this.pageCache.length; i < ii; i++) {\n        const page = this.pageCache[i];\n        if (page) {\n          const cleanupSuccessful = page.cleanup();\n\n          if (!cleanupSuccessful) {\n            throw new Error(\n              `startCleanup: Page ${i + 1} is currently rendering.`\n            );\n          }\n        }\n      }\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n    });\n  }\n\n  get loadingParams() {\n    const params = this._params;\n    return shadow(this, \"loadingParams\", {\n      disableAutoFetch: params.disableAutoFetch,\n      disableFontFace: params.disableFontFace,\n    });\n  }\n}\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects for\n * fonts, images, rendering code, etc. These objects may get processed inside of\n * a worker. This class implements some basic methods to manage these objects.\n * @ignore\n */\nclass PDFObjects {\n  constructor() {\n    this._objs = Object.create(null);\n  }\n\n  /**\n   * Ensures there is an object defined for `objId`.\n   * @private\n   */\n  _ensureObj(objId) {\n    if (this._objs[objId]) {\n      return this._objs[objId];\n    }\n    return (this._objs[objId] = {\n      capability: createPromiseCapability(),\n      data: null,\n      resolved: false,\n    });\n  }\n\n  /**\n   * If called *without* callback, this returns the data of `objId` but the\n   * object needs to be resolved. If it isn't, this method throws.\n   *\n   * If called *with* a callback, the callback is called with the data of the\n   * object once the object is resolved. That means, if you call this method\n   * and the object is already resolved, the callback gets called right away.\n   */\n  get(objId, callback = null) {\n    // If there is a callback, then the get can be async and the object is\n    // not required to be resolved right now.\n    if (callback) {\n      this._ensureObj(objId).capability.promise.then(callback);\n      return null;\n    }\n    // If there isn't a callback, the user expects to get the resolved data\n    // directly.\n    const obj = this._objs[objId];\n    // If there isn't an object yet or the object isn't resolved, then the\n    // data isn't ready yet!\n    if (!obj || !obj.resolved) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n\n  has(objId) {\n    const obj = this._objs[objId];\n    return obj ? obj.resolved : false;\n  }\n\n  /**\n   * Resolves the object `objId` with optional `data`.\n   */\n  resolve(objId, data) {\n    const obj = this._ensureObj(objId);\n\n    obj.resolved = true;\n    obj.data = data;\n    obj.capability.resolve(data);\n  }\n\n  clear() {\n    this._objs = Object.create(null);\n  }\n}\n\n/**\n * Allows controlling of the rendering tasks.\n */\nclass RenderTask {\n  constructor(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  /**\n   * Promise for rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._internalRenderTask.capability.promise;\n  }\n\n  /**\n   * Cancels the rendering task. If the task is currently rendering it will\n   * not be cancelled until graphics pauses with a timeout. The promise that\n   * this object extends will be rejected when cancelled.\n   */\n  cancel() {\n    this._internalRenderTask.cancel();\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nconst InternalRenderTask = (function InternalRenderTaskClosure() {\n  const canvasInRendering = new WeakSet();\n\n  // eslint-disable-next-line no-shadow\n  class InternalRenderTask {\n    constructor({\n      callback,\n      params,\n      objs,\n      commonObjs,\n      operatorList,\n      pageIndex,\n      canvasFactory,\n      webGLContext,\n      useRequestAnimationFrame = false,\n      pdfBug = false,\n    }) {\n      this.callback = callback;\n      this.params = params;\n      this.objs = objs;\n      this.commonObjs = commonObjs;\n      this.operatorListIdx = null;\n      this.operatorList = operatorList;\n      this._pageIndex = pageIndex;\n      this.canvasFactory = canvasFactory;\n      this.webGLContext = webGLContext;\n      this._pdfBug = pdfBug;\n\n      this.running = false;\n      this.graphicsReadyCallback = null;\n      this.graphicsReady = false;\n      this._useRequestAnimationFrame =\n        useRequestAnimationFrame === true && typeof window !== \"undefined\";\n      this.cancelled = false;\n      this.capability = createPromiseCapability();\n      this.task = new RenderTask(this);\n      // caching this-bound methods\n      this._continueBound = this._continue.bind(this);\n      this._scheduleNextBound = this._scheduleNext.bind(this);\n      this._nextBound = this._next.bind(this);\n      this._canvas = params.canvasContext.canvas;\n    }\n\n    get completed() {\n      return this.capability.promise.catch(function () {\n        // Ignoring errors, since we only want to know when rendering is\n        // no longer pending.\n      });\n    }\n\n    initializeGraphics({ transparency = false, optionalContentConfig }) {\n      if (this.cancelled) {\n        return;\n      }\n      if (this._canvas) {\n        if (canvasInRendering.has(this._canvas)) {\n          throw new Error(\n            \"Cannot use the same canvas during multiple render() operations. \" +\n              \"Use different canvas or ensure previous operations were \" +\n              \"cancelled or completed.\"\n          );\n        }\n        canvasInRendering.add(this._canvas);\n      }\n\n      if (\n        this._pdfBug &&\n        globalThis.StepperManager &&\n        globalThis.StepperManager.enabled\n      ) {\n        this.stepper = globalThis.StepperManager.create(this._pageIndex);\n        this.stepper.init(this.operatorList);\n        this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n      }\n      const {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      } = this.params;\n\n      this.gfx = new CanvasGraphics(\n        canvasContext,\n        this.commonObjs,\n        this.objs,\n        this.canvasFactory,\n        this.webGLContext,\n        imageLayer,\n        optionalContentConfig\n      );\n      this.gfx.beginDrawing({\n        transform,\n        viewport,\n        transparency,\n        background,\n      });\n      this.operatorListIdx = 0;\n      this.graphicsReady = true;\n      if (this.graphicsReadyCallback) {\n        this.graphicsReadyCallback();\n      }\n    }\n\n    cancel(error = null) {\n      this.running = false;\n      this.cancelled = true;\n      if (this.gfx) {\n        this.gfx.endDrawing();\n      }\n      if (this._canvas) {\n        canvasInRendering.delete(this._canvas);\n      }\n      this.callback(\n        error ||\n          new RenderingCancelledException(\n            `Rendering cancelled, page ${this._pageIndex + 1}`,\n            \"canvas\"\n          )\n      );\n    }\n\n    operatorListChanged() {\n      if (!this.graphicsReady) {\n        if (!this.graphicsReadyCallback) {\n          this.graphicsReadyCallback = this._continueBound;\n        }\n        return;\n      }\n\n      if (this.stepper) {\n        this.stepper.updateOperatorList(this.operatorList);\n      }\n\n      if (this.running) {\n        return;\n      }\n      this._continue();\n    }\n\n    _continue() {\n      this.running = true;\n      if (this.cancelled) {\n        return;\n      }\n      if (this.task.onContinue) {\n        this.task.onContinue(this._scheduleNextBound);\n      } else {\n        this._scheduleNext();\n      }\n    }\n\n    _scheduleNext() {\n      if (this._useRequestAnimationFrame) {\n        window.requestAnimationFrame(() => {\n          this._nextBound().catch(this.cancel.bind(this));\n        });\n      } else {\n        Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this));\n      }\n    }\n\n    async _next() {\n      if (this.cancelled) {\n        return;\n      }\n      this.operatorListIdx = this.gfx.executeOperatorList(\n        this.operatorList,\n        this.operatorListIdx,\n        this._continueBound,\n        this.stepper\n      );\n      if (this.operatorListIdx === this.operatorList.argsArray.length) {\n        this.running = false;\n        if (this.operatorList.lastChunk) {\n          this.gfx.endDrawing();\n          if (this._canvas) {\n            canvasInRendering.delete(this._canvas);\n          }\n          this.callback();\n        }\n      }\n    }\n  }\n  return InternalRenderTask;\n})();\n\n/** @type {string} */\nconst version =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : null;\n/** @type {string} */\nconst build =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : null;\n\nexport {\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  setPDFNetworkStreamFactory,\n  version,\n  build,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  bytesToString,\n  IsEvalSupportedCached,\n  shadow,\n  string32,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  warn,\n} from \"../shared/util.js\";\n\nclass BaseFontLoader {\n  constructor({\n    docId,\n    onUnsupportedFeature,\n    ownerDocument = globalThis.document,\n  }) {\n    if (this.constructor === BaseFontLoader) {\n      unreachable(\"Cannot initialize BaseFontLoader.\");\n    }\n    this.docId = docId;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this._document = ownerDocument;\n\n    this.nativeFontFaces = [];\n    this.styleElement = null;\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    let styleElement = this.styleElement;\n    if (!styleElement) {\n      styleElement = this.styleElement = this._document.createElement(\"style\");\n      styleElement.id = `PDFJS_FONT_STYLE_TAG_${this.docId}`;\n      this._document.documentElement\n        .getElementsByTagName(\"head\")[0]\n        .appendChild(styleElement);\n    }\n\n    const styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    this.nativeFontFaces.forEach(nativeFontFace => {\n      this._document.fonts.delete(nativeFontFace);\n    });\n    this.nativeFontFaces.length = 0;\n\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async bind(font) {\n    // Add the font to the DOM only once; skip if the font is already loaded.\n    if (font.attached || font.missingFile) {\n      return;\n    }\n    font.attached = true;\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          this._onUnsupportedFeature({\n            featureId: UNSUPPORTED_FEATURES.errorFontLoadNative,\n          });\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n\n          // When font loading failed, fall back to the built-in font renderer.\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return; // The font was, asynchronously, loaded.\n    }\n\n    // !this.isFontLoadingAPISupported\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return; // The font was, synchronously, loaded.\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent([rule], [font], request);\n      });\n      // The font was, asynchronously, loaded.\n    }\n  }\n\n  _queueLoadingCallback(callback) {\n    unreachable(\"Abstract method `_queueLoadingCallback`.\");\n  }\n\n  get isFontLoadingAPISupported() {\n    const supported =\n      typeof this._document !== \"undefined\" && !!this._document.fonts;\n    return shadow(this, \"isFontLoadingAPISupported\", supported);\n  }\n\n  // eslint-disable-next-line getter-return\n  get isSyncFontLoadingSupported() {\n    unreachable(\"Abstract method `isSyncFontLoadingSupported`.\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get _loadTestFont() {\n    unreachable(\"Abstract method `_loadTestFont`.\");\n  }\n\n  _prepareFontLoadEvent(rules, fontsToLoad, request) {\n    unreachable(\"Abstract method `_prepareFontLoadEvent`.\");\n  }\n}\n\nlet FontLoader;\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  FontLoader = class MozcentralFontLoader extends BaseFontLoader {\n    get isSyncFontLoadingSupported() {\n      return shadow(this, \"isSyncFontLoadingSupported\", true);\n    }\n  };\n} else {\n  // PDFJSDev.test('CHROME || GENERIC')\n\n  FontLoader = class GenericFontLoader extends BaseFontLoader {\n    constructor(params) {\n      super(params);\n      this.loadingContext = {\n        requests: [],\n        nextRequestId: 0,\n      };\n      this.loadTestFontId = 0;\n    }\n\n    get isSyncFontLoadingSupported() {\n      let supported = false;\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"CHROME\")) {\n        if (typeof navigator === \"undefined\") {\n          // Node.js - we can pretend that sync font loading is supported.\n          supported = true;\n        } else {\n          // User agent string sniffing is bad, but there is no reliable way to\n          // tell if the font is fully loaded and ready to be used with canvas.\n          const m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(\n            navigator.userAgent\n          );\n          if (m && m[1] >= 14) {\n            supported = true;\n          }\n          // TODO - other browsers...\n        }\n      }\n      return shadow(this, \"isSyncFontLoadingSupported\", supported);\n    }\n\n    _queueLoadingCallback(callback) {\n      function completeRequest() {\n        assert(!request.done, \"completeRequest() cannot be called twice.\");\n        request.done = true;\n\n        // Sending all completed requests in order of how they were queued.\n        while (context.requests.length > 0 && context.requests[0].done) {\n          const otherRequest = context.requests.shift();\n          setTimeout(otherRequest.callback, 0);\n        }\n      }\n\n      const context = this.loadingContext;\n      const request = {\n        id: `pdfjs-font-loading-${context.nextRequestId++}`,\n        done: false,\n        complete: completeRequest,\n        callback,\n      };\n      context.requests.push(request);\n      return request;\n    }\n\n    get _loadTestFont() {\n      const getLoadTestFont = function () {\n        // This is a CFF font with 1 glyph for '.' that fills its entire width\n        // and height.\n        return atob(\n          \"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" +\n            \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" +\n            \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" +\n            \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" +\n            \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" +\n            \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" +\n            \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" +\n            \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" +\n            \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" +\n            \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" +\n            \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" +\n            \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" +\n            \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" +\n            \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" +\n            \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" +\n            \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" +\n            \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"\n        );\n      };\n      return shadow(this, \"_loadTestFont\", getLoadTestFont());\n    }\n\n    _prepareFontLoadEvent(rules, fonts, request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is ready.\n      // It's assumed fonts are loaded in order, so add a known test font after\n      // the desired fonts and then test for the loading of that test font.\n\n      function int32(data, offset) {\n        return (\n          (data.charCodeAt(offset) << 24) |\n          (data.charCodeAt(offset + 1) << 16) |\n          (data.charCodeAt(offset + 2) << 8) |\n          (data.charCodeAt(offset + 3) & 0xff)\n        );\n      }\n      function spliceString(s, offset, remove, insert) {\n        const chunk1 = s.substring(0, offset);\n        const chunk2 = s.substring(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n      let i, ii;\n\n      // The temporary canvas is used to determine if fonts are loaded.\n      const canvas = this._document.createElement(\"canvas\");\n      canvas.width = 1;\n      canvas.height = 1;\n      const ctx = canvas.getContext(\"2d\");\n\n      let called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if (called > 30) {\n          warn(\"Load test font never loaded.\");\n          callback();\n          return;\n        }\n        ctx.font = \"30px \" + name;\n        ctx.fillText(\".\", 0, 20);\n        const imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      let data = this._loadTestFont;\n      const COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(\n        data,\n        COMMENT_OFFSET,\n        loadTestFontId.length,\n        loadTestFontId\n      );\n      // CFF checksum is important for IE, adjusting it\n      const CFF_CHECKSUM_OFFSET = 16;\n      const XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) {\n        // align to 4 bytes boundary\n        checksum =\n          (checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      const url = `url(data:font/opentype;base64,${btoa(data)});`;\n      const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n      this.insertRule(rule);\n\n      const names = [];\n      for (i = 0, ii = fonts.length; i < ii; i++) {\n        names.push(fonts[i].loadedName);\n      }\n      names.push(loadTestFontId);\n\n      const div = this._document.createElement(\"div\");\n      div.style.visibility = \"hidden\";\n      div.style.width = div.style.height = \"10px\";\n      div.style.position = \"absolute\";\n      div.style.top = div.style.left = \"0px\";\n\n      for (i = 0, ii = names.length; i < ii; ++i) {\n        const span = this._document.createElement(\"span\");\n        span.textContent = \"Hi\";\n        span.style.fontFamily = names[i];\n        div.appendChild(span);\n      }\n      this._document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, () => {\n        this._document.body.removeChild(div);\n        request.complete();\n      });\n      /** Hack end */\n    }\n  };\n} // End of PDFJSDev.test('CHROME || GENERIC')\n\nclass FontFaceObject {\n  constructor(\n    translatedData,\n    {\n      isEvalSupported = true,\n      disableFontFace = false,\n      ignoreErrors = false,\n      onUnsupportedFeature = null,\n      fontRegistry = null,\n    }\n  ) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this.fontRegistry = fontRegistry;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this);\n    }\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = bytesToString(new Uint8Array(this.data));\n    // Add the @font-face rule to the document.\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this, url);\n    }\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds, current;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      if (this._onUnsupportedFeature) {\n        this._onUnsupportedFeature({\n          featureId: UNSUPPORTED_FEATURES.errorFontGetPath,\n        });\n      }\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n\n      return (this.compiledGlyphs[character] = function (c, size) {\n        // No-op function, to allow rendering to continue.\n      });\n    }\n\n    // If we can, compile cmds into JS for MAXIMUM SPEED...\n    if (this.isEvalSupported && IsEvalSupportedCached.value) {\n      let args,\n        js = \"\";\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.args !== undefined) {\n          args = current.args.join(\",\");\n        } else {\n          args = \"\";\n        }\n        js += \"c.\" + current.cmd + \"(\" + args + \");\\n\";\n      }\n      // eslint-disable-next-line no-new-func\n      return (this.compiledGlyphs[character] = new Function(\"c\", \"size\", js));\n    }\n    // ... but fall back on using Function.prototype.apply() if we're\n    // blocked from using eval() for whatever reason (like CSP policies).\n    return (this.compiledGlyphs[character] = function (c, size) {\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n        c[current.cmd].apply(c, current.args);\n      }\n    });\n  }\n}\n\nexport { FontFaceObject, FontLoader };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n/* eslint no-var: error */\n\nimport { BaseCanvasFactory, BaseCMapReaderFactory } from \"./display_utils.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nlet NodeCanvasFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCanvasFactory\");\n  }\n};\n\nlet NodeCMapReaderFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCMapReaderFactory\");\n  }\n};\n\nif ((typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS) {\n  NodeCanvasFactory = class extends BaseCanvasFactory {\n    create(width, height) {\n      if (width <= 0 || height <= 0) {\n        throw new Error(\"Invalid canvas size\");\n      }\n      const Canvas = __non_webpack_require__(\"canvas\");\n      const canvas = Canvas.createCanvas(width, height);\n      return {\n        canvas,\n        context: canvas.getContext(\"2d\"),\n      };\n    }\n  };\n\n  NodeCMapReaderFactory = class extends BaseCMapReaderFactory {\n    _fetchData(url, compressionType) {\n      return new Promise((resolve, reject) => {\n        const fs = __non_webpack_require__(\"fs\");\n        fs.readFile(url, (error, data) => {\n          if (error || !data) {\n            reject(new Error(error));\n            return;\n          }\n          resolve({ cMapData: new Uint8Array(data), compressionType });\n        });\n      });\n    }\n  };\n}\n\nexport { NodeCanvasFactory, NodeCMapReaderFactory };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Key/value storage for annotation data in forms.\n */\nclass AnnotationStorage {\n  constructor() {\n    this._storage = new Map();\n    this._modified = false;\n\n    // Callbacks to signal when the modification state is set or reset.\n    // This is used by the viewer to only bind on `beforeunload` if forms\n    // are actually edited to prevent doing so unconditionally since that\n    // can have undesirable efffects.\n    this.onSetModified = null;\n    this.onResetModified = null;\n  }\n\n  /**\n   * Get the value for a given key if it exists\n   * or store and return the default value\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} defaultValue\n   * @returns {Object}\n   */\n  getOrCreateValue(key, defaultValue) {\n    if (this._storage.has(key)) {\n      return this._storage.get(key);\n    }\n\n    this._storage.set(key, defaultValue);\n    return defaultValue;\n  }\n\n  /**\n   * Set the value for a given key\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} value\n   */\n  setValue(key, value) {\n    if (this._storage.get(key) !== value) {\n      this._setModified();\n    }\n    this._storage.set(key, value);\n  }\n\n  getAll() {\n    if (this._storage.size === 0) {\n      return null;\n    }\n    return Object.fromEntries(this._storage);\n  }\n\n  get size() {\n    return this._storage.size;\n  }\n\n  /**\n   * @private\n   */\n  _setModified() {\n    if (!this._modified) {\n      this._modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this._modified) {\n      this._modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n}\n\nexport { AnnotationStorage };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNodeJS } from \"../shared/is_node.js\";\n\nconst compatibilityParams = Object.create(null);\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  // Support: Node.js\n  (function checkFontFace() {\n    // Node.js is missing native support for `@font-face`.\n    if (isNodeJS) {\n      compatibilityParams.disableFontFace = true;\n    }\n  })();\n}\nconst apiCompatibilityParams = Object.freeze(compatibilityParams);\n\nexport { apiCompatibilityParams };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  IsLittleEndianCached,\n  isNum,\n  OPS,\n  shadow,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { getShadingPatternFromIR, TilingPattern } from \"./pattern_helper.js\";\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n\n// Minimal font size that would be used during canvas fillText operations.\nvar MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nvar MAX_FONT_SIZE = 100;\nvar MAX_GROUP_SIZE = 4096;\n\n// Heuristic value used when enforcing minimum line widths.\nvar MIN_WIDTH_FACTOR = 0.65;\n\nvar COMPILE_TYPE3_GLYPHS = true;\nvar MAX_SIZE_TO_COMPILE = 1000;\n\nvar FULL_CHUNK_HEIGHT = 16;\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based one.\n  if (!ctx.mozCurrentTransform) {\n    ctx._originalSave = ctx.save;\n    ctx._originalRestore = ctx.restore;\n    ctx._originalRotate = ctx.rotate;\n    ctx._originalScale = ctx.scale;\n    ctx._originalTranslate = ctx.translate;\n    ctx._originalTransform = ctx.transform;\n    ctx._originalSetTransform = ctx.setTransform;\n\n    ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n    ctx._transformStack = [];\n\n    Object.defineProperty(ctx, \"mozCurrentTransform\", {\n      get: function getCurrentTransform() {\n        return this._transformMatrix;\n      },\n    });\n\n    Object.defineProperty(ctx, \"mozCurrentTransformInverse\", {\n      get: function getCurrentTransformInverse() {\n        // Calculation done using WolframAlpha:\n        // http://www.wolframalpha.com/input/?\n        //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n        var m = this._transformMatrix;\n        var a = m[0],\n          b = m[1],\n          c = m[2],\n          d = m[3],\n          e = m[4],\n          f = m[5];\n\n        var ad_bc = a * d - b * c;\n        var bc_ad = b * c - a * d;\n\n        return [\n          d / ad_bc,\n          b / bc_ad,\n          c / bc_ad,\n          a / ad_bc,\n          (d * e - c * f) / bc_ad,\n          (b * e - a * f) / ad_bc,\n        ];\n      },\n    });\n\n    ctx.save = function ctxSave() {\n      var old = this._transformMatrix;\n      this._transformStack.push(old);\n      this._transformMatrix = old.slice(0, 6);\n\n      this._originalSave();\n    };\n\n    ctx.restore = function ctxRestore() {\n      var prev = this._transformStack.pop();\n      if (prev) {\n        this._transformMatrix = prev;\n        this._originalRestore();\n      }\n    };\n\n    ctx.translate = function ctxTranslate(x, y) {\n      var m = this._transformMatrix;\n      m[4] = m[0] * x + m[2] * y + m[4];\n      m[5] = m[1] * x + m[3] * y + m[5];\n\n      this._originalTranslate(x, y);\n    };\n\n    ctx.scale = function ctxScale(x, y) {\n      var m = this._transformMatrix;\n      m[0] = m[0] * x;\n      m[1] = m[1] * x;\n      m[2] = m[2] * y;\n      m[3] = m[3] * y;\n\n      this._originalScale(x, y);\n    };\n\n    ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * a + m[2] * b,\n        m[1] * a + m[3] * b,\n        m[0] * c + m[2] * d,\n        m[1] * c + m[3] * d,\n        m[0] * e + m[2] * f + m[4],\n        m[1] * e + m[3] * f + m[5],\n      ];\n\n      ctx._originalTransform(a, b, c, d, e, f);\n    };\n\n    ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n      this._transformMatrix = [a, b, c, d, e, f];\n\n      ctx._originalSetTransform(a, b, c, d, e, f);\n    };\n\n    ctx.rotate = function ctxRotate(angle) {\n      var cosValue = Math.cos(angle);\n      var sinValue = Math.sin(angle);\n\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * cosValue + m[2] * sinValue,\n        m[1] * cosValue + m[3] * sinValue,\n        m[0] * -sinValue + m[2] * cosValue,\n        m[1] * -sinValue + m[3] * cosValue,\n        m[4],\n        m[5],\n      ];\n\n      this._originalRotate(angle);\n    };\n  }\n}\n\nvar CachedCanvases = (function CachedCanvasesClosure() {\n  // eslint-disable-next-line no-shadow\n  function CachedCanvases(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  CachedCanvases.prototype = {\n    getCanvas: function CachedCanvases_getCanvas(\n      id,\n      width,\n      height,\n      trackTransform\n    ) {\n      var canvasEntry;\n      if (this.cache[id] !== undefined) {\n        canvasEntry = this.cache[id];\n        this.canvasFactory.reset(canvasEntry, width, height);\n        // reset canvas transform for emulated mozCurrentTransform, if needed\n        canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n      } else {\n        canvasEntry = this.canvasFactory.create(width, height);\n        this.cache[id] = canvasEntry;\n      }\n      if (trackTransform) {\n        addContextCurrentTransform(canvasEntry.context);\n      }\n      return canvasEntry;\n    },\n    clear() {\n      for (var id in this.cache) {\n        var canvasEntry = this.cache[id];\n        this.canvasFactory.destroy(canvasEntry);\n        delete this.cache[id];\n      }\n    },\n  };\n  return CachedCanvases;\n})();\n\nfunction compileType3Glyph(imgData) {\n  var POINT_TO_PROCESS_LIMIT = 1000;\n\n  var width = imgData.width,\n    height = imgData.height;\n  var i,\n    j,\n    j0,\n    width1 = width + 1;\n  var points = new Uint8Array(width1 * (height + 1));\n  // prettier-ignore\n  var POINT_TYPES =\n      new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n\n  // decodes bit-packed mask data\n  var lineSize = (width + 7) & ~7,\n    data0 = imgData.data;\n  var data = new Uint8Array(lineSize * height),\n    pos = 0,\n    ii;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    var mask = 128,\n      elem = data0[i];\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding interesting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  var count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum =\n        (sum >> 2) +\n        (data[pos + 1] ? 4 : 0) +\n        (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  var outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    var p = i * width1;\n    var end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    var coords = [p % width1, i];\n\n    var type = points[p],\n      p0 = p,\n      pp;\n    do {\n      var step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else {\n        // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2) | (type << 2);\n      }\n\n      coords.push(p % width1);\n      coords.push((p / width1) | 0);\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  var drawOutline = function (c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (let k = 0, kk = outlines.length; k < kk; k++) {\n      var o = outlines[k];\n      c.moveTo(o[0], o[1]);\n      for (let l = 2, ll = o.length; l < ll; l += 2) {\n        c.lineTo(o[l], o[l + 1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nvar CanvasExtraState = (function CanvasExtraStateClosure() {\n  // eslint-disable-next-line no-shadow\n  function CanvasExtraState() {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.resumeSMaskCtx = null; // nonclonable field (see the save method below)\n    this.transferMaps = null;\n  }\n\n  CanvasExtraState.prototype = {\n    clone: function CanvasExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    },\n  };\n  return CanvasExtraState;\n})();\n\n/**\n * @type {any}\n */\nvar CanvasGraphics = (function CanvasGraphicsClosure() {\n  // Defines the time the executeOperatorList is going to be executing\n  // before it stops and shedules a continue of execution.\n  var EXECUTION_TIME = 15;\n  // Defines the number of steps before checking the execution time\n  var EXECUTION_STEPS = 10;\n\n  // eslint-disable-next-line no-shadow\n  function CanvasGraphics(\n    canvasCtx,\n    commonObjs,\n    objs,\n    canvasFactory,\n    webGLContext,\n    imageLayer,\n    optionalContentConfig\n  ) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.webGLContext = webGLContext;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see pdf\n    // spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.contentVisible = true;\n    this.markedContentStack = [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    if (canvasCtx) {\n      // NOTE: if mozCurrentTransform is polyfilled, then the current state of\n      // the transformation must already be set in canvasCtx._transformMatrix.\n      addContextCurrentTransform(canvasCtx);\n    }\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  function putBinaryImageData(ctx, imgData, transferMaps = null) {\n    if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n      ctx.putImageData(imgData, 0, 0);\n      return;\n    }\n\n    // Put the image data to the canvas in chunks, rather than putting the\n    // whole image at once.  This saves JS memory, because the ImageData object\n    // is smaller. It also possibly saves C++ memory within the implementation\n    // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n    // the data passed to putImageData()). |n| shouldn't be too small, however,\n    // because too many putImageData() calls will slow things down.\n    //\n    // Note: as written, if the last chunk is partial, the putImageData() call\n    // will (conceptually) put pixels past the bounds of the canvas.  But\n    // that's ok; any such pixels are ignored.\n\n    var height = imgData.height,\n      width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0,\n      destPos;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n    var i, j, thisChunkHeight, elemsInThisChunk;\n\n    let transferMapRed, transferMapGreen, transferMapBlue, transferMapGray;\n    if (transferMaps) {\n      switch (transferMaps.length) {\n        case 1:\n          transferMapRed = transferMaps[0];\n          transferMapGreen = transferMaps[0];\n          transferMapBlue = transferMaps[0];\n          transferMapGray = transferMaps[0];\n          break;\n        case 4:\n          transferMapRed = transferMaps[0];\n          transferMapGreen = transferMaps[1];\n          transferMapBlue = transferMaps[2];\n          transferMapGray = transferMaps[3];\n          break;\n      }\n    }\n\n    // There are multiple forms in which the pixel data can be passed, and\n    // imgData.kind tells us which one this is.\n    if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n      // Grayscale, 1 bit per pixel (i.e. black-and-white).\n      var srcLength = src.byteLength;\n      var dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n      var dest32DataLength = dest32.length;\n      var fullSrcDiff = (width + 7) >> 3;\n      var white = 0xffffffff;\n      var black = IsLittleEndianCached.value ? 0xff000000 : 0x000000ff;\n\n      if (transferMapGray) {\n        if (transferMapGray[0] === 0xff && transferMapGray[0xff] === 0) {\n          [white, black] = [black, white];\n        }\n      }\n\n      for (i = 0; i < totalChunks; i++) {\n        thisChunkHeight =\n          i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n        destPos = 0;\n        for (j = 0; j < thisChunkHeight; j++) {\n          var srcDiff = srcLength - srcPos;\n          let k = 0;\n          var kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n          var kEndUnrolled = kEnd & ~7;\n          var mask = 0;\n          var srcByte = 0;\n          for (; k < kEndUnrolled; k += 8) {\n            srcByte = src[srcPos++];\n            dest32[destPos++] = srcByte & 128 ? white : black;\n            dest32[destPos++] = srcByte & 64 ? white : black;\n            dest32[destPos++] = srcByte & 32 ? white : black;\n            dest32[destPos++] = srcByte & 16 ? white : black;\n            dest32[destPos++] = srcByte & 8 ? white : black;\n            dest32[destPos++] = srcByte & 4 ? white : black;\n            dest32[destPos++] = srcByte & 2 ? white : black;\n            dest32[destPos++] = srcByte & 1 ? white : black;\n          }\n          for (; k < kEnd; k++) {\n            if (mask === 0) {\n              srcByte = src[srcPos++];\n              mask = 128;\n            }\n\n            dest32[destPos++] = srcByte & mask ? white : black;\n            mask >>= 1;\n          }\n        }\n        // We ran out of input. Make all remaining pixels transparent.\n        while (destPos < dest32DataLength) {\n          dest32[destPos++] = 0;\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n      // RGBA, 32-bits per pixel.\n      const hasTransferMaps = !!(\n        transferMapRed ||\n        transferMapGreen ||\n        transferMapBlue\n      );\n\n      j = 0;\n      elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n      for (i = 0; i < fullChunks; i++) {\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        srcPos += elemsInThisChunk;\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < elemsInThisChunk; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, j);\n        j += FULL_CHUNK_HEIGHT;\n      }\n      if (i < totalChunks) {\n        elemsInThisChunk = width * partialChunkHeight * 4;\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < elemsInThisChunk; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, j);\n      }\n    } else if (imgData.kind === ImageKind.RGB_24BPP) {\n      // RGB, 24-bits per pixel.\n      const hasTransferMaps = !!(\n        transferMapRed ||\n        transferMapGreen ||\n        transferMapBlue\n      );\n\n      thisChunkHeight = FULL_CHUNK_HEIGHT;\n      elemsInThisChunk = width * thisChunkHeight;\n      for (i = 0; i < totalChunks; i++) {\n        if (i >= fullChunks) {\n          thisChunkHeight = partialChunkHeight;\n          elemsInThisChunk = width * thisChunkHeight;\n        }\n\n        destPos = 0;\n        for (j = elemsInThisChunk; j--; ) {\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = 255;\n        }\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < destPos; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else {\n      throw new Error(`bad image kind: ${imgData.kind}`);\n    }\n  }\n\n  function putBinaryImageMask(ctx, imgData) {\n    var height = imgData.height,\n      width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n\n    for (var i = 0; i < totalChunks; i++) {\n      var thisChunkHeight =\n        i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n      // Expand the mask so it can be used by the canvas.  Any required\n      // inversion has already been handled.\n      var destPos = 3; // alpha component offset\n      for (var j = 0; j < thisChunkHeight; j++) {\n        var mask = 0;\n        for (var k = 0; k < width; k++) {\n          if (!mask) {\n            var elem = src[srcPos++];\n            mask = 128;\n          }\n          dest[destPos] = elem & mask ? 0 : 255;\n          destPos += 4;\n          mask >>= 1;\n        }\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  }\n\n  function copyCtxState(sourceCtx, destCtx) {\n    var properties = [\n      \"strokeStyle\",\n      \"fillStyle\",\n      \"fillRule\",\n      \"globalAlpha\",\n      \"lineWidth\",\n      \"lineCap\",\n      \"lineJoin\",\n      \"miterLimit\",\n      \"globalCompositeOperation\",\n      \"font\",\n    ];\n    for (var i = 0, ii = properties.length; i < ii; i++) {\n      var property = properties[i];\n      if (sourceCtx[property] !== undefined) {\n        destCtx[property] = sourceCtx[property];\n      }\n    }\n    if (sourceCtx.setLineDash !== undefined) {\n      destCtx.setLineDash(sourceCtx.getLineDash());\n      destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n    }\n  }\n\n  function resetCtxToDefault(ctx) {\n    ctx.strokeStyle = \"#000000\";\n    ctx.fillStyle = \"#000000\";\n    ctx.fillRule = \"nonzero\";\n    ctx.globalAlpha = 1;\n    ctx.lineWidth = 1;\n    ctx.lineCap = \"butt\";\n    ctx.lineJoin = \"miter\";\n    ctx.miterLimit = 10;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.font = \"10px sans-serif\";\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash([]);\n      ctx.lineDashOffset = 0;\n    }\n  }\n\n  function composeSMaskBackdrop(bytes, r0, g0, b0) {\n    var length = bytes.length;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = bytes[i];\n      if (alpha === 0) {\n        bytes[i - 3] = r0;\n        bytes[i - 2] = g0;\n        bytes[i - 1] = b0;\n      } else if (alpha < 255) {\n        var alpha_ = 255 - alpha;\n        bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n        bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n        bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n      }\n    }\n  }\n\n  function composeSMaskAlpha(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    var scale = 1 / 255;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n      layerData[i] = (layerData[i] * alpha * scale) | 0;\n    }\n  }\n\n  function composeSMaskLuminosity(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    for (var i = 3; i < length; i += 4) {\n      var y =\n        maskData[i - 3] * 77 + // * 0.3 / 255 * 0x10000\n        maskData[i - 2] * 152 + // * 0.59 ....\n        maskData[i - 1] * 28; // * 0.11 ....\n      layerData[i] = transferMap\n        ? (layerData[i] * transferMap[y >> 8]) >> 8\n        : (layerData[i] * y) >> 16;\n    }\n  }\n\n  function genericComposeSMask(\n    maskCtx,\n    layerCtx,\n    width,\n    height,\n    subtype,\n    backdrop,\n    transferMap\n  ) {\n    var hasBackdrop = !!backdrop;\n    var r0 = hasBackdrop ? backdrop[0] : 0;\n    var g0 = hasBackdrop ? backdrop[1] : 0;\n    var b0 = hasBackdrop ? backdrop[2] : 0;\n\n    var composeFn;\n    if (subtype === \"Luminosity\") {\n      composeFn = composeSMaskLuminosity;\n    } else {\n      composeFn = composeSMaskAlpha;\n    }\n\n    // processing image in chunks to save memory\n    var PIXELS_TO_PROCESS = 1048576;\n    var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n    for (var row = 0; row < height; row += chunkSize) {\n      var chunkHeight = Math.min(chunkSize, height - row);\n      var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n      var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n      if (hasBackdrop) {\n        composeSMaskBackdrop(maskData.data, r0, g0, b0);\n      }\n      composeFn(maskData.data, layerData.data, transferMap);\n\n      maskCtx.putImageData(layerData, 0, row);\n    }\n  }\n\n  function composeSMask(ctx, smask, layerCtx, webGLContext) {\n    var mask = smask.canvas;\n    var maskCtx = smask.context;\n\n    ctx.setTransform(\n      smask.scaleX,\n      0,\n      0,\n      smask.scaleY,\n      smask.offsetX,\n      smask.offsetY\n    );\n\n    var backdrop = smask.backdrop || null;\n    if (!smask.transferMap && webGLContext.isEnabled) {\n      const composed = webGLContext.composeSMask({\n        layer: layerCtx.canvas,\n        mask,\n        properties: {\n          subtype: smask.subtype,\n          backdrop,\n        },\n      });\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n      return;\n    }\n    genericComposeSMask(\n      maskCtx,\n      layerCtx,\n      mask.width,\n      mask.height,\n      smask.subtype,\n      backdrop,\n      smask.transferMap\n    );\n    ctx.drawImage(mask, 0, 0);\n  }\n\n  var LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  var LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n  var NORMAL_CLIP = {};\n  var EO_CLIP = {};\n\n  CanvasGraphics.prototype = {\n    beginDrawing({\n      transform,\n      viewport,\n      transparency = false,\n      background = null,\n    }) {\n      // For pdfs that use blend modes we have to clear the canvas else certain\n      // blend modes can look wrong since we'd be blending with a white\n      // backdrop. The problem with a transparent backdrop though is we then\n      // don't get sub pixel anti aliasing on text, creating temporary\n      // transparent canvas when we have blend modes.\n      var width = this.ctx.canvas.width;\n      var height = this.ctx.canvas.height;\n\n      this.ctx.save();\n      this.ctx.fillStyle = background || \"rgb(255, 255, 255)\";\n      this.ctx.fillRect(0, 0, width, height);\n      this.ctx.restore();\n\n      if (transparency) {\n        var transparentCanvas = this.cachedCanvases.getCanvas(\n          \"transparent\",\n          width,\n          height,\n          true\n        );\n        this.compositeCtx = this.ctx;\n        this.transparentCanvas = transparentCanvas.canvas;\n        this.ctx = transparentCanvas.context;\n        this.ctx.save();\n        // The transform can be applied before rendering, transferring it to\n        // the new canvas.\n        this.ctx.transform.apply(\n          this.ctx,\n          this.compositeCtx.mozCurrentTransform\n        );\n      }\n\n      this.ctx.save();\n      resetCtxToDefault(this.ctx);\n      if (transform) {\n        this.ctx.transform.apply(this.ctx, transform);\n      }\n      this.ctx.transform.apply(this.ctx, viewport.transform);\n\n      this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n      if (this.imageLayer) {\n        this.imageLayer.beginLayout();\n      }\n    },\n\n    executeOperatorList: function CanvasGraphics_executeOperatorList(\n      operatorList,\n      executionStartIdx,\n      continueCallback,\n      stepper\n    ) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var i = executionStartIdx || 0;\n      var argsArrayLen = argsArray.length;\n\n      // Sometimes the OperatorList to execute is empty.\n      if (argsArrayLen === i) {\n        return i;\n      }\n\n      var chunkOperations =\n        argsArrayLen - i > EXECUTION_STEPS &&\n        typeof continueCallback === \"function\";\n      var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n      var steps = 0;\n\n      var commonObjs = this.commonObjs;\n      var objs = this.objs;\n      var fnId;\n\n      while (true) {\n        if (stepper !== undefined && i === stepper.nextBreakPoint) {\n          stepper.breakIt(i, continueCallback);\n          return i;\n        }\n\n        fnId = fnArray[i];\n\n        if (fnId !== OPS.dependency) {\n          this[fnId].apply(this, argsArray[i]);\n        } else {\n          for (const depObjId of argsArray[i]) {\n            const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n            // If the promise isn't resolved yet, add the continueCallback\n            // to the promise and bail out.\n            if (!objsPool.has(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n\n        i++;\n\n        // If the entire operatorList was executed, stop as were done.\n        if (i === argsArrayLen) {\n          return i;\n        }\n\n        // If the execution took longer then a certain amount of time and\n        // `continueCallback` is specified, interrupt the execution.\n        if (chunkOperations && ++steps > EXECUTION_STEPS) {\n          if (Date.now() > endTime) {\n            continueCallback();\n            return i;\n          }\n          steps = 0;\n        }\n\n        // If the operatorList isn't executed completely yet OR the execution\n        // time was short enough, do another execution round.\n      }\n    },\n\n    endDrawing: function CanvasGraphics_endDrawing() {\n      // Finishing all opened operations such as SMask group painting.\n      if (this.current.activeSMask !== null) {\n        this.endSMaskGroup();\n      }\n\n      this.ctx.restore();\n\n      if (this.transparentCanvas) {\n        this.ctx = this.compositeCtx;\n        this.ctx.save();\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n        this.ctx.drawImage(this.transparentCanvas, 0, 0);\n        this.ctx.restore();\n        this.transparentCanvas = null;\n      }\n\n      this.cachedCanvases.clear();\n      this.webGLContext.clear();\n\n      if (this.imageLayer) {\n        this.imageLayer.endLayout();\n      }\n    },\n\n    // Graphics state\n    setLineWidth: function CanvasGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n      this.ctx.lineWidth = width;\n    },\n    setLineCap: function CanvasGraphics_setLineCap(style) {\n      this.ctx.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function CanvasGraphics_setLineJoin(style) {\n      this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n      this.ctx.miterLimit = limit;\n    },\n    setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n      var ctx = this.ctx;\n      if (ctx.setLineDash !== undefined) {\n        ctx.setLineDash(dashArray);\n        ctx.lineDashOffset = dashPhase;\n      }\n    },\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    },\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    },\n    setGState: function CanvasGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value[0], value[1]);\n            break;\n          case \"CA\":\n            this.current.strokeAlpha = state[1];\n            break;\n          case \"ca\":\n            this.current.fillAlpha = state[1];\n            this.ctx.globalAlpha = state[1];\n            break;\n          case \"BM\":\n            this.ctx.globalCompositeOperation = value;\n            break;\n          case \"SMask\":\n            if (this.current.activeSMask) {\n              // If SMask is currrenly used, it needs to be suspended or\n              // finished. Suspend only makes sense when at least one save()\n              // was performed and state needs to be reverted on restore().\n              if (\n                this.stateStack.length > 0 &&\n                this.stateStack[this.stateStack.length - 1].activeSMask ===\n                  this.current.activeSMask\n              ) {\n                this.suspendSMaskGroup();\n              } else {\n                this.endSMaskGroup();\n              }\n            }\n            this.current.activeSMask = value ? this.tempSMask : null;\n            if (this.current.activeSMask) {\n              this.beginSMaskGroup();\n            }\n            this.tempSMask = null;\n            break;\n          case \"TR\":\n            this.current.transferMaps = value;\n        }\n      }\n    },\n    beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n      var activeSMask = this.current.activeSMask;\n      var drawnWidth = activeSMask.canvas.width;\n      var drawnHeight = activeSMask.canvas.height;\n      var cacheId = \"smaskGroupAt\" + this.groupLevel;\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId,\n        drawnWidth,\n        drawnHeight,\n        true\n      );\n\n      var currentCtx = this.ctx;\n      var currentTransform = currentCtx.mozCurrentTransform;\n      this.ctx.save();\n\n      var groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n      groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        [\"BM\", \"source-over\"],\n        [\"ca\", 1],\n        [\"CA\", 1],\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Similar to endSMaskGroup, the intermediate canvas has to be composed\n      // and future ctx state restored.\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(\n        this.ctx,\n        this.current.activeSMask,\n        groupCtx,\n        this.webGLContext\n      );\n      this.ctx.restore();\n      this.ctx.save(); // save is needed since SMask will be resumed.\n      copyCtxState(groupCtx, this.ctx);\n\n      // Saving state for resuming.\n      this.current.resumeSMaskCtx = groupCtx;\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform\n      );\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n\n      // SMask was composed, the results at the groupCtx can be cleared.\n      groupCtx.save();\n      groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n      groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n      groupCtx.restore();\n    },\n    resumeSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Resuming state saved by suspendSMaskGroup. We don't need to restore\n      // any groupCtx state since restore() command (the only caller) will do\n      // that for us. See also beginSMaskGroup.\n      var groupCtx = this.current.resumeSMaskCtx;\n      var currentCtx = this.ctx;\n      this.ctx = groupCtx;\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(\n        this.ctx,\n        this.current.activeSMask,\n        groupCtx,\n        this.webGLContext\n      );\n      this.ctx.restore();\n      copyCtxState(groupCtx, this.ctx);\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform\n      );\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n    },\n    save: function CanvasGraphics_save() {\n      this.ctx.save();\n      var old = this.current;\n      this.stateStack.push(old);\n      this.current = old.clone();\n      this.current.resumeSMaskCtx = null;\n    },\n    restore: function CanvasGraphics_restore() {\n      // SMask was suspended, we just need to resume it.\n      if (this.current.resumeSMaskCtx) {\n        this.resumeSMaskGroup();\n      }\n      // SMask has to be finished once there is no states that are using the\n      // same SMask.\n      if (\n        this.current.activeSMask !== null &&\n        (this.stateStack.length === 0 ||\n          this.stateStack[this.stateStack.length - 1].activeSMask !==\n            this.current.activeSMask)\n      ) {\n        this.endSMaskGroup();\n      }\n\n      if (this.stateStack.length !== 0) {\n        this.current = this.stateStack.pop();\n        this.ctx.restore();\n\n        // Ensure that the clipping path is reset (fixes issue6413.pdf).\n        this.pendingClip = null;\n\n        this._cachedGetSinglePixelWidth = null;\n      }\n    },\n    transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n      this.ctx.transform(a, b, c, d, e, f);\n\n      this._cachedGetSinglePixelWidth = null;\n    },\n\n    // Path\n    constructPath: function CanvasGraphics_constructPath(ops, args) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var x = current.x,\n        y = current.y;\n      for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            if (width === 0 && ctx.lineWidth < this.getSinglePixelWidth()) {\n              width = this.getSinglePixelWidth();\n            }\n            if (height === 0 && ctx.lineWidth < this.getSinglePixelWidth()) {\n              height = this.getSinglePixelWidth();\n            }\n            var xw = x + width;\n            var yh = y + height;\n            ctx.moveTo(x, y);\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n            ctx.lineTo(x, y);\n            ctx.closePath();\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.moveTo(x, y);\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.lineTo(x, y);\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            ctx.bezierCurveTo(\n              args[j],\n              args[j + 1],\n              args[j + 2],\n              args[j + 3],\n              x,\n              y\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            ctx.bezierCurveTo(\n              x,\n              y,\n              args[j],\n              args[j + 1],\n              args[j + 2],\n              args[j + 3]\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n            j += 4;\n            break;\n          case OPS.closePath:\n            ctx.closePath();\n            break;\n        }\n      }\n      current.setCurrentPoint(x, y);\n    },\n    closePath: function CanvasGraphics_closePath() {\n      this.ctx.closePath();\n    },\n    stroke: function CanvasGraphics_stroke(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      var ctx = this.ctx;\n      var strokeColor = this.current.strokeColor;\n      // For stroke we want to temporarily change the global alpha to the\n      // stroking alpha.\n      ctx.globalAlpha = this.current.strokeAlpha;\n      if (this.contentVisible) {\n        if (\n          strokeColor &&\n          strokeColor.hasOwnProperty(\"type\") &&\n          strokeColor.type === \"Pattern\"\n        ) {\n          // for patterns, we transform to pattern space, calculate\n          // the pattern, call stroke, and restore to user space\n          ctx.save();\n          // The current transform will be replaced while building the pattern,\n          // but the line width needs to be adjusted by the current transform,\n          // so we must scale it. To properly fix this we should be using a\n          // pattern transform instead (see #10955).\n          const transform = ctx.mozCurrentTransform;\n          const scale = Util.singularValueDecompose2dScale(transform)[0];\n          ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n          ctx.lineWidth = Math.max(\n            this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n            this.current.lineWidth * scale\n          );\n          ctx.stroke();\n          ctx.restore();\n        } else {\n          // Prevent drawing too thin lines by enforcing a minimum line width.\n          ctx.lineWidth = Math.max(\n            this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n            this.current.lineWidth\n          );\n          ctx.stroke();\n        }\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n      // Restore the global alpha to the fill alpha\n      ctx.globalAlpha = this.current.fillAlpha;\n    },\n    closeStroke: function CanvasGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n    fill: function CanvasGraphics_fill(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      var ctx = this.ctx;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      var needRestore = false;\n\n      if (isPatternFill) {\n        ctx.save();\n        if (this.baseTransform) {\n          ctx.setTransform.apply(ctx, this.baseTransform);\n        }\n        ctx.fillStyle = fillColor.getPattern(ctx, this);\n        needRestore = true;\n      }\n\n      if (this.contentVisible) {\n        if (this.pendingEOFill) {\n          ctx.fill(\"evenodd\");\n          this.pendingEOFill = false;\n        } else {\n          ctx.fill();\n        }\n      }\n\n      if (needRestore) {\n        ctx.restore();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n    },\n    eoFill: function CanvasGraphics_eoFill() {\n      this.pendingEOFill = true;\n      this.fill();\n    },\n    fillStroke: function CanvasGraphics_fillStroke() {\n      this.fill(false);\n      this.stroke(false);\n\n      this.consumePath();\n    },\n    eoFillStroke: function CanvasGraphics_eoFillStroke() {\n      this.pendingEOFill = true;\n      this.fillStroke();\n    },\n    closeFillStroke: function CanvasGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n    closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n      this.pendingEOFill = true;\n      this.closePath();\n      this.fillStroke();\n    },\n    endPath: function CanvasGraphics_endPath() {\n      this.consumePath();\n    },\n\n    // Clipping\n    clip: function CanvasGraphics_clip() {\n      this.pendingClip = NORMAL_CLIP;\n    },\n    eoClip: function CanvasGraphics_eoClip() {\n      this.pendingClip = EO_CLIP;\n    },\n\n    // Text\n    beginText: function CanvasGraphics_beginText() {\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.textMatrixScale = 1;\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    endText: function CanvasGraphics_endText() {\n      var paths = this.pendingTextPaths;\n      var ctx = this.ctx;\n      if (paths === undefined) {\n        ctx.beginPath();\n        return;\n      }\n\n      ctx.save();\n      ctx.beginPath();\n      for (var i = 0; i < paths.length; i++) {\n        var path = paths[i];\n        ctx.setTransform.apply(ctx, path.transform);\n        ctx.translate(path.x, path.y);\n        path.addToPath(ctx, path.fontSize);\n      }\n      ctx.restore();\n      ctx.clip();\n      ctx.beginPath();\n      delete this.pendingTextPaths;\n    },\n    setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n      this.current.charSpacing = spacing;\n    },\n    setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n      this.current.wordSpacing = spacing;\n    },\n    setHScale: function CanvasGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n    setLeading: function CanvasGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n    setFont: function CanvasGraphics_setFont(fontRefName, size) {\n      var fontObj = this.commonObjs.get(fontRefName);\n      var current = this.current;\n\n      if (!fontObj) {\n        throw new Error(`Can't find font for ${fontRefName}`);\n      }\n\n      current.fontMatrix = fontObj.fontMatrix\n        ? fontObj.fontMatrix\n        : FONT_IDENTITY_MATRIX;\n\n      // A valid matrix needs all main diagonal elements to be non-zero\n      // This also ensures we bypass FF bugzilla bug #719844.\n      if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n        warn(\"Invalid font matrix for font \" + fontRefName);\n      }\n\n      // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n      // and in some docs this can be negative (inverted x-y axes).\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      this.current.font = fontObj;\n      this.current.fontSize = size;\n\n      if (fontObj.isType3Font) {\n        return; // we don't need ctx.font for Type3 fonts\n      }\n\n      var name = fontObj.loadedName || \"sans-serif\";\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      var italic = fontObj.italic ? \"italic\" : \"normal\";\n      var typeface = `\"${name}\", ${fontObj.fallbackName}`;\n\n      // Some font backends cannot handle fonts below certain size.\n      // Keeping the font at minimal size and using the fontSizeScale to change\n      // the current transformation matrix before the fillText/strokeText.\n      // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n      let browserFontSize = size;\n      if (size < MIN_FONT_SIZE) {\n        browserFontSize = MIN_FONT_SIZE;\n      } else if (size > MAX_FONT_SIZE) {\n        browserFontSize = MAX_FONT_SIZE;\n      }\n      this.current.fontSizeScale = size / browserFontSize;\n\n      this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n    },\n    setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n      this.current.textRenderingMode = mode;\n    },\n    setTextRise: function CanvasGraphics_setTextRise(rise) {\n      this.current.textRise = rise;\n    },\n    moveText: function CanvasGraphics_moveText(x, y) {\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n    },\n    setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n    setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n      this.current.textMatrix = [a, b, c, d, e, f];\n      this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    nextLine: function CanvasGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    paintChar(character, x, y, patternTransform) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var textRenderingMode = current.textRenderingMode;\n      var fontSize = current.fontSize / current.fontSizeScale;\n      var fillStrokeMode =\n        textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      var isAddToPathSet = !!(\n        textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG\n      );\n      const patternFill = current.patternFill && !font.missingFile;\n\n      var addToPath;\n      if (font.disableFontFace || isAddToPathSet || patternFill) {\n        addToPath = font.getPathGenerator(this.commonObjs, character);\n      }\n\n      if (font.disableFontFace || patternFill) {\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.beginPath();\n        addToPath(ctx, fontSize);\n        if (patternTransform) {\n          ctx.setTransform.apply(ctx, patternTransform);\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.FILL ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.fill();\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.stroke();\n        }\n        ctx.restore();\n      } else {\n        if (\n          fillStrokeMode === TextRenderingMode.FILL ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.fillText(character, x, y);\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.strokeText(character, x, y);\n        }\n      }\n\n      if (isAddToPathSet) {\n        var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n        paths.push({\n          transform: ctx.mozCurrentTransform,\n          x,\n          y,\n          fontSize,\n          addToPath,\n        });\n      }\n    },\n\n    get isFontSubpixelAAEnabled() {\n      // Checks if anti-aliasing is enabled when scaled text is painted.\n      // On Windows GDI scaled fonts looks bad.\n      const { context: ctx } = this.cachedCanvases.getCanvas(\n        \"isFontSubpixelAAEnabled\",\n        10,\n        10\n      );\n      ctx.scale(1.5, 1);\n      ctx.fillText(\"I\", 0, 10);\n      var data = ctx.getImageData(0, 0, 10, 10).data;\n      var enabled = false;\n      for (var i = 3; i < data.length; i += 4) {\n        if (data[i] > 0 && data[i] < 255) {\n          enabled = true;\n          break;\n        }\n      }\n      return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n    },\n\n    showText: function CanvasGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      if (font.isType3Font) {\n        return this.showType3Text(glyphs);\n      }\n\n      var fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return undefined;\n      }\n\n      var ctx = this.ctx;\n      var fontSizeScale = current.fontSizeScale;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var spacingDir = vertical ? 1 : -1;\n      var defaultVMetrics = font.defaultVMetrics;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var simpleFillText =\n        current.textRenderingMode === TextRenderingMode.FILL &&\n        !font.disableFontFace &&\n        !current.patternFill;\n\n      ctx.save();\n      let patternTransform;\n      if (current.patternFill) {\n        // TODO: Patterns are not applied correctly to text if a non-embedded\n        // font is used. E.g. issue 8111 and ShowText-ShadingPattern.pdf.\n        ctx.save();\n        const pattern = current.fillColor.getPattern(ctx, this);\n        patternTransform = ctx.mozCurrentTransform;\n        ctx.restore();\n        ctx.fillStyle = pattern;\n      }\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y + current.textRise);\n\n      if (fontDirection > 0) {\n        ctx.scale(textHScale, -1);\n      } else {\n        ctx.scale(textHScale, 1);\n      }\n\n      var lineWidth = current.lineWidth;\n      var scale = current.textMatrixScale;\n      if (scale === 0 || lineWidth === 0) {\n        var fillStrokeMode =\n          current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          this._cachedGetSinglePixelWidth = null;\n          lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n        }\n      } else {\n        lineWidth /= scale;\n      }\n\n      if (fontSizeScale !== 1.0) {\n        ctx.scale(fontSizeScale, fontSizeScale);\n        lineWidth /= fontSizeScale;\n      }\n\n      ctx.lineWidth = lineWidth;\n\n      var x = 0,\n        i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (isNum(glyph)) {\n          x += (spacingDir * glyph * fontSize) / 1000;\n          continue;\n        }\n\n        var restoreNeeded = false;\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var character = glyph.fontChar;\n        var accent = glyph.accent;\n        var scaledX, scaledY, scaledAccentX, scaledAccentY;\n        var width = glyph.width;\n        if (vertical) {\n          var vmetric, vx, vy;\n          vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (font.remeasure && width > 0) {\n          // Some standard fonts may not have the exact width: rescale per\n          // character if measured width is greater than expected glyph width\n          // and subpixel-aa is enabled, otherwise just center the glyph.\n          var measuredWidth =\n            ((ctx.measureText(character).width * 1000) / fontSize) *\n            fontSizeScale;\n          if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n            var characterScaleX = width / measuredWidth;\n            restoreNeeded = true;\n            ctx.save();\n            ctx.scale(characterScaleX, 1);\n            scaledX /= characterScaleX;\n          } else if (width !== measuredWidth) {\n            scaledX +=\n              (((width - measuredWidth) / 2000) * fontSize) / fontSizeScale;\n          }\n        }\n\n        // Only attempt to draw the glyph if it is actually in the embedded font\n        // file or if there isn't a font file so the fallback font is shown.\n        if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n          if (simpleFillText && !accent) {\n            // common case\n            ctx.fillText(character, scaledX, scaledY);\n          } else {\n            this.paintChar(character, scaledX, scaledY, patternTransform);\n            if (accent) {\n              scaledAccentX =\n                scaledX + (fontSize * accent.offset.x) / fontSizeScale;\n              scaledAccentY =\n                scaledY - (fontSize * accent.offset.y) / fontSizeScale;\n              this.paintChar(\n                accent.fontChar,\n                scaledAccentX,\n                scaledAccentY,\n                patternTransform\n              );\n            }\n          }\n        }\n\n        var charWidth;\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n        x += charWidth;\n\n        if (restoreNeeded) {\n          ctx.restore();\n        }\n      }\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n      ctx.restore();\n    },\n\n    showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n      // Type3 fonts - each glyph is a \"mini-PDF\"\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n      var fontDirection = current.fontDirection;\n      var spacingDir = font.vertical ? 1 : -1;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var textHScale = current.textHScale * fontDirection;\n      var fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n      var glyphsLength = glyphs.length;\n      var isTextInvisible =\n        current.textRenderingMode === TextRenderingMode.INVISIBLE;\n      var i, glyph, width, spacingLength;\n\n      if (isTextInvisible || fontSize === 0) {\n        return;\n      }\n      this._cachedGetSinglePixelWidth = null;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y);\n\n      ctx.scale(textHScale, fontDirection);\n\n      for (i = 0; i < glyphsLength; ++i) {\n        glyph = glyphs[i];\n        if (isNum(glyph)) {\n          spacingLength = (spacingDir * glyph * fontSize) / 1000;\n          this.ctx.translate(spacingLength, 0);\n          current.x += spacingLength * textHScale;\n          continue;\n        }\n\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var operatorList = font.charProcOperatorList[glyph.operatorListId];\n        if (!operatorList) {\n          warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n          continue;\n        }\n        if (this.contentVisible) {\n          this.processingType3 = glyph;\n          this.save();\n          ctx.scale(fontSize, fontSize);\n          ctx.transform.apply(ctx, fontMatrix);\n          this.executeOperatorList(operatorList);\n          this.restore();\n        }\n\n        var transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n        width = transformed[0] * fontSize + spacing;\n\n        ctx.translate(width, 0);\n        current.x += width * textHScale;\n      }\n      ctx.restore();\n      this.processingType3 = null;\n    },\n\n    // Type3 fonts\n    setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {\n      // We can safely ignore this since the width should be the same\n      // as the width in the Widths array.\n    },\n    setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(\n      xWidth,\n      yWidth,\n      llx,\n      lly,\n      urx,\n      ury\n    ) {\n      // TODO According to the spec we're also suppose to ignore any operators\n      // that set color or include images while processing this type3 font.\n      this.ctx.rect(llx, lly, urx - llx, ury - lly);\n      this.clip();\n      this.endPath();\n    },\n\n    // Color\n    getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n      var pattern;\n      if (IR[0] === \"TilingPattern\") {\n        var color = IR[1];\n        var baseTransform =\n          this.baseTransform || this.ctx.mozCurrentTransform.slice();\n        var canvasGraphicsFactory = {\n          createCanvasGraphics: ctx => {\n            return new CanvasGraphics(\n              ctx,\n              this.commonObjs,\n              this.objs,\n              this.canvasFactory,\n              this.webGLContext\n            );\n          },\n        };\n        pattern = new TilingPattern(\n          IR,\n          color,\n          this.ctx,\n          canvasGraphicsFactory,\n          baseTransform\n        );\n      } else {\n        pattern = getShadingPatternFromIR(IR);\n      }\n      return pattern;\n    },\n    setStrokeColorN: function CanvasGraphics_setStrokeColorN() {\n      this.current.strokeColor = this.getColorN_Pattern(arguments);\n    },\n    setFillColorN: function CanvasGraphics_setFillColorN() {\n      this.current.fillColor = this.getColorN_Pattern(arguments);\n      this.current.patternFill = true;\n    },\n    setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.strokeStyle = color;\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.fillStyle = color;\n      this.current.fillColor = color;\n      this.current.patternFill = false;\n    },\n\n    shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var ctx = this.ctx;\n\n      this.save();\n      var pattern = getShadingPatternFromIR(patternIR);\n      ctx.fillStyle = pattern.getPattern(ctx, this, true);\n\n      var inv = ctx.mozCurrentTransformInverse;\n      if (inv) {\n        var canvas = ctx.canvas;\n        var width = canvas.width;\n        var height = canvas.height;\n\n        var bl = Util.applyTransform([0, 0], inv);\n        var br = Util.applyTransform([0, height], inv);\n        var ul = Util.applyTransform([width, 0], inv);\n        var ur = Util.applyTransform([width, height], inv);\n\n        var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n        var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n        var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n        var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n        this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n      } else {\n        // HACK to draw the gradient onto an infinite rectangle.\n        // PDF gradients are drawn across the entire image while\n        // Canvas only allows gradients to be drawn in a rectangle\n        // The following bug should allow us to remove this.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n        this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n      }\n\n      this.restore();\n    },\n\n    // Images\n    beginInlineImage: function CanvasGraphics_beginInlineImage() {\n      unreachable(\"Should not call beginInlineImage\");\n    },\n    beginImageData: function CanvasGraphics_beginImageData() {\n      unreachable(\"Should not call beginImageData\");\n    },\n\n    paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(\n      matrix,\n      bbox\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.save();\n      this.baseTransformStack.push(this.baseTransform);\n\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform.apply(this, matrix);\n      }\n\n      this.baseTransform = this.ctx.mozCurrentTransform;\n\n      if (bbox) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n        this.ctx.rect(bbox[0], bbox[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.restore();\n      this.baseTransform = this.baseTransformStack.pop();\n    },\n\n    beginGroup: function CanvasGraphics_beginGroup(group) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      this.save();\n      var currentCtx = this.ctx;\n      // TODO non-isolated groups - according to Rik at adobe non-isolated\n      // group results aren't usually that different and they even have tools\n      // that ignore this setting. Notes from Rik on implementing:\n      // - When you encounter an transparency group, create a new canvas with\n      // the dimensions of the bbox\n      // - copy the content from the previous canvas to the new canvas\n      // - draw as usual\n      // - remove the backdrop alpha:\n      // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n      // value of your transparency group and 'alphaBackdrop' the alpha of the\n      // backdrop\n      // - remove background color:\n      // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n      if (!group.isolated) {\n        info(\"TODO: Support non-isolated groups.\");\n      }\n\n      // TODO knockout - supposedly possible with the clever use of compositing\n      // modes.\n      if (group.knockout) {\n        warn(\"Knockout groups not supported.\");\n      }\n\n      var currentTransform = currentCtx.mozCurrentTransform;\n      if (group.matrix) {\n        currentCtx.transform.apply(currentCtx, group.matrix);\n      }\n      if (!group.bbox) {\n        throw new Error(\"Bounding box is required.\");\n      }\n\n      // Based on the current transform figure out how big the bounding box\n      // will actually be.\n      var bounds = Util.getAxialAlignedBoundingBox(\n        group.bbox,\n        currentCtx.mozCurrentTransform\n      );\n      // Clip the bounding box to the current canvas.\n      var canvasBounds = [\n        0,\n        0,\n        currentCtx.canvas.width,\n        currentCtx.canvas.height,\n      ];\n      bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n      // Use ceil in case we're between sizes so we don't create canvas that is\n      // too small and make the canvas at least 1x1 pixels.\n      var offsetX = Math.floor(bounds[0]);\n      var offsetY = Math.floor(bounds[1]);\n      var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n      var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n      var scaleX = 1,\n        scaleY = 1;\n      if (drawnWidth > MAX_GROUP_SIZE) {\n        scaleX = drawnWidth / MAX_GROUP_SIZE;\n        drawnWidth = MAX_GROUP_SIZE;\n      }\n      if (drawnHeight > MAX_GROUP_SIZE) {\n        scaleY = drawnHeight / MAX_GROUP_SIZE;\n        drawnHeight = MAX_GROUP_SIZE;\n      }\n\n      var cacheId = \"groupAt\" + this.groupLevel;\n      if (group.smask) {\n        // Using two cache entries is case if masks are used one after another.\n        cacheId += \"_smask_\" + (this.smaskCounter++ % 2);\n      }\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId,\n        drawnWidth,\n        drawnHeight,\n        true\n      );\n      var groupCtx = scratchCanvas.context;\n\n      // Since we created a new canvas that is just the size of the bounding box\n      // we have to translate the group ctx.\n      groupCtx.scale(1 / scaleX, 1 / scaleY);\n      groupCtx.translate(-offsetX, -offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      if (group.smask) {\n        // Saving state and cached mask to be used in setGState.\n        this.smaskStack.push({\n          canvas: scratchCanvas.canvas,\n          context: groupCtx,\n          offsetX,\n          offsetY,\n          scaleX,\n          scaleY,\n          subtype: group.smask.subtype,\n          backdrop: group.smask.backdrop,\n          transferMap: group.smask.transferMap || null,\n          startTransformInverse: null, // used during suspend operation\n        });\n      } else {\n        // Setup the current ctx so when the group is popped we draw it at the\n        // right location.\n        currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n        currentCtx.translate(offsetX, offsetY);\n        currentCtx.scale(scaleX, scaleY);\n      }\n      // The transparency group inherits all off the current graphics state\n      // except the blend mode, soft mask, and alpha constants.\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        [\"BM\", \"source-over\"],\n        [\"ca\", 1],\n        [\"CA\", 1],\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n\n      // Reseting mask state, masks will be applied on restore of the group.\n      this.current.activeSMask = null;\n    },\n\n    endGroup: function CanvasGraphics_endGroup(group) {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.groupLevel--;\n      var groupCtx = this.ctx;\n      this.ctx = this.groupStack.pop();\n      // Turn off image smoothing to avoid sub pixel interpolation which can\n      // look kind of blurry for some pdfs.\n      if (this.ctx.imageSmoothingEnabled !== undefined) {\n        this.ctx.imageSmoothingEnabled = false;\n      } else {\n        this.ctx.mozImageSmoothingEnabled = false;\n      }\n      if (group.smask) {\n        this.tempSMask = this.smaskStack.pop();\n      } else {\n        this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      }\n      this.restore();\n    },\n\n    beginAnnotations: function CanvasGraphics_beginAnnotations() {\n      this.save();\n      if (this.baseTransform) {\n        this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n      }\n    },\n\n    endAnnotations: function CanvasGraphics_endAnnotations() {\n      this.restore();\n    },\n\n    beginAnnotation: function CanvasGraphics_beginAnnotation(\n      rect,\n      transform,\n      matrix\n    ) {\n      this.save();\n      resetCtxToDefault(this.ctx);\n      this.current = new CanvasExtraState();\n\n      if (Array.isArray(rect) && rect.length === 4) {\n        var width = rect[2] - rect[0];\n        var height = rect[3] - rect[1];\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n\n      this.transform.apply(this, transform);\n      this.transform.apply(this, matrix);\n    },\n\n    endAnnotation: function CanvasGraphics_endAnnotation() {\n      this.restore();\n    },\n\n    paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var ctx = this.ctx;\n      var width = img.width,\n        height = img.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var glyph = this.processingType3;\n\n      if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n        if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n          glyph.compiled = compileType3Glyph({ data: img.data, width, height });\n        } else {\n          glyph.compiled = null;\n        }\n      }\n\n      if (glyph && glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n\n      var maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(maskCtx, this)\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      this.paintInlineImageXObject(maskCanvas.canvas);\n    },\n\n    paintImageMaskXObjectRepeat(\n      imgData,\n      scaleX,\n      skewX = 0,\n      skewY = 0,\n      scaleY,\n      positions\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, imgData);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(maskCtx, this)\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      var ctx = this.ctx;\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        ctx.save();\n        ctx.transform(\n          scaleX,\n          skewX,\n          skewY,\n          scaleY,\n          positions[i],\n          positions[i + 1]\n        );\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageMaskXObjectGroup: function CanvasGraphics_paintImageMaskXObjectGroup(\n      images\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var ctx = this.ctx;\n\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      for (var i = 0, ii = images.length; i < ii; i++) {\n        var image = images[i];\n        var width = image.width,\n          height = image.height;\n\n        var maskCanvas = this.cachedCanvases.getCanvas(\n          \"maskCanvas\",\n          width,\n          height\n        );\n        var maskCtx = maskCanvas.context;\n        maskCtx.save();\n\n        putBinaryImageMask(maskCtx, image);\n\n        maskCtx.globalCompositeOperation = \"source-in\";\n\n        maskCtx.fillStyle = isPatternFill\n          ? fillColor.getPattern(maskCtx, this)\n          : fillColor;\n        maskCtx.fillRect(0, 0, width, height);\n\n        maskCtx.restore();\n\n        ctx.save();\n        ctx.transform.apply(ctx, image.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintImageXObjectRepeat: function CanvasGraphics_paintImageXObjectRepeat(\n      objId,\n      scaleX,\n      scaleY,\n      positions\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      var width = imgData.width;\n      var height = imgData.height;\n      var map = [];\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        map.push({\n          transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n          x: 0,\n          y: 0,\n          w: width,\n          h: height,\n        });\n      }\n      this.paintInlineImageXObjectGroup(imgData, map);\n    },\n\n    paintInlineImageXObject: function CanvasGraphics_paintInlineImageXObject(\n      imgData\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var width = imgData.width;\n      var height = imgData.height;\n      var ctx = this.ctx;\n\n      this.save();\n      // scale the image to the unit square\n      ctx.scale(1 / width, -1 / height);\n\n      var currentTransform = ctx.mozCurrentTransformInverse;\n      var a = currentTransform[0],\n        b = currentTransform[1];\n      var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n      var c = currentTransform[2],\n        d = currentTransform[3];\n      var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n\n      var imgToPaint, tmpCanvas;\n      // typeof check is needed due to node.js support, see issue #8489\n      if (\n        (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement) ||\n        !imgData.data\n      ) {\n        imgToPaint = imgData;\n      } else {\n        tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n        var tmpCtx = tmpCanvas.context;\n        putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n        imgToPaint = tmpCanvas.canvas;\n      }\n\n      var paintWidth = width,\n        paintHeight = height;\n      var tmpCanvasId = \"prescale1\";\n      // Vertical or horizontal scaling shall not be more than 2 to not lose the\n      // pixels during drawImage operation, painting on the temporary canvas(es)\n      // that are twice smaller in size.\n      while (\n        (widthScale > 2 && paintWidth > 1) ||\n        (heightScale > 2 && paintHeight > 1)\n      ) {\n        var newWidth = paintWidth,\n          newHeight = paintHeight;\n        if (widthScale > 2 && paintWidth > 1) {\n          newWidth = Math.ceil(paintWidth / 2);\n          widthScale /= paintWidth / newWidth;\n        }\n        if (heightScale > 2 && paintHeight > 1) {\n          newHeight = Math.ceil(paintHeight / 2);\n          heightScale /= paintHeight / newHeight;\n        }\n        tmpCanvas = this.cachedCanvases.getCanvas(\n          tmpCanvasId,\n          newWidth,\n          newHeight\n        );\n        tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, newWidth, newHeight);\n        tmpCtx.drawImage(\n          imgToPaint,\n          0,\n          0,\n          paintWidth,\n          paintHeight,\n          0,\n          0,\n          newWidth,\n          newHeight\n        );\n        imgToPaint = tmpCanvas.canvas;\n        paintWidth = newWidth;\n        paintHeight = newHeight;\n        tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n      }\n      ctx.drawImage(\n        imgToPaint,\n        0,\n        0,\n        paintWidth,\n        paintHeight,\n        0,\n        -height,\n        width,\n        height\n      );\n\n      if (this.imageLayer) {\n        var position = this.getCanvasPosition(0, -height);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: width / currentTransform[0],\n          height: height / currentTransform[3],\n        });\n      }\n      this.restore();\n    },\n\n    paintInlineImageXObjectGroup: function CanvasGraphics_paintInlineImageXObjectGroup(\n      imgData,\n      map\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      var ctx = this.ctx;\n      var w = imgData.width;\n      var h = imgData.height;\n\n      var tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      var tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n\n      for (var i = 0, ii = map.length; i < ii; i++) {\n        var entry = map[i];\n        ctx.save();\n        ctx.transform.apply(ctx, entry.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(\n          tmpCanvas.canvas,\n          entry.x,\n          entry.y,\n          entry.w,\n          entry.h,\n          0,\n          -1,\n          1,\n          1\n        );\n        if (this.imageLayer) {\n          var position = this.getCanvasPosition(entry.x, entry.y);\n          this.imageLayer.appendImage({\n            imgData,\n            left: position[0],\n            top: position[1],\n            width: w,\n            height: h,\n          });\n        }\n        ctx.restore();\n      }\n    },\n\n    paintSolidColorImageMask: function CanvasGraphics_paintSolidColorImageMask() {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.ctx.fillRect(0, 0, 1, 1);\n    },\n\n    // Marked content\n\n    markPoint: function CanvasGraphics_markPoint(tag) {\n      // TODO Marked content.\n    },\n    markPointProps: function CanvasGraphics_markPointProps(tag, properties) {\n      // TODO Marked content.\n    },\n    beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n      this.markedContentStack.push({\n        visible: true,\n      });\n    },\n    beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(\n      tag,\n      properties\n    ) {\n      if (tag === \"OC\") {\n        this.markedContentStack.push({\n          visible: this.optionalContentConfig.isVisible(properties),\n        });\n      } else {\n        this.markedContentStack.push({\n          visible: true,\n        });\n      }\n      this.contentVisible = this.isContentVisible();\n    },\n    endMarkedContent: function CanvasGraphics_endMarkedContent() {\n      this.markedContentStack.pop();\n      this.contentVisible = this.isContentVisible();\n    },\n\n    // Compatibility\n\n    beginCompat: function CanvasGraphics_beginCompat() {\n      // TODO ignore undefined operators (should we do that anyway?)\n    },\n    endCompat: function CanvasGraphics_endCompat() {\n      // TODO stop ignoring undefined operators\n    },\n\n    // Helper functions\n\n    consumePath: function CanvasGraphics_consumePath() {\n      var ctx = this.ctx;\n      if (this.pendingClip) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n        this.pendingClip = null;\n      }\n      ctx.beginPath();\n    },\n    getSinglePixelWidth(scale) {\n      if (this._cachedGetSinglePixelWidth === null) {\n        const inverse = this.ctx.mozCurrentTransformInverse;\n        // max of the current horizontal and vertical scale\n        this._cachedGetSinglePixelWidth = Math.sqrt(\n          Math.max(\n            inverse[0] * inverse[0] + inverse[1] * inverse[1],\n            inverse[2] * inverse[2] + inverse[3] * inverse[3]\n          )\n        );\n      }\n      return this._cachedGetSinglePixelWidth;\n    },\n    getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n      var transform = this.ctx.mozCurrentTransform;\n      return [\n        transform[0] * x + transform[2] * y + transform[4],\n        transform[1] * x + transform[3] * y + transform[5],\n      ];\n    },\n\n    isContentVisible: function CanvasGraphics_isContentVisible() {\n      for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n        if (!this.markedContentStack[i].visible) {\n          return false;\n        }\n      }\n      return true;\n    },\n  };\n\n  for (var op in OPS) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n\n  return CanvasGraphics;\n})();\n\nexport { CanvasGraphics };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormatError, info, Util } from \"../shared/util.js\";\n\nvar ShadingIRs = {};\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox || typeof Path2D === \"undefined\") {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nShadingIRs.RadialAxial = {\n  fromIR: function RadialAxial_fromIR(raw) {\n    var type = raw[1];\n    var bbox = raw[2];\n    var colorStops = raw[3];\n    var p0 = raw[4];\n    var p1 = raw[5];\n    var r0 = raw[6];\n    var r1 = raw[7];\n    return {\n      type: \"Pattern\",\n      getPattern: function RadialAxial_getPattern(ctx) {\n        applyBoundingBox(ctx, bbox);\n        var grad;\n        if (type === \"axial\") {\n          grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n        } else if (type === \"radial\") {\n          grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n        }\n\n        for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n          var c = colorStops[i];\n          grad.addColorStop(c[0], c[1]);\n        }\n        return grad;\n      },\n    };\n  },\n};\n\nvar createMeshCanvas = (function createMeshCanvasClosure() {\n  function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n    // Very basic Gouraud-shaded triangle rasterization algorithm.\n    var coords = context.coords,\n      colors = context.colors;\n    var bytes = data.data,\n      rowSize = data.width * 4;\n    var tmp;\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n    if (coords[p2 + 1] > coords[p3 + 1]) {\n      tmp = p2;\n      p2 = p3;\n      p3 = tmp;\n      tmp = c2;\n      c2 = c3;\n      c3 = tmp;\n    }\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n    var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n    var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n    var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n    var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n    var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n    var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n    if (y1 >= y3) {\n      return;\n    }\n    var c1r = colors[c1],\n      c1g = colors[c1 + 1],\n      c1b = colors[c1 + 2];\n    var c2r = colors[c2],\n      c2g = colors[c2 + 1],\n      c2b = colors[c2 + 2];\n    var c3r = colors[c3],\n      c3g = colors[c3 + 1],\n      c3b = colors[c3 + 2];\n\n    var minY = Math.round(y1),\n      maxY = Math.round(y3);\n    var xa, car, cag, cab;\n    var xb, cbr, cbg, cbb;\n    for (var y = minY; y <= maxY; y++) {\n      if (y < y2) {\n        let k;\n        if (y < y1) {\n          k = 0;\n        } else if (y1 === y2) {\n          k = 1;\n        } else {\n          k = (y1 - y) / (y1 - y2);\n        }\n        xa = x1 - (x1 - x2) * k;\n        car = c1r - (c1r - c2r) * k;\n        cag = c1g - (c1g - c2g) * k;\n        cab = c1b - (c1b - c2b) * k;\n      } else {\n        let k;\n        if (y > y3) {\n          k = 1;\n        } else if (y2 === y3) {\n          k = 0;\n        } else {\n          k = (y2 - y) / (y2 - y3);\n        }\n        xa = x2 - (x2 - x3) * k;\n        car = c2r - (c2r - c3r) * k;\n        cag = c2g - (c2g - c3g) * k;\n        cab = c2b - (c2b - c3b) * k;\n      }\n\n      let k;\n      if (y < y1) {\n        k = 0;\n      } else if (y > y3) {\n        k = 1;\n      } else {\n        k = (y1 - y) / (y1 - y3);\n      }\n      xb = x1 - (x1 - x3) * k;\n      cbr = c1r - (c1r - c3r) * k;\n      cbg = c1g - (c1g - c3g) * k;\n      cbb = c1b - (c1b - c3b) * k;\n      var x1_ = Math.round(Math.min(xa, xb));\n      var x2_ = Math.round(Math.max(xa, xb));\n      var j = rowSize * y + x1_ * 4;\n      for (var x = x1_; x <= x2_; x++) {\n        k = (xa - x) / (xa - xb);\n        if (k < 0) {\n          k = 0;\n        } else if (k > 1) {\n          k = 1;\n        }\n        bytes[j++] = (car - (car - cbr) * k) | 0;\n        bytes[j++] = (cag - (cag - cbg) * k) | 0;\n        bytes[j++] = (cab - (cab - cbb) * k) | 0;\n        bytes[j++] = 255;\n      }\n    }\n  }\n\n  function drawFigure(data, figure, context) {\n    var ps = figure.coords;\n    var cs = figure.colors;\n    var i, ii;\n    switch (figure.type) {\n      case \"lattice\":\n        var verticesPerRow = figure.verticesPerRow;\n        var rows = Math.floor(ps.length / verticesPerRow) - 1;\n        var cols = verticesPerRow - 1;\n        for (i = 0; i < rows; i++) {\n          var q = i * verticesPerRow;\n          for (var j = 0; j < cols; j++, q++) {\n            drawTriangle(\n              data,\n              context,\n              ps[q],\n              ps[q + 1],\n              ps[q + verticesPerRow],\n              cs[q],\n              cs[q + 1],\n              cs[q + verticesPerRow]\n            );\n            drawTriangle(\n              data,\n              context,\n              ps[q + verticesPerRow + 1],\n              ps[q + 1],\n              ps[q + verticesPerRow],\n              cs[q + verticesPerRow + 1],\n              cs[q + 1],\n              cs[q + verticesPerRow]\n            );\n          }\n        }\n        break;\n      case \"triangles\":\n        for (i = 0, ii = ps.length; i < ii; i += 3) {\n          drawTriangle(\n            data,\n            context,\n            ps[i],\n            ps[i + 1],\n            ps[i + 2],\n            cs[i],\n            cs[i + 1],\n            cs[i + 2]\n          );\n        }\n        break;\n      default:\n        throw new Error(\"illegal figure\");\n    }\n  }\n\n  // eslint-disable-next-line no-shadow\n  function createMeshCanvas(\n    bounds,\n    combinesScale,\n    coords,\n    colors,\n    figures,\n    backgroundColor,\n    cachedCanvases,\n    webGLContext\n  ) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    var EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    var BORDER_SIZE = 2;\n\n    var offsetX = Math.floor(bounds[0]);\n    var offsetY = Math.floor(bounds[1]);\n    var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n    var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n\n    var width = Math.min(\n      Math.ceil(Math.abs(boundsWidth * combinesScale[0] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    var height = Math.min(\n      Math.ceil(Math.abs(boundsHeight * combinesScale[1] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    var scaleX = boundsWidth / width;\n    var scaleY = boundsHeight / height;\n\n    var context = {\n      coords,\n      colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    var paddedWidth = width + BORDER_SIZE * 2;\n    var paddedHeight = height + BORDER_SIZE * 2;\n\n    var canvas, tmpCanvas, i, ii;\n    if (webGLContext.isEnabled) {\n      canvas = webGLContext.drawFigures({\n        width,\n        height,\n        backgroundColor,\n        figures,\n        context,\n      });\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=972126\n      tmpCanvas = cachedCanvases.getCanvas(\n        \"mesh\",\n        paddedWidth,\n        paddedHeight,\n        false\n      );\n      tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    } else {\n      tmpCanvas = cachedCanvases.getCanvas(\n        \"mesh\",\n        paddedWidth,\n        paddedHeight,\n        false\n      );\n      var tmpCtx = tmpCanvas.context;\n\n      var data = tmpCtx.createImageData(width, height);\n      if (backgroundColor) {\n        var bytes = data.data;\n        for (i = 0, ii = bytes.length; i < ii; i += 4) {\n          bytes[i] = backgroundColor[0];\n          bytes[i + 1] = backgroundColor[1];\n          bytes[i + 2] = backgroundColor[2];\n          bytes[i + 3] = 255;\n        }\n      }\n      for (i = 0; i < figures.length; i++) {\n        drawFigure(data, figures[i], context);\n      }\n      tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    }\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n  return createMeshCanvas;\n})();\n\nShadingIRs.Mesh = {\n  fromIR: function Mesh_fromIR(raw) {\n    // var type = raw[1];\n    var coords = raw[2];\n    var colors = raw[3];\n    var figures = raw[4];\n    var bounds = raw[5];\n    var matrix = raw[6];\n    var bbox = raw[7];\n    var background = raw[8];\n    return {\n      type: \"Pattern\",\n      getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n        applyBoundingBox(ctx, bbox);\n        var scale;\n        if (shadingFill) {\n          scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n        } else {\n          // Obtain scale from matrix and current transformation matrix.\n          scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n          if (matrix) {\n            var matrixScale = Util.singularValueDecompose2dScale(matrix);\n            scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n          }\n        }\n\n        // Rasterizing on the main thread since sending/queue large canvases\n        // might cause OOM.\n        var temporaryPatternCanvas = createMeshCanvas(\n          bounds,\n          scale,\n          coords,\n          colors,\n          figures,\n          shadingFill ? null : background,\n          owner.cachedCanvases,\n          owner.webGLContext\n        );\n\n        if (!shadingFill) {\n          ctx.setTransform.apply(ctx, owner.baseTransform);\n          if (matrix) {\n            ctx.transform.apply(ctx, matrix);\n          }\n        }\n\n        ctx.translate(\n          temporaryPatternCanvas.offsetX,\n          temporaryPatternCanvas.offsetY\n        );\n        ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n\n        return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n      },\n    };\n  },\n};\n\nShadingIRs.Dummy = {\n  fromIR: function Dummy_fromIR() {\n    return {\n      type: \"Pattern\",\n      getPattern: function Dummy_fromIR_getPattern() {\n        return \"hotpink\";\n      },\n    };\n  },\n};\n\nfunction getShadingPatternFromIR(raw) {\n  var shadingIR = ShadingIRs[raw[0]];\n  if (!shadingIR) {\n    throw new Error(`Unknown IR type: ${raw[0]}`);\n  }\n  return shadingIR.fromIR(raw);\n}\n\n/**\n * @type {any}\n */\nvar TilingPattern = (function TilingPatternClosure() {\n  var PaintType = {\n    COLORED: 1,\n    UNCOLORED: 2,\n  };\n\n  var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n  // eslint-disable-next-line no-shadow\n  function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n    this.type = \"Pattern\";\n    this.ctx = ctx;\n  }\n\n  TilingPattern.prototype = {\n    createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n      var operatorList = this.operatorList;\n      var bbox = this.bbox;\n      var xstep = this.xstep;\n      var ystep = this.ystep;\n      var paintType = this.paintType;\n      var tilingType = this.tilingType;\n      var color = this.color;\n      var canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n      info(\"TilingType: \" + tilingType);\n\n      // A tiling pattern as defined by PDF spec 8.7.2 is a cell whose size is\n      // described by bbox, and may repeat regularly by shifting the cell by\n      // xstep and ystep.\n      // Because the HTML5 canvas API does not support pattern repetition with\n      // gaps in between, we use the xstep/ystep instead of the bbox's size.\n      //\n      // This has the following consequences (similarly for ystep):\n      //\n      // - If xstep is the same as bbox, then there is no observable difference.\n      //\n      // - If xstep is larger than bbox, then the pattern canvas is partially\n      //   empty: the area bounded by bbox is painted, the outside area is void.\n      //\n      // - If xstep is smaller than bbox, then the pixels between xstep and the\n      //   bbox boundary will be missing. This is INCORRECT behavior.\n      //   \"Figures on adjacent tiles should not overlap\" (PDF spec 8.7.3.1),\n      //   but overlapping cells without common pixels are still valid.\n      //   TODO: Fix the implementation, to allow this scenario to be painted\n      //   correctly.\n\n      var x0 = bbox[0],\n        y0 = bbox[1],\n        x1 = bbox[2],\n        y1 = bbox[3];\n\n      // Obtain scale from matrix and current transformation matrix.\n      var matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n      var curMatrixScale = Util.singularValueDecompose2dScale(\n        this.baseTransform\n      );\n      var combinedScale = [\n        matrixScale[0] * curMatrixScale[0],\n        matrixScale[1] * curMatrixScale[1],\n      ];\n\n      // Use width and height values that are as close as possible to the end\n      // result when the pattern is used. Too low value makes the pattern look\n      // blurry. Too large value makes it look too crispy.\n      var dimx = this.getSizeAndScale(\n        xstep,\n        this.ctx.canvas.width,\n        combinedScale[0]\n      );\n      var dimy = this.getSizeAndScale(\n        ystep,\n        this.ctx.canvas.height,\n        combinedScale[1]\n      );\n\n      var tmpCanvas = owner.cachedCanvases.getCanvas(\n        \"pattern\",\n        dimx.size,\n        dimy.size,\n        true\n      );\n      var tmpCtx = tmpCanvas.context;\n      var graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n      graphics.groupLevel = owner.groupLevel;\n\n      this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n      graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n\n      // transform coordinates to pattern space\n      graphics.transform(1, 0, 0, 1, -x0, -y0);\n\n      this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n\n      graphics.executeOperatorList(operatorList);\n\n      this.ctx.transform(1, 0, 0, 1, x0, y0);\n\n      // Rescale canvas so that the ctx.createPattern call generates a pattern\n      // with the desired size.\n      this.ctx.scale(1 / dimx.scale, 1 / dimy.scale);\n      return tmpCanvas.canvas;\n    },\n\n    getSizeAndScale: function TilingPattern_getSizeAndScale(\n      step,\n      realOutputSize,\n      scale\n    ) {\n      // xstep / ystep may be negative -- normalize.\n      step = Math.abs(step);\n      // MAX_PATTERN_SIZE is used to avoid OOM situation.\n      // Use the destination canvas's size if it is bigger than the hard-coded\n      // limit of MAX_PATTERN_SIZE to avoid clipping patterns that cover the\n      // whole canvas.\n      var maxSize = Math.max(MAX_PATTERN_SIZE, realOutputSize);\n      var size = Math.ceil(step * scale);\n      if (size >= maxSize) {\n        size = maxSize;\n      } else {\n        scale = size / step;\n      }\n      return { scale, size };\n    },\n\n    clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n      if (Array.isArray(bbox) && bbox.length === 4) {\n        var bboxWidth = x1 - x0;\n        var bboxHeight = y1 - y0;\n        graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n        graphics.clip();\n        graphics.endPath();\n      }\n    },\n\n    setFillAndStrokeStyleToContext: function setFillAndStrokeStyleToContext(\n      graphics,\n      paintType,\n      color\n    ) {\n      const context = graphics.ctx,\n        current = graphics.current;\n      switch (paintType) {\n        case PaintType.COLORED:\n          var ctx = this.ctx;\n          context.fillStyle = ctx.fillStyle;\n          context.strokeStyle = ctx.strokeStyle;\n          current.fillColor = ctx.fillStyle;\n          current.strokeColor = ctx.strokeStyle;\n          break;\n        case PaintType.UNCOLORED:\n          var cssColor = Util.makeCssRgb(color[0], color[1], color[2]);\n          context.fillStyle = cssColor;\n          context.strokeStyle = cssColor;\n          // Set color needed by image masks (fixes issues 3226 and 8741).\n          current.fillColor = cssColor;\n          current.strokeColor = cssColor;\n          break;\n        default:\n          throw new FormatError(`Unsupported paint type: ${paintType}`);\n      }\n    },\n\n    getPattern: function TilingPattern_getPattern(ctx, owner) {\n      ctx = this.ctx;\n      // PDF spec 8.7.2 NOTE 1: pattern's matrix is relative to initial matrix.\n      ctx.setTransform.apply(ctx, this.baseTransform);\n      ctx.transform.apply(ctx, this.matrix);\n\n      var temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n      return ctx.createPattern(temporaryPatternCanvas, \"repeat\");\n    },\n  };\n\n  return TilingPattern;\n})();\n\nexport { getShadingPatternFromIR, TilingPattern };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {Object} GlobalWorkerOptionsType\n * @property {Worker | null} workerPort - Defines global port for worker\n *   process. Overrides the `workerSrc` option.\n * @property {string} workerSrc - A string containing the path and filename\n *   of the worker file.\n *\n *   NOTE: The `workerSrc` option should always be set, in order to prevent any\n *         issues when using the PDF.js library.\n */\n\n/** @type {GlobalWorkerOptionsType} */\nconst GlobalWorkerOptions = Object.create(null);\n\nGlobalWorkerOptions.workerPort =\n  GlobalWorkerOptions.workerPort === undefined\n    ? null\n    : GlobalWorkerOptions.workerPort;\n\nGlobalWorkerOptions.workerSrc =\n  GlobalWorkerOptions.workerSrc === undefined\n    ? \"\"\n    : GlobalWorkerOptions.workerSrc;\n\nexport { GlobalWorkerOptions };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error, prefer-const: error */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n  UnexpectedResponseException,\n  UnknownErrorException,\n} from \"./util.js\";\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2,\n};\n\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8,\n};\n\nfunction wrapReason(reason) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      reason instanceof Error ||\n        (typeof reason === \"object\" && reason !== null),\n      'wrapReason: Expected \"reason\" to be a (possibly cloned) Error.'\n    );\n  } else {\n    if (typeof reason !== \"object\" || reason === null) {\n      return reason;\n    }\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.postMessageTransfers = true;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this._processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(\n          function (result) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.DATA,\n              callbackId: data.callbackId,\n              data: result,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.ERROR,\n              callbackId: data.callbackId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        return;\n      }\n      if (data.streamId) {\n        this._createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n  on(actionName, handler) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        typeof handler === \"function\",\n        'MessageHandler.on: Expected \"handler\" to be a function.'\n      );\n    }\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   */\n  send(actionName, data, transfers) {\n    this._postMessage(\n      {\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        data,\n      },\n      transfers\n    );\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = createPromiseCapability();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this._postMessage(\n        {\n          sourceName: this.sourceName,\n          targetName: this.targetName,\n          action: actionName,\n          callbackId,\n          data,\n        },\n        transfers\n      );\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - Strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++;\n    const sourceName = this.sourceName;\n    const targetName = this.targetName;\n    const comObj = this.comObj;\n\n    return new ReadableStream(\n      {\n        start: controller => {\n          const startCapability = createPromiseCapability();\n          this.streamControllers[streamId] = {\n            controller,\n            startCall: startCapability,\n            pullCall: null,\n            cancelCall: null,\n            isClosed: false,\n          };\n          this._postMessage(\n            {\n              sourceName,\n              targetName,\n              action: actionName,\n              streamId,\n              data,\n              desiredSize: controller.desiredSize,\n            },\n            transfers\n          );\n          // Return Promise for Async process, to signal success/failure.\n          return startCapability.promise;\n        },\n\n        pull: controller => {\n          const pullCapability = createPromiseCapability();\n          this.streamControllers[streamId].pullCall = pullCapability;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL,\n            streamId,\n            desiredSize: controller.desiredSize,\n          });\n          // Returning Promise will not call \"pull\"\n          // again until current pull is resolved.\n          return pullCapability.promise;\n        },\n\n        cancel: reason => {\n          assert(reason instanceof Error, \"cancel must have a valid reason\");\n          const cancelCapability = createPromiseCapability();\n          this.streamControllers[streamId].cancelCall = cancelCapability;\n          this.streamControllers[streamId].isClosed = true;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL,\n            streamId,\n            reason: wrapReason(reason),\n          });\n          // Return Promise to signal success or failure.\n          return cancelCapability.promise;\n        },\n      },\n      queueingStrategy\n    );\n  }\n\n  /**\n   * @private\n   */\n  _createStreamSink(data) {\n    const self = this;\n    const action = this.actionHandler[data.action];\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = createPromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        self._postMessage(\n          {\n            sourceName,\n            targetName,\n            stream: StreamKind.ENQUEUE,\n            streamId,\n            chunk,\n          },\n          transfers\n        );\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId,\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      },\n\n      sinkCapability: createPromiseCapability(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(\n      function () {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          success: true,\n        });\n      },\n      function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      }\n    );\n  }\n\n  /**\n   * @private\n   */\n  _processStreamMessage(data) {\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].startCall.resolve();\n        } else {\n          this.streamControllers[streamId].startCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].pullCall.resolve();\n        } else {\n          this.streamControllers[streamId].pullCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        break;\n      case StreamKind.PULL:\n        // Ignore any pull after close is called.\n        if (!this.streamSinks[streamId]) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true,\n          });\n          break;\n        }\n        // Pull increases the desiredSize property of sink,\n        // so when it changes from negative to positive,\n        // set ready property as resolved promise.\n        if (\n          this.streamSinks[streamId].desiredSize <= 0 &&\n          data.desiredSize > 0\n        ) {\n          this.streamSinks[streamId].sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        this.streamSinks[streamId].desiredSize = data.desiredSize;\n        const { onPull } = this.streamSinks[data.streamId];\n        new Promise(function (resolve) {\n          resolve(onPull && onPull());\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        break;\n      case StreamKind.ENQUEUE:\n        assert(\n          this.streamControllers[streamId],\n          \"enqueue should have stream controller\"\n        );\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[streamId].controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(\n          this.streamControllers[streamId],\n          \"close should have stream controller\"\n        );\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[streamId].isClosed = true;\n        this.streamControllers[streamId].controller.close();\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(\n          this.streamControllers[streamId],\n          \"error should have stream controller\"\n        );\n        this.streamControllers[streamId].controller.error(\n          wrapReason(data.reason)\n        );\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].cancelCall.resolve();\n        } else {\n          this.streamControllers[streamId].cancelCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!this.streamSinks[streamId]) {\n          break;\n        }\n        const { onCancel } = this.streamSinks[data.streamId];\n        new Promise(function (resolve) {\n          resolve(onCancel && onCancel(wrapReason(data.reason)));\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        this.streamSinks[streamId].sinkCapability.reject(\n          wrapReason(data.reason)\n        );\n        this.streamSinks[streamId].isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _deleteStreamController(streamId) {\n    // Delete the `streamController` only when the start, pull, and cancel\n    // capabilities have settled, to prevent `TypeError`s.\n    await Promise.allSettled(\n      [\n        this.streamControllers[streamId].startCall,\n        this.streamControllers[streamId].pullCall,\n        this.streamControllers[streamId].cancelCall,\n      ].map(function (capability) {\n        return capability && capability.promise;\n      })\n    );\n    delete this.streamControllers[streamId];\n  }\n\n  /**\n   * Sends raw message to the comObj.\n   * @param {Object} message - Raw message.\n   * @param transfers List of transfers/ArrayBuffers, or undefined.\n   * @private\n   */\n  _postMessage(message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  }\n\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\nexport { MessageHandler };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from \"../shared/util.js\";\nimport { SimpleXMLParser } from \"./xml_parser.js\";\n\nclass Metadata {\n  constructor(data) {\n    assert(typeof data === \"string\", \"Metadata: input is not a string\");\n\n    // Ghostscript may produce invalid metadata, so try to repair that first.\n    data = this._repair(data);\n\n    // Convert the string to an XML document.\n    const parser = new SimpleXMLParser();\n    const xmlDocument = parser.parseFromString(data);\n\n    this._metadataMap = new Map();\n\n    if (xmlDocument) {\n      this._parse(xmlDocument);\n    }\n  }\n\n  _repair(data) {\n    // Start by removing any \"junk\" before the first tag (see issue 10395).\n    return data\n      .replace(/^[^<]+/, \"\")\n      .replace(/>\\\\376\\\\377([^<]+)/g, function (all, codes) {\n        const bytes = codes\n          .replace(/\\\\([0-3])([0-7])([0-7])/g, function (code, d1, d2, d3) {\n            return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n          })\n          .replace(/&(amp|apos|gt|lt|quot);/g, function (str, name) {\n            switch (name) {\n              case \"amp\":\n                return \"&\";\n              case \"apos\":\n                return \"'\";\n              case \"gt\":\n                return \">\";\n              case \"lt\":\n                return \"<\";\n              case \"quot\":\n                return '\"';\n            }\n            throw new Error(`_repair: ${name} isn't defined.`);\n          });\n\n        let chars = \"\";\n        for (let i = 0, ii = bytes.length; i < ii; i += 2) {\n          const code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n          if (\n            code >= /* Space = */ 32 &&\n            code < /* Delete = */ 127 &&\n            code !== /* '<' = */ 60 &&\n            code !== /* '>' = */ 62 &&\n            code !== /* '&' = */ 38\n          ) {\n            chars += String.fromCharCode(code);\n          } else {\n            chars += \"&#x\" + (0x10000 + code).toString(16).substring(1) + \";\";\n          }\n        }\n\n        return \">\" + chars;\n      });\n  }\n\n  _parse(xmlDocument) {\n    let rdf = xmlDocument.documentElement;\n\n    if (rdf.nodeName.toLowerCase() !== \"rdf:rdf\") {\n      // Wrapped in <xmpmeta>\n      rdf = rdf.firstChild;\n      while (rdf && rdf.nodeName.toLowerCase() !== \"rdf:rdf\") {\n        rdf = rdf.nextSibling;\n      }\n    }\n\n    const nodeName = rdf ? rdf.nodeName.toLowerCase() : null;\n    if (!rdf || nodeName !== \"rdf:rdf\" || !rdf.hasChildNodes()) {\n      return;\n    }\n\n    const children = rdf.childNodes;\n    for (let i = 0, ii = children.length; i < ii; i++) {\n      const desc = children[i];\n      if (desc.nodeName.toLowerCase() !== \"rdf:description\") {\n        continue;\n      }\n\n      for (let j = 0, jj = desc.childNodes.length; j < jj; j++) {\n        if (desc.childNodes[j].nodeName.toLowerCase() !== \"#text\") {\n          const entry = desc.childNodes[j];\n          const name = entry.nodeName.toLowerCase();\n\n          this._metadataMap.set(name, entry.textContent.trim());\n        }\n      }\n    }\n  }\n\n  get(name) {\n    return this._metadataMap.has(name) ? this._metadataMap.get(name) : null;\n  }\n\n  getAll() {\n    return Object.fromEntries(this._metadataMap);\n  }\n\n  has(name) {\n    return this._metadataMap.has(name);\n  }\n}\n\nexport { Metadata };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// The code for XMLParserBase copied from\n// https://github.com/mozilla/shumway/blob/16451d8836fa85f4b16eeda8b4bda2fa9e2b22b0/src/avm2/natives/xml.ts\n\nconst XMLParserErrorCode = {\n  NoError: 0,\n  EndOfDocument: -1,\n  UnterminatedCdat: -2,\n  UnterminatedXmlDeclaration: -3,\n  UnterminatedDoctypeDeclaration: -4,\n  UnterminatedComment: -5,\n  MalformedElement: -6,\n  OutOfMemory: -7,\n  UnterminatedAttributeValue: -8,\n  UnterminatedElement: -9,\n  ElementNeverBegun: -10,\n};\n\nfunction isWhitespace(s, index) {\n  const ch = s[index];\n  return ch === \" \" || ch === \"\\n\" || ch === \"\\r\" || ch === \"\\t\";\n}\n\nfunction isWhitespaceString(s) {\n  for (let i = 0, ii = s.length; i < ii; i++) {\n    if (!isWhitespace(s, i)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nclass XMLParserBase {\n  _resolveEntities(s) {\n    return s.replace(/&([^;]+);/g, (all, entity) => {\n      if (entity.substring(0, 2) === \"#x\") {\n        return String.fromCharCode(parseInt(entity.substring(2), 16));\n      } else if (entity.substring(0, 1) === \"#\") {\n        return String.fromCharCode(parseInt(entity.substring(1), 10));\n      }\n      switch (entity) {\n        case \"lt\":\n          return \"<\";\n        case \"gt\":\n          return \">\";\n        case \"amp\":\n          return \"&\";\n        case \"quot\":\n          return '\"';\n      }\n      return this.onResolveEntity(entity);\n    });\n  }\n\n  _parseContent(s, start) {\n    const attributes = [];\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (\n      pos < s.length &&\n      !isWhitespace(s, pos) &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\"\n    ) {\n      ++pos;\n    }\n    const name = s.substring(start, pos);\n    skipWs();\n    while (\n      pos < s.length &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\" &&\n      s[pos] !== \"?\"\n    ) {\n      skipWs();\n      let attrName = \"\",\n        attrValue = \"\";\n      while (pos < s.length && !isWhitespace(s, pos) && s[pos] !== \"=\") {\n        attrName += s[pos];\n        ++pos;\n      }\n      skipWs();\n      if (s[pos] !== \"=\") {\n        return null;\n      }\n      ++pos;\n      skipWs();\n      const attrEndChar = s[pos];\n      if (attrEndChar !== '\"' && attrEndChar !== \"'\") {\n        return null;\n      }\n      const attrEndIndex = s.indexOf(attrEndChar, ++pos);\n      if (attrEndIndex < 0) {\n        return null;\n      }\n      attrValue = s.substring(pos, attrEndIndex);\n      attributes.push({\n        name: attrName,\n        value: this._resolveEntities(attrValue),\n      });\n      pos = attrEndIndex + 1;\n      skipWs();\n    }\n    return {\n      name,\n      attributes,\n      parsed: pos - start,\n    };\n  }\n\n  _parseProcessingInstruction(s, start) {\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (\n      pos < s.length &&\n      !isWhitespace(s, pos) &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\"\n    ) {\n      ++pos;\n    }\n    const name = s.substring(start, pos);\n    skipWs();\n    const attrStart = pos;\n    while (pos < s.length && (s[pos] !== \"?\" || s[pos + 1] !== \">\")) {\n      ++pos;\n    }\n    const value = s.substring(attrStart, pos);\n    return {\n      name,\n      value,\n      parsed: pos - start,\n    };\n  }\n\n  parseXml(s) {\n    let i = 0;\n    while (i < s.length) {\n      const ch = s[i];\n      let j = i;\n      if (ch === \"<\") {\n        ++j;\n        const ch2 = s[j];\n        let q;\n        switch (ch2) {\n          case \"/\":\n            ++j;\n            q = s.indexOf(\">\", j);\n            if (q < 0) {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n            this.onEndElement(s.substring(j, q));\n            j = q + 1;\n            break;\n          case \"?\":\n            ++j;\n            const pi = this._parseProcessingInstruction(s, j);\n            if (s.substring(j + pi.parsed, j + pi.parsed + 2) !== \"?>\") {\n              this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);\n              return;\n            }\n            this.onPi(pi.name, pi.value);\n            j += pi.parsed + 2;\n            break;\n          case \"!\":\n            if (s.substring(j + 1, j + 3) === \"--\") {\n              q = s.indexOf(\"-->\", j + 3);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedComment);\n                return;\n              }\n              this.onComment(s.substring(j + 3, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"[CDATA[\") {\n              q = s.indexOf(\"]]>\", j + 8);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedCdat);\n                return;\n              }\n              this.onCdata(s.substring(j + 8, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"DOCTYPE\") {\n              const q2 = s.indexOf(\"[\", j + 8);\n              let complexDoctype = false;\n              q = s.indexOf(\">\", j + 8);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);\n                return;\n              }\n              if (q2 > 0 && q > q2) {\n                q = s.indexOf(\"]>\", j + 8);\n                if (q < 0) {\n                  this.onError(\n                    XMLParserErrorCode.UnterminatedDoctypeDeclaration\n                  );\n                  return;\n                }\n                complexDoctype = true;\n              }\n              const doctypeContent = s.substring(\n                j + 8,\n                q + (complexDoctype ? 1 : 0)\n              );\n              this.onDoctype(doctypeContent);\n              j = q + (complexDoctype ? 2 : 1);\n            } else {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n            break;\n          default:\n            const content = this._parseContent(s, j);\n            if (content === null) {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n            let isClosed = false;\n            if (\n              s.substring(j + content.parsed, j + content.parsed + 2) === \"/>\"\n            ) {\n              isClosed = true;\n            } else if (\n              s.substring(j + content.parsed, j + content.parsed + 1) !== \">\"\n            ) {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n            this.onBeginElement(content.name, content.attributes, isClosed);\n            j += content.parsed + (isClosed ? 2 : 1);\n            break;\n        }\n      } else {\n        while (j < s.length && s[j] !== \"<\") {\n          j++;\n        }\n        const text = s.substring(i, j);\n        this.onText(this._resolveEntities(text));\n      }\n      i = j;\n    }\n  }\n\n  onResolveEntity(name) {\n    return `&${name};`;\n  }\n\n  onPi(name, value) {}\n\n  onComment(text) {}\n\n  onCdata(text) {}\n\n  onDoctype(doctypeContent) {}\n\n  onText(text) {}\n\n  onBeginElement(name, attributes, isEmpty) {}\n\n  onEndElement(name) {}\n\n  onError(code) {}\n}\n\nclass SimpleDOMNode {\n  constructor(nodeName, nodeValue) {\n    this.nodeName = nodeName;\n    this.nodeValue = nodeValue;\n\n    Object.defineProperty(this, \"parentNode\", { value: null, writable: true });\n  }\n\n  get firstChild() {\n    return this.childNodes && this.childNodes[0];\n  }\n\n  get nextSibling() {\n    const childNodes = this.parentNode.childNodes;\n    if (!childNodes) {\n      return undefined;\n    }\n    const index = childNodes.indexOf(this);\n    if (index === -1) {\n      return undefined;\n    }\n    return childNodes[index + 1];\n  }\n\n  get textContent() {\n    if (!this.childNodes) {\n      return this.nodeValue || \"\";\n    }\n    return this.childNodes\n      .map(function (child) {\n        return child.textContent;\n      })\n      .join(\"\");\n  }\n\n  hasChildNodes() {\n    return this.childNodes && this.childNodes.length > 0;\n  }\n}\n\nclass SimpleXMLParser extends XMLParserBase {\n  constructor() {\n    super();\n    this._currentFragment = null;\n    this._stack = null;\n    this._errorCode = XMLParserErrorCode.NoError;\n  }\n\n  parseFromString(data) {\n    this._currentFragment = [];\n    this._stack = [];\n    this._errorCode = XMLParserErrorCode.NoError;\n\n    this.parseXml(data);\n\n    if (this._errorCode !== XMLParserErrorCode.NoError) {\n      return undefined; // return undefined on error\n    }\n\n    // We should only have one root.\n    const [documentElement] = this._currentFragment;\n    if (!documentElement) {\n      return undefined; // Return undefined if no root was found.\n    }\n    return { documentElement };\n  }\n\n  onResolveEntity(name) {\n    switch (name) {\n      case \"apos\":\n        return \"'\";\n    }\n    return super.onResolveEntity(name);\n  }\n\n  onText(text) {\n    if (isWhitespaceString(text)) {\n      return;\n    }\n    const node = new SimpleDOMNode(\"#text\", text);\n    this._currentFragment.push(node);\n  }\n\n  onCdata(text) {\n    const node = new SimpleDOMNode(\"#text\", text);\n    this._currentFragment.push(node);\n  }\n\n  onBeginElement(name, attributes, isEmpty) {\n    const node = new SimpleDOMNode(name);\n    node.childNodes = [];\n    this._currentFragment.push(node);\n    if (isEmpty) {\n      return;\n    }\n    this._stack.push(this._currentFragment);\n    this._currentFragment = node.childNodes;\n  }\n\n  onEndElement(name) {\n    this._currentFragment = this._stack.pop() || [];\n    const lastElement = this._currentFragment[this._currentFragment.length - 1];\n    if (!lastElement) {\n      return;\n    }\n    for (let i = 0, ii = lastElement.childNodes.length; i < ii; i++) {\n      lastElement.childNodes[i].parentNode = lastElement;\n    }\n  }\n\n  onError(code) {\n    this._errorCode = code;\n  }\n}\n\nexport { SimpleXMLParser };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { warn } from \"../shared/util.js\";\n\nclass OptionalContentGroup {\n  constructor(name, intent) {\n    this.visible = true;\n    this.name = name;\n    this.intent = intent;\n  }\n}\n\nclass OptionalContentConfig {\n  constructor(data) {\n    this.name = null;\n    this.creator = null;\n    this._order = null;\n    this._groups = new Map();\n\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this._order = data.order;\n    for (const group of data.groups) {\n      this._groups.set(\n        group.id,\n        new OptionalContentGroup(group.name, group.intent)\n      );\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this._groups) {\n        group.visible = false;\n      }\n    }\n\n    for (const on of data.on) {\n      this._groups.get(on).visible = true;\n    }\n\n    for (const off of data.off) {\n      this._groups.get(off).visible = false;\n    }\n  }\n\n  isVisible(group) {\n    if (group.type === \"OCG\") {\n      if (!this._groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this._groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      // Per the spec, the expression should be preferred if available. Until\n      // we implement this, just fallback to using the group policy for now.\n      if (group.expression) {\n        warn(\"Visibility expression not supported yet.\");\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        // Default\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true) {\n    if (!this._groups.has(id)) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    this._groups.get(id).visible = !!visible;\n  }\n\n  getOrder() {\n    if (!this._groups.size) {\n      return null;\n    }\n    if (this._order) {\n      return this._order.slice();\n    }\n    return Array.from(this._groups.keys());\n  }\n\n  getGroups() {\n    if (!this._groups.size) {\n      return null;\n    }\n    return Object.fromEntries(this._groups);\n  }\n\n  getGroup(id) {\n    return this._groups.get(id) || null;\n  }\n}\n\nexport { OptionalContentConfig };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport { assert, createPromiseCapability } from \"../shared/util.js\";\n\n/** @implements {IPDFStream} */\nclass PDFDataTransportStream {\n  constructor(params, pdfDataRangeTransport) {\n    assert(\n      pdfDataRangeTransport,\n      'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.'\n    );\n\n    this._queuedChunks = [];\n    this._progressiveDone = params.progressiveDone || false;\n\n    const initialData = params.initialData;\n    if (initialData && initialData.length > 0) {\n      const buffer = new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !params.disableStream;\n    this._isRangeSupported = !params.disableRange;\n    this._contentLength = params.length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({ loaded, total });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({ chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData(args) {\n    const buffer = new Uint8Array(args.chunk).buffer;\n    if (args.begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== args.begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(\n        found,\n        \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\"\n      );\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader ? this._fullRequestReader._loaded : 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      // Reporting to first range reader, if it exists.\n      const firstReader = this._rangeReaders[0];\n      if (firstReader && firstReader.onProgress) {\n        firstReader.onProgress({ loaded: evt.loaded });\n      }\n    } else {\n      const fullReader = this._fullRequestReader;\n      if (fullReader && fullReader.onProgress) {\n        fullReader.onProgress({ loaded: evt.loaded, total: evt.total });\n      }\n    }\n  }\n\n  _onProgressiveDone() {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.progressiveDone();\n    }\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFDataTransportStream.getFullReader can only be called once.\"\n    );\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(\n      this,\n      queuedChunks,\n      this._progressiveDone\n    );\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeReaders.slice(0);\n    readers.forEach(function (rangeReader) {\n      rangeReader.cancel(reason);\n    });\n    this._pdfDataRangeTransport.abort();\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // Ignore new data.\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // ignore new data\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({ value: chunk, done: false });\n      this._requests.forEach(function (requestCapability) {\n        requestCapability.resolve({ value: undefined, done: true });\n      });\n      this._requests = [];\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    this._stream._removeRangeReader(this);\n  }\n}\n\nexport { PDFDataTransportStream };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-multi-str */\n\nimport { shadow } from \"../shared/util.js\";\n\nclass WebGLContext {\n  constructor({ enable = false }) {\n    this._enabled = enable === true;\n  }\n\n  get isEnabled() {\n    let enabled = this._enabled;\n    if (enabled) {\n      enabled = WebGLUtils.tryInitGL();\n    }\n    return shadow(this, \"isEnabled\", enabled);\n  }\n\n  composeSMask({ layer, mask, properties }) {\n    return WebGLUtils.composeSMask(layer, mask, properties);\n  }\n\n  drawFigures({ width, height, backgroundColor, figures, context }) {\n    return WebGLUtils.drawFigures(\n      width,\n      height,\n      backgroundColor,\n      figures,\n      context\n    );\n  }\n\n  clear() {\n    WebGLUtils.cleanup();\n  }\n}\n\nvar WebGLUtils = (function WebGLUtilsClosure() {\n  function loadShader(gl, code, shaderType) {\n    var shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n      var errorMsg = gl.getShaderInfoLog(shader);\n      throw new Error(\"Error during shader compilation: \" + errorMsg);\n    }\n    return shader;\n  }\n  function createVertexShader(gl, code) {\n    return loadShader(gl, code, gl.VERTEX_SHADER);\n  }\n  function createFragmentShader(gl, code) {\n    return loadShader(gl, code, gl.FRAGMENT_SHADER);\n  }\n  function createProgram(gl, shaders) {\n    var program = gl.createProgram();\n    for (var i = 0, ii = shaders.length; i < ii; ++i) {\n      gl.attachShader(program, shaders[i]);\n    }\n    gl.linkProgram(program);\n    var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n      var errorMsg = gl.getProgramInfoLog(program);\n      throw new Error(\"Error during program linking: \" + errorMsg);\n    }\n    return program;\n  }\n  function createTexture(gl, image, textureId) {\n    gl.activeTexture(textureId);\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Set the parameters so we can render any size image.\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n    // Upload the image into the texture.\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  var currentGL, currentCanvas;\n  function generateGL() {\n    if (currentGL) {\n      return;\n    }\n\n    // The temporary canvas is used in the WebGL context.\n    currentCanvas = document.createElement(\"canvas\");\n    currentGL = currentCanvas.getContext(\"webgl\", {\n      premultipliedalpha: false,\n    });\n  }\n\n  var smaskVertexShaderCode =\n    \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             \";\n\n  var smaskFragmentShaderCode =\n    \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             \";\n\n  var smaskCache = null;\n\n  function initSmaskGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.backdropLocation = gl.getUniformLocation(program, \"u_backdrop\");\n    cache.subtypeLocation = gl.getUniformLocation(program, \"u_subtype\");\n\n    var texCoordLocation = gl.getAttribLocation(program, \"a_texCoord\");\n    var texLayerLocation = gl.getUniformLocation(program, \"u_image\");\n    var texMaskLocation = gl.getUniformLocation(program, \"u_mask\");\n\n    // provide texture coordinates for the rectangle.\n    var texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    // prettier-ignore\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0.0, 0.0,\n      1.0, 0.0,\n      0.0, 1.0,\n      0.0, 1.0,\n      1.0, 0.0,\n      1.0, 1.0]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    gl.uniform1i(texLayerLocation, 0);\n    gl.uniform1i(texMaskLocation, 1);\n\n    smaskCache = cache;\n  }\n\n  function composeSMask(layer, mask, properties) {\n    var width = layer.width,\n      height = layer.height;\n\n    if (!smaskCache) {\n      initSmaskGL();\n    }\n    var cache = smaskCache,\n      canvas = cache.canvas,\n      gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    if (properties.backdrop) {\n      gl.uniform4f(\n        cache.resolutionLocation,\n        properties.backdrop[0],\n        properties.backdrop[1],\n        properties.backdrop[2],\n        1\n      );\n    } else {\n      gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n    }\n    gl.uniform1i(\n      cache.subtypeLocation,\n      properties.subtype === \"Luminosity\" ? 1 : 0\n    );\n\n    // Create a textures\n    var texture = createTexture(gl, layer, gl.TEXTURE0);\n    var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n\n    // Create a buffer and put a single clipspace rectangle in\n    // it (2 triangles)\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    // prettier-ignore\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 0,\n      width, 0,\n      0, height,\n      0, height,\n      width, 0,\n      width, height]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // draw\n    gl.clearColor(0, 0, 0, 0);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    gl.flush();\n\n    gl.deleteTexture(texture);\n    gl.deleteTexture(maskTexture);\n    gl.deleteBuffer(buffer);\n\n    return canvas;\n  }\n\n  var figuresVertexShaderCode =\n    \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             \";\n\n  var figuresFragmentShaderCode =\n    \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             \";\n\n  var figuresCache = null;\n\n  function initFiguresGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.scaleLocation = gl.getUniformLocation(program, \"u_scale\");\n    cache.offsetLocation = gl.getUniformLocation(program, \"u_offset\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.colorLocation = gl.getAttribLocation(program, \"a_color\");\n\n    figuresCache = cache;\n  }\n\n  function drawFigures(width, height, backgroundColor, figures, context) {\n    if (!figuresCache) {\n      initFiguresGL();\n    }\n    var cache = figuresCache,\n      canvas = cache.canvas,\n      gl = cache.gl;\n\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    // count triangle points\n    var count = 0;\n    var i, ii, rows;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      switch (figures[i].type) {\n        case \"lattice\":\n          rows = (figures[i].coords.length / figures[i].verticesPerRow) | 0;\n          count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n          break;\n        case \"triangles\":\n          count += figures[i].coords.length;\n          break;\n      }\n    }\n    // transfer data\n    var coords = new Float32Array(count * 2);\n    var colors = new Uint8Array(count * 3);\n    var coordsMap = context.coords,\n      colorsMap = context.colors;\n    var pIndex = 0,\n      cIndex = 0;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      var figure = figures[i],\n        ps = figure.coords,\n        cs = figure.colors;\n      switch (figure.type) {\n        case \"lattice\":\n          var cols = figure.verticesPerRow;\n          rows = (ps.length / cols) | 0;\n          for (var row = 1; row < rows; row++) {\n            var offset = row * cols + 1;\n            for (var col = 1; col < cols; col++, offset++) {\n              coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n              coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n              coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n              coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n              coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n              coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n              colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n              colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n              colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n              colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n              colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n              colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n              colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n              colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n              colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n\n              coords[pIndex + 6] = coords[pIndex + 2];\n              coords[pIndex + 7] = coords[pIndex + 3];\n              coords[pIndex + 8] = coords[pIndex + 4];\n              coords[pIndex + 9] = coords[pIndex + 5];\n              coords[pIndex + 10] = coordsMap[ps[offset]];\n              coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n              colors[cIndex + 9] = colors[cIndex + 3];\n              colors[cIndex + 10] = colors[cIndex + 4];\n              colors[cIndex + 11] = colors[cIndex + 5];\n              colors[cIndex + 12] = colors[cIndex + 6];\n              colors[cIndex + 13] = colors[cIndex + 7];\n              colors[cIndex + 14] = colors[cIndex + 8];\n              colors[cIndex + 15] = colorsMap[cs[offset]];\n              colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n              colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n              pIndex += 12;\n              cIndex += 18;\n            }\n          }\n          break;\n        case \"triangles\":\n          for (var j = 0, jj = ps.length; j < jj; j++) {\n            coords[pIndex] = coordsMap[ps[j]];\n            coords[pIndex + 1] = coordsMap[ps[j] + 1];\n            colors[cIndex] = colorsMap[cs[j]];\n            colors[cIndex + 1] = colorsMap[cs[j] + 1];\n            colors[cIndex + 2] = colorsMap[cs[j] + 2];\n            pIndex += 2;\n            cIndex += 3;\n          }\n          break;\n      }\n    }\n\n    // draw\n    if (backgroundColor) {\n      gl.clearColor(\n        backgroundColor[0] / 255,\n        backgroundColor[1] / 255,\n        backgroundColor[2] / 255,\n        1.0\n      );\n    } else {\n      gl.clearColor(0, 0, 0, 0);\n    }\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var coordsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    var colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.colorLocation);\n    gl.vertexAttribPointer(\n      cache.colorLocation,\n      3,\n      gl.UNSIGNED_BYTE,\n      false,\n      0,\n      0\n    );\n\n    gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n    gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n\n    gl.drawArrays(gl.TRIANGLES, 0, count);\n\n    gl.flush();\n\n    gl.deleteBuffer(coordsBuffer);\n    gl.deleteBuffer(colorsBuffer);\n\n    return canvas;\n  }\n\n  return {\n    tryInitGL() {\n      try {\n        generateGL();\n        return !!currentGL;\n      } catch (ex) {}\n      return false;\n    },\n\n    composeSMask,\n\n    drawFigures,\n\n    cleanup() {\n      if (smaskCache && smaskCache.canvas) {\n        smaskCache.canvas.width = 0;\n        smaskCache.canvas.height = 0;\n      }\n      if (figuresCache && figuresCache.canvas) {\n        figuresCache.canvas.width = 0;\n        figuresCache.canvas.height = 0;\n      }\n      smaskCache = null;\n      figuresCache = null;\n    },\n  };\n})();\n\nexport { WebGLContext };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  addLinkAttributes,\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  LinkTarget,\n  PDFDateString,\n} from \"./display_utils.js\";\nimport {\n  AnnotationBorderStyleType,\n  AnnotationType,\n  stringToPDFString,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {PDFPage} page\n * @property {PageViewport} viewport\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderInteractiveForms\n * @property {Object} svgFactory\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  constructor(parameters, isRenderable = false, ignoreBorder = false) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderInteractiveForms = parameters.renderInteractiveForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  _createContainer(ignoreBorder = false) {\n    const data = this.data,\n      page = this.page,\n      viewport = this.viewport;\n    const container = document.createElement(\"section\");\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n\n    container.setAttribute(\"data-annotation-id\", data.id);\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    const rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1],\n    ]);\n\n    container.style.transform = `matrix(${viewport.transform.join(\",\")})`;\n    container.style.transformOrigin = `-${rect[0]}px -${rect[1]}px`;\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n      if (data.borderStyle.style !== AnnotationBorderStyleType.UNDERLINE) {\n        // Underline styles only have a bottom border, so we do not need\n        // to adjust for all borders. This yields a similar result as\n        // Adobe Acrobat/Reader.\n        width = width - 2 * data.borderStyle.width;\n        height = height - 2 * data.borderStyle.width;\n      }\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `${horizontalRadius}px / ${verticalRadius}px`;\n        container.style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      if (data.color) {\n        container.style.borderColor = Util.makeCssRgb(\n          data.color[0] | 0,\n          data.color[1] | 0,\n          data.color[2] | 0\n        );\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = `${rect[0]}px`;\n    container.style.top = `${rect[1]}px`;\n    container.style.width = `${width}px`;\n    container.style.height = `${height}px`;\n    return container;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @private\n   * @param {HTMLSectionElement} container\n   * @param {HTMLDivElement|HTMLImageElement|null} trigger\n   * @param {Object} data\n   * @memberof AnnotationElement\n   */\n  _createPopup(container, trigger, data) {\n    // If no trigger element is specified, create it.\n    if (!trigger) {\n      trigger = document.createElement(\"div\");\n      trigger.style.height = container.style.height;\n      trigger.style.width = container.style.width;\n      container.appendChild(trigger);\n    }\n\n    const popupElement = new PopupElement({\n      container,\n      trigger,\n      color: data.color,\n      title: data.title,\n      modificationDate: data.modificationDate,\n      contents: data.contents,\n      hideWrapper: true,\n    });\n    const popup = popupElement.render();\n\n    // Position the popup next to the annotation's container.\n    popup.style.left = container.style.width;\n\n    container.appendChild(popup);\n  }\n\n  /**\n   * Render the annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof AnnotationElement\n   */\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.url ||\n      parameters.data.dest ||\n      parameters.data.action\n    );\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the link annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof LinkAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"linkAnnotation\";\n\n    const { data, linkService } = this;\n    const link = document.createElement(\"a\");\n\n    if (data.url) {\n      addLinkAttributes(link, {\n        url: data.url,\n        target: data.newWindow\n          ? LinkTarget.BLANK\n          : linkService.externalLinkTarget,\n        rel: linkService.externalLinkRel,\n        enabled: linkService.externalLinkEnabled,\n      });\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n    } else {\n      this._bindLink(link, data.dest);\n    }\n\n    this.container.appendChild(link);\n    return this.container;\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.navigateTo(destination);\n      }\n      return false;\n    };\n    if (destination) {\n      link.className = \"internalLink\";\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    link.className = \"internalLink\";\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the text annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof TextAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"textAnnotation\";\n\n    const image = document.createElement(\"img\");\n    image.style.height = this.container.style.height;\n    image.style.width = this.container.style.width;\n    image.src =\n      this.imageResourcesPath +\n      \"annotation-\" +\n      this.data.name.toLowerCase() +\n      \".svg\";\n    image.alt = \"[{{type}} Annotation]\";\n    image.dataset.l10nId = \"text_annotation_type\";\n    image.dataset.l10nArgs = JSON.stringify({ type: this.data.name });\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, image, this.data);\n    }\n\n    this.container.appendChild(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  /**\n   * Render the widget annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof WidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // Show only the container for unsupported field types.\n    return this.container;\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable =\n      parameters.renderInteractiveForms ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the text widget annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof TextWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    this.container.className = \"textWidgetAnnotation\";\n\n    let element = null;\n    if (this.renderInteractiveForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      const textContent = storage.getOrCreateValue(id, this.data.fieldValue);\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = textContent;\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", textContent);\n      }\n\n      element.addEventListener(\"input\", function (event) {\n        storage.setValue(id, event.target.value);\n      });\n\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n\n      if (this.data.maxLen !== null) {\n        element.maxLength = this.data.maxLen;\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / this.data.maxLen;\n\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n\n      let font = null;\n      if (\n        this.data.fontRefName &&\n        this.page.commonObjs.has(this.data.fontRefName)\n      ) {\n        font = this.page.commonObjs.get(this.data.fontRefName);\n      }\n      this._setTextStyle(element, font);\n    }\n\n    if (this.data.textAlignment !== null) {\n      element.style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @param {Object} font\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element, font) {\n    // TODO: This duplicates some of the logic in CanvasGraphics.setFont().\n    const style = element.style;\n    style.fontSize = `${this.data.fontSize}px`;\n    style.direction = this.data.fontDirection < 0 ? \"rtl\" : \"ltr\";\n\n    if (!font) {\n      return;\n    }\n\n    let bold = \"normal\";\n    if (font.black) {\n      bold = \"900\";\n    } else if (font.bold) {\n      bold = \"bold\";\n    }\n    style.fontWeight = bold;\n    style.fontStyle = font.italic ? \"italic\" : \"normal\";\n\n    // Use a reasonable default font if the font doesn't specify a fallback.\n    const fontFamily = font.loadedName ? `\"${font.loadedName}\", ` : \"\";\n    const fallbackName = font.fallbackName || \"Helvetica, sans-serif\";\n    style.fontFamily = fontFamily + fallbackName;\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the checkbox widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof CheckboxWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    const value = storage.getOrCreateValue(\n      id,\n      data.fieldValue && data.fieldValue !== \"Off\"\n    );\n\n    this.container.className = \"buttonWidgetAnnotation checkBox\";\n\n    const element = document.createElement(\"input\");\n    element.disabled = data.readOnly;\n    element.type = \"checkbox\";\n    element.name = this.data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n\n    element.addEventListener(\"change\", function (event) {\n      storage.setValue(id, event.target.checked);\n    });\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the radio button widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof RadioButtonWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"buttonWidgetAnnotation radioButton\";\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    const value = storage.getOrCreateValue(\n      id,\n      data.fieldValue === data.buttonValue\n    );\n\n    const element = document.createElement(\"input\");\n    element.disabled = data.readOnly;\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n\n    element.addEventListener(\"change\", function (event) {\n      const name = event.target.name;\n      for (const radio of document.getElementsByName(name)) {\n        if (radio !== event.target) {\n          storage.setValue(\n            radio.parentNode.getAttribute(\"data-annotation-id\"),\n            false\n          );\n        }\n      }\n      storage.setValue(id, event.target.checked);\n    });\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  /**\n   * Render the push button widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof PushButtonWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // The rendering and functionality of a push button widget annotation is\n    // equal to that of a link annotation, but may have more functionality, such\n    // as performing actions on form fields (resetting, submitting, et cetera).\n    const container = super.render();\n    container.className = \"buttonWidgetAnnotation pushButton\";\n    return container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the choice widget annotation's HTML element in the empty\n   * container.\n   *\n   * @public\n   * @memberof ChoiceWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"choiceWidgetAnnotation\";\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    // For printing/saving we currently only support choice widgets with one\n    // option selection. Therefore, listboxes (#12189) and comboboxes (#12224)\n    // are not properly printed/saved yet, so we only store the first item in\n    // the field value array instead of the entire array. Once support for those\n    // two field types is implemented, we should use the same pattern as the\n    // other interactive widgets where the return value of `getOrCreateValue` is\n    // used and the full array of field values is stored.\n    storage.getOrCreateValue(\n      id,\n      this.data.fieldValue.length > 0 ? this.data.fieldValue[0] : null\n    );\n\n    const selectElement = document.createElement(\"select\");\n    selectElement.disabled = this.data.readOnly;\n    selectElement.name = this.data.fieldName;\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    // Insert the options into the choice field.\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (this.data.fieldValue.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n      }\n      selectElement.appendChild(optionElement);\n    }\n\n    selectElement.addEventListener(\"input\", function (event) {\n      const options = event.target.options;\n      const value = options[options.selectedIndex].value;\n      storage.setValue(id, value);\n    });\n\n    this.container.appendChild(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the popup annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof PopupAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // Do not render popup annotations for parent elements with these types as\n    // they create the popups themselves (because of custom trigger divs).\n    const IGNORE_TYPES = [\n      \"Line\",\n      \"Square\",\n      \"Circle\",\n      \"PolyLine\",\n      \"Polygon\",\n      \"Ink\",\n    ];\n\n    this.container.className = \"popupAnnotation\";\n\n    if (IGNORE_TYPES.includes(this.data.parentType)) {\n      return this.container;\n    }\n\n    const selector = `[data-annotation-id=\"${this.data.parentId}\"]`;\n    const parentElement = this.layer.querySelector(selector);\n    if (!parentElement) {\n      return this.container;\n    }\n\n    const popup = new PopupElement({\n      container: this.container,\n      trigger: parentElement,\n      color: this.data.color,\n      title: this.data.title,\n      modificationDate: this.data.modificationDate,\n      contents: this.data.contents,\n    });\n\n    // Position the popup next to the parent annotation's container.\n    // PDF viewers ignore a popup annotation's rectangle.\n    const parentLeft = parseFloat(parentElement.style.left);\n    const parentWidth = parseFloat(parentElement.style.width);\n    this.container.style.transformOrigin = `-${parentLeft + parentWidth}px -${\n      parentElement.style.top\n    }`;\n    this.container.style.left = `${parentLeft + parentWidth}px`;\n\n    this.container.appendChild(popup.render());\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  constructor(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.title = parameters.title;\n    this.modificationDate = parameters.modificationDate;\n    this.contents = parameters.contents;\n    this.hideWrapper = parameters.hideWrapper || false;\n\n    this.pinned = false;\n  }\n\n  /**\n   * Render the popup's HTML element.\n   *\n   * @public\n   * @memberof PopupElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const BACKGROUND_ENLIGHT = 0.7;\n\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"popupWrapper\";\n\n    // For Popup annotations we hide the entire section because it contains\n    // only the popup. However, for Text annotations without a separate Popup\n    // annotation, we cannot hide the entire container as the image would\n    // disappear too. In that special case, hiding the wrapper suffices.\n    this.hideElement = this.hideWrapper ? wrapper : this.container;\n    this.hideElement.setAttribute(\"hidden\", true);\n\n    const popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n\n    const color = this.color;\n    if (color) {\n      // Enlighten the color.\n      const r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n      const g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n      const b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n      popup.style.backgroundColor = Util.makeCssRgb(r | 0, g | 0, b | 0);\n    }\n\n    const title = document.createElement(\"h1\");\n    title.textContent = this.title;\n    popup.appendChild(title);\n\n    // The modification date is shown in the popup instead of the creation\n    // date if it is available and can be parsed correctly, which is\n    // consistent with other viewers such as Adobe Acrobat.\n    const dateObject = PDFDateString.toDateObject(this.modificationDate);\n    if (dateObject) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.textContent = \"{{date}}, {{time}}\";\n      modificationDate.dataset.l10nId = \"annotation_date_string\";\n      modificationDate.dataset.l10nArgs = JSON.stringify({\n        date: dateObject.toLocaleDateString(),\n        time: dateObject.toLocaleTimeString(),\n      });\n      popup.appendChild(modificationDate);\n    }\n\n    const contents = this._formatContents(this.contents);\n    popup.appendChild(contents);\n\n    // Attach the event listeners to the trigger element.\n    this.trigger.addEventListener(\"click\", this._toggle.bind(this));\n    this.trigger.addEventListener(\"mouseover\", this._show.bind(this, false));\n    this.trigger.addEventListener(\"mouseout\", this._hide.bind(this, false));\n    popup.addEventListener(\"click\", this._hide.bind(this, true));\n\n    wrapper.appendChild(popup);\n    return wrapper;\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {string} contents\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents(contents) {\n    const p = document.createElement(\"p\");\n    const lines = contents.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.appendChild(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.appendChild(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   *\n   * @private\n   * @memberof PopupElement\n   */\n  _toggle() {\n    if (this.pinned) {\n      this._hide(true);\n    } else {\n      this._show(true);\n    }\n  }\n\n  /**\n   * Show the popup.\n   *\n   * @private\n   * @param {boolean} pin\n   * @memberof PopupElement\n   */\n  _show(pin = false) {\n    if (pin) {\n      this.pinned = true;\n    }\n    if (this.hideElement.hasAttribute(\"hidden\")) {\n      this.hideElement.removeAttribute(\"hidden\");\n      this.container.style.zIndex += 1;\n    }\n  }\n\n  /**\n   * Hide the popup.\n   *\n   * @private\n   * @param {boolean} unpin\n   * @memberof PopupElement\n   */\n  _hide(unpin = true) {\n    if (unpin) {\n      this.pinned = false;\n    }\n    if (!this.hideElement.hasAttribute(\"hidden\") && !this.pinned) {\n      this.hideElement.setAttribute(\"hidden\", true);\n      this.container.style.zIndex -= 1;\n    }\n  }\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the free text annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof FreeTextAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"freeTextAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the line annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof LineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"lineAnnotation\";\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    const line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n\n    svg.appendChild(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, line, data);\n\n    return this.container;\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the square annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof SquareAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"squareAnnotation\";\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, square, data);\n\n    return this.container;\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the circle annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof CircleAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"circleAnnotation\";\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, circle, data);\n\n    return this.container;\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  /**\n   * Render the polyline annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof PolylineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n\n    const polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    this._createPopup(this.container, polyline, data);\n\n    return this.container;\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the caret annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof CaretAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"caretAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n\n    this.containerClassName = \"inkAnnotation\";\n\n    // Use the polyline SVG element since it allows us to use coordinates\n    // directly and to draw both straight lines and curves.\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  /**\n   * Render the ink annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof InkAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    for (const inkList of data.inkLists) {\n      // Convert the ink list to a single points string that the SVG\n      // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n      // calculated from a bottom left origin, so transform the polyline\n      // coordinates to a top left origin for the SVG element.\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      polyline.setAttribute(\"points\", points);\n      // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n      // won't be possible to open/close the popup (note e.g. issue 11122).\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"none\");\n\n      // Create the popup ourselves so that we can bind it to the polyline\n      // instead of to the entire container (which is the default).\n      this._createPopup(this.container, polyline, data);\n\n      svg.appendChild(polyline);\n    }\n\n    this.container.append(svg);\n    return this.container;\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the highlight annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof HighlightAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"highlightAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the underline annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof UnderlineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"underlineAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the squiggly annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof SquigglyAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"squigglyAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the strikeout annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof StrikeOutAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"strikeoutAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the stamp annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof StampAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"stampAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, /* isRenderable = */ true);\n\n    const { filename, content } = this.data.file;\n    this.filename = getFilenameFromUrl(filename);\n    this.content = content;\n\n    if (this.linkService.eventBus) {\n      this.linkService.eventBus.dispatch(\"fileattachmentannotation\", {\n        source: this,\n        id: stringToPDFString(filename),\n        filename,\n        content,\n      });\n    }\n  }\n\n  /**\n   * Render the file attachment annotation's HTML element in the empty\n   * container.\n   *\n   * @public\n   * @memberof FileAttachmentAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = \"fileAttachmentAnnotation\";\n\n    const trigger = document.createElement(\"div\");\n    trigger.style.height = this.container.style.height;\n    trigger.style.width = this.container.style.width;\n    trigger.addEventListener(\"dblclick\", this._download.bind(this));\n\n    if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n      this._createPopup(this.container, trigger, this.data);\n    }\n\n    this.container.appendChild(trigger);\n    return this.container;\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   *\n   * @private\n   * @memberof FileAttachmentAnnotationElement\n   */\n  _download() {\n    if (!this.downloadManager) {\n      warn(\"Download cannot be started due to unavailable download manager\");\n      return;\n    }\n    this.downloadManager.downloadData(this.content, this.filename, \"\");\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPage} page\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderInteractiveForms\n */\n\nclass AnnotationLayer {\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static render(parameters) {\n    const sortedAnnotations = [],\n      popupAnnotations = [];\n    // Ensure that Popup annotations are handled last, since they're dependant\n    // upon the parent annotation having already been rendered (please refer to\n    // the `PopupAnnotationElement.render` method); fixes issue 11362.\n    for (const data of parameters.annotations) {\n      if (!data) {\n        continue;\n      }\n      if (data.annotationType === AnnotationType.POPUP) {\n        popupAnnotations.push(data);\n        continue;\n      }\n      sortedAnnotations.push(data);\n    }\n    if (popupAnnotations.length) {\n      sortedAnnotations.push(...popupAnnotations);\n    }\n\n    for (const data of sortedAnnotations) {\n      const element = AnnotationElementFactory.create({\n        data,\n        layer: parameters.div,\n        page: parameters.page,\n        viewport: parameters.viewport,\n        linkService: parameters.linkService,\n        downloadManager: parameters.downloadManager,\n        imageResourcesPath: parameters.imageResourcesPath || \"\",\n        renderInteractiveForms:\n          typeof parameters.renderInteractiveForms === \"boolean\"\n            ? parameters.renderInteractiveForms\n            : true,\n        svgFactory: new DOMSVGFactory(),\n        annotationStorage:\n          parameters.annotationStorage || new AnnotationStorage(),\n      });\n      if (element.isRenderable) {\n        parameters.div.appendChild(element.render());\n      }\n    }\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static update(parameters) {\n    for (const data of parameters.annotations) {\n      const element = parameters.div.querySelector(\n        `[data-annotation-id=\"${data.id}\"]`\n      );\n      if (element) {\n        element.style.transform = `matrix(${parameters.viewport.transform.join(\n          \",\"\n        )})`;\n      }\n    }\n    parameters.div.removeAttribute(\"hidden\");\n  }\n}\n\nexport { AnnotationLayer };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  createPromiseCapability,\n  Util,\n} from \"../shared/util.js\";\n\n/**\n * Text layer render parameters.\n *\n * @typedef {Object} TextLayerRenderParameters\n * @property {import(\"./api\").TextContent} [textContent] - Text content to\n *   render (the object is returned by the page's `getTextContent` method).\n * @property {ReadableStream} [textContentStream] - Text content stream to\n *   render (the stream is returned by the page's `streamTextContent` method).\n * @property {HTMLElement} container - HTML element that will contain text runs.\n * @property {import(\"./display_utils\").PageViewport} viewport - The target\n *   viewport to properly layout the text runs.\n * @property {Array<HTMLElement>} [textDivs] - HTML elements that are correspond\n *   to the text items of the textContent input. This is output and shall be\n *   initially be set to empty array.\n * @property {Array<string>} [textContentItemsStr] - Strings that correspond to\n *    the `str` property of the text items of textContent input. This is output\n *   and shall be initially be set to empty array.\n * @property {number} [timeout] - Delay in milliseconds before rendering of the\n *   text runs occurs.\n * @property {boolean} [enhanceTextSelection] - Whether to turn on the text\n *   selection enhancement.\n */\n\n/**\n * @typedef {Object} TextLayerRenderTask\n * @property {Promise<void>} promise\n * @property {() => void} cancel\n * @property {(expandDivs: boolean) => void} expandTextDivs\n */\n\n/**\n * @type {(renderParameters: TextLayerRenderParameters) => TextLayerRenderTask}\n */\nvar renderTextLayer = (function renderTextLayerClosure() {\n  var MAX_TEXT_DIVS_TO_RENDER = 100000;\n\n  var NonWhitespaceRegexp = /\\S/;\n\n  function isAllWhitespace(str) {\n    return !NonWhitespaceRegexp.test(str);\n  }\n\n  function appendText(task, geom, styles) {\n    // Initialize all used properties to keep the caches monomorphic.\n    var textDiv = document.createElement(\"span\");\n    var textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      isWhitespace: false,\n      originalTransform: null,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      scale: 1,\n    };\n\n    task._textDivs.push(textDiv);\n    if (isAllWhitespace(geom.str)) {\n      textDivProperties.isWhitespace = true;\n      task._textDivProperties.set(textDiv, textDivProperties);\n      return;\n    }\n\n    var tx = Util.transform(task._viewport.transform, geom.transform);\n    var angle = Math.atan2(tx[1], tx[0]);\n    var style = styles[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    var fontHeight = Math.sqrt(tx[2] * tx[2] + tx[3] * tx[3]);\n    var fontAscent = fontHeight;\n    if (style.ascent) {\n      fontAscent = style.ascent * fontAscent;\n    } else if (style.descent) {\n      fontAscent = (1 + style.descent) * fontAscent;\n    }\n\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n    // Setting the style properties individually, rather than all at once,\n    // should be OK since the `textDiv` isn't appended to the document yet.\n    textDiv.style.left = `${left}px`;\n    textDiv.style.top = `${top}px`;\n    textDiv.style.fontSize = `${fontHeight}px`;\n    textDiv.style.fontFamily = style.fontFamily;\n\n    textDiv.textContent = geom.str;\n    // `fontName` is only used by the FontInspector, and we only use `dataset`\n    // here to make the font name available in the debugger.\n    if (task._fontInspectorEnabled) {\n      textDiv.dataset.fontName = geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    // We don't bother scaling single-char text divs, because it has very\n    // little effect on text highlighting. This makes scrolling on docs with\n    // lots of such divs a lot faster.\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      // When the horizontal/vertical scaling differs significantly, also scale\n      // even single-char text to improve highlighting (fixes issue11713.pdf).\n      if (\n        absScaleX !== absScaleY &&\n        Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5\n      ) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      if (style.vertical) {\n        textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n      } else {\n        textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n      }\n    }\n    task._textDivProperties.set(textDiv, textDivProperties);\n    if (task._textContentStream) {\n      task._layoutText(textDiv);\n    }\n\n    if (task._enhanceTextSelection) {\n      var angleCos = 1,\n        angleSin = 0;\n      if (angle !== 0) {\n        angleCos = Math.cos(angle);\n        angleSin = Math.sin(angle);\n      }\n      var divWidth =\n        (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n      var divHeight = fontHeight;\n\n      var m, b;\n      if (angle !== 0) {\n        m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n        b = Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n      } else {\n        b = [left, top, left + divWidth, top + divHeight];\n      }\n\n      task._bounds.push({\n        left: b[0],\n        top: b[1],\n        right: b[2],\n        bottom: b[3],\n        div: textDiv,\n        size: [divWidth, divHeight],\n        m,\n      });\n    }\n  }\n\n  function render(task) {\n    if (task._canceled) {\n      return;\n    }\n    var textDivs = task._textDivs;\n    var capability = task._capability;\n    var textDivsLength = textDivs.length;\n\n    // No point in rendering many divs as it would make the browser\n    // unusable even after the divs are rendered.\n    if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n      task._renderingDone = true;\n      capability.resolve();\n      return;\n    }\n\n    if (!task._textContentStream) {\n      for (var i = 0; i < textDivsLength; i++) {\n        task._layoutText(textDivs[i]);\n      }\n    }\n\n    task._renderingDone = true;\n    capability.resolve();\n  }\n\n  function findPositiveMin(ts, offset, count) {\n    let result = 0;\n    for (let i = 0; i < count; i++) {\n      const t = ts[offset++];\n      if (t > 0) {\n        result = result ? Math.min(t, result) : t;\n      }\n    }\n    return result;\n  }\n\n  function expand(task) {\n    var bounds = task._bounds;\n    var viewport = task._viewport;\n\n    var expanded = expandBounds(viewport.width, viewport.height, bounds);\n    for (var i = 0; i < expanded.length; i++) {\n      var div = bounds[i].div;\n      var divProperties = task._textDivProperties.get(div);\n      if (divProperties.angle === 0) {\n        divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n        divProperties.paddingTop = bounds[i].top - expanded[i].top;\n        divProperties.paddingRight = expanded[i].right - bounds[i].right;\n        divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n        task._textDivProperties.set(div, divProperties);\n        continue;\n      }\n      // Box is rotated -- trying to find padding so rotated div will not\n      // exceed its expanded bounds.\n      var e = expanded[i],\n        b = bounds[i];\n      var m = b.m,\n        c = m[0],\n        s = m[1];\n      // Finding intersections with expanded box.\n      var points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n      var ts = new Float64Array(64);\n      points.forEach(function (p, j) {\n        var t = Util.applyTransform(p, m);\n        ts[j + 0] = c && (e.left - t[0]) / c;\n        ts[j + 4] = s && (e.top - t[1]) / s;\n        ts[j + 8] = c && (e.right - t[0]) / c;\n        ts[j + 12] = s && (e.bottom - t[1]) / s;\n\n        ts[j + 16] = s && (e.left - t[0]) / -s;\n        ts[j + 20] = c && (e.top - t[1]) / c;\n        ts[j + 24] = s && (e.right - t[0]) / -s;\n        ts[j + 28] = c && (e.bottom - t[1]) / c;\n\n        ts[j + 32] = c && (e.left - t[0]) / -c;\n        ts[j + 36] = s && (e.top - t[1]) / -s;\n        ts[j + 40] = c && (e.right - t[0]) / -c;\n        ts[j + 44] = s && (e.bottom - t[1]) / -s;\n\n        ts[j + 48] = s && (e.left - t[0]) / s;\n        ts[j + 52] = c && (e.top - t[1]) / -c;\n        ts[j + 56] = s && (e.right - t[0]) / s;\n        ts[j + 60] = c && (e.bottom - t[1]) / -c;\n      });\n      // Not based on math, but to simplify calculations, using cos and sin\n      // absolute values to not exceed the box (it can but insignificantly).\n      var boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n      divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n      divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n      divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n      divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n      task._textDivProperties.set(div, divProperties);\n    }\n  }\n\n  function expandBounds(width, height, boxes) {\n    var bounds = boxes.map(function (box, i) {\n      return {\n        x1: box.left,\n        y1: box.top,\n        x2: box.right,\n        y2: box.bottom,\n        index: i,\n        x1New: undefined,\n        x2New: undefined,\n      };\n    });\n    expandBoundsLTR(width, bounds);\n    var expanded = new Array(boxes.length);\n    bounds.forEach(function (b) {\n      var i = b.index;\n      expanded[i] = {\n        left: b.x1New,\n        top: 0,\n        right: b.x2New,\n        bottom: 0,\n      };\n    });\n\n    // Rotating on 90 degrees and extending extended boxes. Reusing the bounds\n    // array and objects.\n    boxes.map(function (box, i) {\n      var e = expanded[i],\n        b = bounds[i];\n      b.x1 = box.top;\n      b.y1 = width - e.right;\n      b.x2 = box.bottom;\n      b.y2 = width - e.left;\n      b.index = i;\n      b.x1New = undefined;\n      b.x2New = undefined;\n    });\n    expandBoundsLTR(height, bounds);\n\n    bounds.forEach(function (b) {\n      var i = b.index;\n      expanded[i].top = b.x1New;\n      expanded[i].bottom = b.x2New;\n    });\n    return expanded;\n  }\n\n  function expandBoundsLTR(width, bounds) {\n    // Sorting by x1 coordinate and walk by the bounds in the same order.\n    bounds.sort(function (a, b) {\n      return a.x1 - b.x1 || a.index - b.index;\n    });\n\n    // First we see on the horizon is a fake boundary.\n    var fakeBoundary = {\n      x1: -Infinity,\n      y1: -Infinity,\n      x2: 0,\n      y2: Infinity,\n      index: -1,\n      x1New: 0,\n      x2New: 0,\n    };\n    var horizon = [\n      {\n        start: -Infinity,\n        end: Infinity,\n        boundary: fakeBoundary,\n      },\n    ];\n\n    bounds.forEach(function (boundary) {\n      // Searching for the affected part of horizon.\n      // TODO red-black tree or simple binary search\n      var i = 0;\n      while (i < horizon.length && horizon[i].end <= boundary.y1) {\n        i++;\n      }\n      var j = horizon.length - 1;\n      while (j >= 0 && horizon[j].start >= boundary.y2) {\n        j--;\n      }\n\n      var horizonPart, affectedBoundary;\n      var q,\n        k,\n        maxXNew = -Infinity;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        var xNew;\n        if (affectedBoundary.x2 > boundary.x1) {\n          // In the middle of the previous element, new x shall be at the\n          // boundary start. Extending if further if the affected boundary\n          // placed on top of the current one.\n          xNew =\n            affectedBoundary.index > boundary.index\n              ? affectedBoundary.x1New\n              : boundary.x1;\n        } else if (affectedBoundary.x2New === undefined) {\n          // We have some space in between, new x in middle will be a fair\n          // choice.\n          xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n        } else {\n          // Affected boundary has x2new set, using it as new x.\n          xNew = affectedBoundary.x2New;\n        }\n        if (xNew > maxXNew) {\n          maxXNew = xNew;\n        }\n      }\n\n      // Set new x1 for current boundary.\n      boundary.x1New = maxXNew;\n\n      // Adjusts new x2 for the affected boundaries.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New === undefined) {\n          // Was not set yet, choosing new x if possible.\n          if (affectedBoundary.x2 > boundary.x1) {\n            // Current and affected boundaries intersect. If affected boundary\n            // is placed on top of the current, shrinking the affected.\n            if (affectedBoundary.index > boundary.index) {\n              affectedBoundary.x2New = affectedBoundary.x2;\n            }\n          } else {\n            affectedBoundary.x2New = maxXNew;\n          }\n        } else if (affectedBoundary.x2New > maxXNew) {\n          // Affected boundary is touching new x, pushing it back.\n          affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n        }\n      }\n\n      // Fixing the horizon.\n      var changedHorizon = [],\n        lastBoundary = null;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        // Checking which boundary will be visible.\n        var useBoundary =\n          affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n        if (lastBoundary === useBoundary) {\n          // Merging with previous.\n          changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n        } else {\n          changedHorizon.push({\n            start: horizonPart.start,\n            end: horizonPart.end,\n            boundary: useBoundary,\n          });\n          lastBoundary = useBoundary;\n        }\n      }\n      if (horizon[i].start < boundary.y1) {\n        changedHorizon[0].start = boundary.y1;\n        changedHorizon.unshift({\n          start: horizon[i].start,\n          end: boundary.y1,\n          boundary: horizon[i].boundary,\n        });\n      }\n      if (boundary.y2 < horizon[j].end) {\n        changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n        changedHorizon.push({\n          start: boundary.y2,\n          end: horizon[j].end,\n          boundary: horizon[j].boundary,\n        });\n      }\n\n      // Set x2 new of boundary that is no longer visible (see overlapping case\n      // above).\n      // TODO more efficient, e.g. via reference counting.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New !== undefined) {\n          continue;\n        }\n        var used = false;\n        for (\n          k = i - 1;\n          !used && k >= 0 && horizon[k].start >= affectedBoundary.y1;\n          k--\n        ) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (\n          k = j + 1;\n          !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2;\n          k++\n        ) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (k = 0; !used && k < changedHorizon.length; k++) {\n          used = changedHorizon[k].boundary === affectedBoundary;\n        }\n        if (!used) {\n          affectedBoundary.x2New = maxXNew;\n        }\n      }\n\n      Array.prototype.splice.apply(\n        horizon,\n        [i, j - i + 1].concat(changedHorizon)\n      );\n    });\n\n    // Set new x2 for all unset boundaries.\n    horizon.forEach(function (horizonPart) {\n      var affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New === undefined) {\n        affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n      }\n    });\n  }\n\n  /**\n   * Text layer rendering task.\n   *\n   * @param {TextContent} textContent\n   * @param {HTMLElement} container\n   * @param {PageViewport} viewport\n   * @param {Array} textDivs\n   * @param {boolean} enhanceTextSelection\n   * @private\n   */\n  function TextLayerRenderTask({\n    textContent,\n    textContentStream,\n    container,\n    viewport,\n    textDivs,\n    textContentItemsStr,\n    enhanceTextSelection,\n  }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._document = container.ownerDocument;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n    this._fontInspectorEnabled = !!(\n      globalThis.FontInspector && globalThis.FontInspector.enabled\n    );\n\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = createPromiseCapability();\n    this._renderTimer = null;\n    this._bounds = [];\n\n    // Always clean-up the temporary canvas once rendering is no longer pending.\n    this._capability.promise\n      .finally(() => {\n        if (this._layoutTextCtx) {\n          // Zeroing the width and height cause Firefox to release graphics\n          // resources immediately, which can greatly reduce memory consumption.\n          this._layoutTextCtx.canvas.width = 0;\n          this._layoutTextCtx.canvas.height = 0;\n          this._layoutTextCtx = null;\n        }\n      })\n      .catch(() => {\n        /* Avoid \"Uncaught promise\" messages in the console. */\n      });\n  }\n  TextLayerRenderTask.prototype = {\n    get promise() {\n      return this._capability.promise;\n    },\n\n    cancel: function TextLayer_cancel() {\n      this._canceled = true;\n      if (this._reader) {\n        this._reader.cancel(new AbortException(\"TextLayer task cancelled.\"));\n        this._reader = null;\n      }\n      if (this._renderTimer !== null) {\n        clearTimeout(this._renderTimer);\n        this._renderTimer = null;\n      }\n      this._capability.reject(new Error(\"TextLayer task cancelled.\"));\n    },\n\n    _processItems(items, styleCache) {\n      for (let i = 0, len = items.length; i < len; i++) {\n        this._textContentItemsStr.push(items[i].str);\n        appendText(this, items[i], styleCache);\n      }\n    },\n\n    _layoutText(textDiv) {\n      const textDivProperties = this._textDivProperties.get(textDiv);\n      if (textDivProperties.isWhitespace) {\n        return;\n      }\n\n      let transform = \"\";\n      if (textDivProperties.canvasWidth !== 0) {\n        const { fontSize, fontFamily } = textDiv.style;\n\n        // Only build font string and set to context if different from last.\n        if (\n          fontSize !== this._layoutTextLastFontSize ||\n          fontFamily !== this._layoutTextLastFontFamily\n        ) {\n          this._layoutTextCtx.font = `${fontSize} ${fontFamily}`;\n          this._layoutTextLastFontSize = fontSize;\n          this._layoutTextLastFontFamily = fontFamily;\n        }\n        // Only measure the width for multi-char text divs, see `appendText`.\n        const { width } = this._layoutTextCtx.measureText(textDiv.textContent);\n\n        if (width > 0) {\n          textDivProperties.scale = textDivProperties.canvasWidth / width;\n          transform = `scaleX(${textDivProperties.scale})`;\n        }\n      }\n      if (textDivProperties.angle !== 0) {\n        transform = `rotate(${textDivProperties.angle}deg) ${transform}`;\n      }\n      if (transform.length > 0) {\n        if (this._enhanceTextSelection) {\n          textDivProperties.originalTransform = transform;\n        }\n        textDiv.style.transform = transform;\n      }\n      this._textDivProperties.set(textDiv, textDivProperties);\n      this._container.appendChild(textDiv);\n    },\n\n    _render: function TextLayer_render(timeout) {\n      const capability = createPromiseCapability();\n      let styleCache = Object.create(null);\n\n      // The temporary canvas is used to measure text length in the DOM.\n      const canvas = this._document.createElement(\"canvas\");\n      if (\n        typeof PDFJSDev === \"undefined\" ||\n        PDFJSDev.test(\"MOZCENTRAL || GENERIC\")\n      ) {\n        canvas.mozOpaque = true;\n      }\n      this._layoutTextCtx = canvas.getContext(\"2d\", { alpha: false });\n\n      if (this._textContent) {\n        const textItems = this._textContent.items;\n        const textStyles = this._textContent.styles;\n        this._processItems(textItems, textStyles);\n        capability.resolve();\n      } else if (this._textContentStream) {\n        const pump = () => {\n          this._reader.read().then(({ value, done }) => {\n            if (done) {\n              capability.resolve();\n              return;\n            }\n\n            Object.assign(styleCache, value.styles);\n            this._processItems(value.items, styleCache);\n            pump();\n          }, capability.reject);\n        };\n\n        this._reader = this._textContentStream.getReader();\n        pump();\n      } else {\n        throw new Error(\n          'Neither \"textContent\" nor \"textContentStream\"' +\n            \" parameters specified.\"\n        );\n      }\n\n      capability.promise.then(() => {\n        styleCache = null;\n        if (!timeout) {\n          // Render right away\n          render(this);\n        } else {\n          // Schedule\n          this._renderTimer = setTimeout(() => {\n            render(this);\n            this._renderTimer = null;\n          }, timeout);\n        }\n      }, this._capability.reject);\n    },\n\n    expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n      if (!this._enhanceTextSelection || !this._renderingDone) {\n        return;\n      }\n      if (this._bounds !== null) {\n        expand(this);\n        this._bounds = null;\n      }\n      const transformBuf = [],\n        paddingBuf = [];\n\n      for (var i = 0, ii = this._textDivs.length; i < ii; i++) {\n        const div = this._textDivs[i];\n        const divProps = this._textDivProperties.get(div);\n\n        if (divProps.isWhitespace) {\n          continue;\n        }\n        if (expandDivs) {\n          transformBuf.length = 0;\n          paddingBuf.length = 0;\n\n          if (divProps.originalTransform) {\n            transformBuf.push(divProps.originalTransform);\n          }\n          if (divProps.paddingTop > 0) {\n            paddingBuf.push(`${divProps.paddingTop}px`);\n            transformBuf.push(`translateY(${-divProps.paddingTop}px)`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingRight > 0) {\n            paddingBuf.push(`${divProps.paddingRight / divProps.scale}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingBottom > 0) {\n            paddingBuf.push(`${divProps.paddingBottom}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingLeft > 0) {\n            paddingBuf.push(`${divProps.paddingLeft / divProps.scale}px`);\n            transformBuf.push(\n              `translateX(${-divProps.paddingLeft / divProps.scale}px)`\n            );\n          } else {\n            paddingBuf.push(0);\n          }\n\n          div.style.padding = paddingBuf.join(\" \");\n          if (transformBuf.length) {\n            div.style.transform = transformBuf.join(\" \");\n          }\n        } else {\n          div.style.padding = null;\n          div.style.transform = divProps.originalTransform;\n        }\n      }\n    },\n  };\n\n  // eslint-disable-next-line no-shadow\n  function renderTextLayer(renderParameters) {\n    var task = new TextLayerRenderTask({\n      textContent: renderParameters.textContent,\n      textContentStream: renderParameters.textContentStream,\n      container: renderParameters.container,\n      viewport: renderParameters.viewport,\n      textDivs: renderParameters.textDivs,\n      textContentItemsStr: renderParameters.textContentItemsStr,\n      enhanceTextSelection: renderParameters.enhanceTextSelection,\n    });\n    task._render(renderParameters.timeout);\n    return task;\n  }\n\n  return renderTextLayer;\n})();\n\nexport { renderTextLayer };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n/* eslint no-var: error */\n\nimport {\n  createObjectURL,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  isNum,\n  OPS,\n  TextRenderingMode,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { DOMSVGFactory } from \"./display_utils.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\n\n/** @type {any} */\nlet SVGGraphics = function () {\n  throw new Error(\"Not implemented: SVGGraphics\");\n};\n\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  const SVG_DEFAULTS = {\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fillColor: \"#000000\",\n  };\n  const XML_NS = \"http://www.w3.org/XML/1998/namespace\";\n  const XLINK_NS = \"http://www.w3.org/1999/xlink\";\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n\n  const convertImgDataToPng = (function () {\n    const PNG_HEADER = new Uint8Array([\n      0x89,\n      0x50,\n      0x4e,\n      0x47,\n      0x0d,\n      0x0a,\n      0x1a,\n      0x0a,\n    ]);\n    const CHUNK_WRAPPER_SIZE = 12;\n\n    const crcTable = new Int32Array(256);\n    for (let i = 0; i < 256; i++) {\n      let c = i;\n      for (let h = 0; h < 8; h++) {\n        if (c & 1) {\n          c = 0xedb88320 ^ ((c >> 1) & 0x7fffffff);\n        } else {\n          c = (c >> 1) & 0x7fffffff;\n        }\n      }\n      crcTable[i] = c;\n    }\n\n    function crc32(data, start, end) {\n      let crc = -1;\n      for (let i = start; i < end; i++) {\n        const a = (crc ^ data[i]) & 0xff;\n        const b = crcTable[a];\n        crc = (crc >>> 8) ^ b;\n      }\n      return crc ^ -1;\n    }\n\n    function writePngChunk(type, body, data, offset) {\n      let p = offset;\n      const len = body.length;\n\n      data[p] = (len >> 24) & 0xff;\n      data[p + 1] = (len >> 16) & 0xff;\n      data[p + 2] = (len >> 8) & 0xff;\n      data[p + 3] = len & 0xff;\n      p += 4;\n\n      data[p] = type.charCodeAt(0) & 0xff;\n      data[p + 1] = type.charCodeAt(1) & 0xff;\n      data[p + 2] = type.charCodeAt(2) & 0xff;\n      data[p + 3] = type.charCodeAt(3) & 0xff;\n      p += 4;\n\n      data.set(body, p);\n      p += body.length;\n\n      const crc = crc32(data, offset + 4, p);\n      data[p] = (crc >> 24) & 0xff;\n      data[p + 1] = (crc >> 16) & 0xff;\n      data[p + 2] = (crc >> 8) & 0xff;\n      data[p + 3] = crc & 0xff;\n    }\n\n    function adler32(data, start, end) {\n      let a = 1;\n      let b = 0;\n      for (let i = start; i < end; ++i) {\n        a = (a + (data[i] & 0xff)) % 65521;\n        b = (b + a) % 65521;\n      }\n      return (b << 16) | a;\n    }\n\n    /**\n     * @param {Uint8Array} literals The input data.\n     * @returns {Uint8Array} The DEFLATE-compressed data stream in zlib format.\n     *   This is the required format for compressed streams in the PNG format:\n     *   http://www.libpng.org/pub/png/spec/1.2/PNG-Compression.html\n     */\n    function deflateSync(literals) {\n      if (!isNodeJS) {\n        // zlib is certainly not available outside of Node.js. We can either use\n        // the pako library for client-side DEFLATE compression, or use the\n        // canvas API of the browser to obtain a more optimal PNG file.\n        return deflateSyncUncompressed(literals);\n      }\n      try {\n        // NOTE: This implementation is far from perfect, but already way better\n        // than not applying any compression.\n        //\n        // A better algorithm will try to choose a good predictor/filter and\n        // then choose a suitable zlib compression strategy (e.g. 3,Z_RLE).\n        //\n        // Node v0.11.12 zlib.deflateSync is introduced (and returns a Buffer).\n        // Node v3.0.0   Buffer inherits from Uint8Array.\n        // Node v8.0.0   zlib.deflateSync accepts Uint8Array as input.\n        let input;\n        // eslint-disable-next-line no-undef\n        if (parseInt(process.versions.node) >= 8) {\n          input = literals;\n        } else {\n          // eslint-disable-next-line no-undef\n          input = Buffer.from(literals);\n        }\n        const output = __non_webpack_require__(\"zlib\").deflateSync(input, {\n          level: 9,\n        });\n        return output instanceof Uint8Array ? output : new Uint8Array(output);\n      } catch (e) {\n        warn(\n          \"Not compressing PNG because zlib.deflateSync is unavailable: \" + e\n        );\n      }\n\n      return deflateSyncUncompressed(literals);\n    }\n\n    // An implementation of DEFLATE with compression level 0 (Z_NO_COMPRESSION).\n    function deflateSyncUncompressed(literals) {\n      let len = literals.length;\n      const maxBlockLength = 0xffff;\n\n      const deflateBlocks = Math.ceil(len / maxBlockLength);\n      const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n      let pi = 0;\n      idat[pi++] = 0x78; // compression method and flags\n      idat[pi++] = 0x9c; // flags\n\n      let pos = 0;\n      while (len > maxBlockLength) {\n        // writing non-final DEFLATE blocks type 0 and length of 65535\n        idat[pi++] = 0x00;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0x00;\n        idat[pi++] = 0x00;\n        idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n        pi += maxBlockLength;\n        pos += maxBlockLength;\n        len -= maxBlockLength;\n      }\n\n      // writing non-final DEFLATE blocks type 0\n      idat[pi++] = 0x01;\n      idat[pi++] = len & 0xff;\n      idat[pi++] = (len >> 8) & 0xff;\n      idat[pi++] = ~len & 0xffff & 0xff;\n      idat[pi++] = ((~len & 0xffff) >> 8) & 0xff;\n      idat.set(literals.subarray(pos), pi);\n      pi += literals.length - pos;\n\n      const adler = adler32(literals, 0, literals.length); // checksum\n      idat[pi++] = (adler >> 24) & 0xff;\n      idat[pi++] = (adler >> 16) & 0xff;\n      idat[pi++] = (adler >> 8) & 0xff;\n      idat[pi++] = adler & 0xff;\n      return idat;\n    }\n\n    function encode(imgData, kind, forceDataSchema, isMask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      let bitDepth, colorType, lineSize;\n      const bytes = imgData.data;\n\n      switch (kind) {\n        case ImageKind.GRAYSCALE_1BPP:\n          colorType = 0;\n          bitDepth = 1;\n          lineSize = (width + 7) >> 3;\n          break;\n        case ImageKind.RGB_24BPP:\n          colorType = 2;\n          bitDepth = 8;\n          lineSize = width * 3;\n          break;\n        case ImageKind.RGBA_32BPP:\n          colorType = 6;\n          bitDepth = 8;\n          lineSize = width * 4;\n          break;\n        default:\n          throw new Error(\"invalid format\");\n      }\n\n      // prefix every row with predictor 0\n      const literals = new Uint8Array((1 + lineSize) * height);\n      let offsetLiterals = 0,\n        offsetBytes = 0;\n      for (let y = 0; y < height; ++y) {\n        literals[offsetLiterals++] = 0; // no prediction\n        literals.set(\n          bytes.subarray(offsetBytes, offsetBytes + lineSize),\n          offsetLiterals\n        );\n        offsetBytes += lineSize;\n        offsetLiterals += lineSize;\n      }\n\n      if (kind === ImageKind.GRAYSCALE_1BPP && isMask) {\n        // inverting for image masks\n        offsetLiterals = 0;\n        for (let y = 0; y < height; y++) {\n          offsetLiterals++; // skipping predictor\n          for (let i = 0; i < lineSize; i++) {\n            literals[offsetLiterals++] ^= 0xff;\n          }\n        }\n      }\n\n      const ihdr = new Uint8Array([\n        (width >> 24) & 0xff,\n        (width >> 16) & 0xff,\n        (width >> 8) & 0xff,\n        width & 0xff,\n        (height >> 24) & 0xff,\n        (height >> 16) & 0xff,\n        (height >> 8) & 0xff,\n        height & 0xff,\n        bitDepth, // bit depth\n        colorType, // color type\n        0x00, // compression method\n        0x00, // filter method\n        0x00, // interlace method\n      ]);\n      const idat = deflateSync(literals);\n\n      // PNG consists of: header, IHDR+data, IDAT+data, and IEND.\n      const pngLength =\n        PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n      const data = new Uint8Array(pngLength);\n      let offset = 0;\n      data.set(PNG_HEADER, offset);\n      offset += PNG_HEADER.length;\n      writePngChunk(\"IHDR\", ihdr, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n      writePngChunk(\"IDATA\", idat, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + idat.length;\n      writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n\n      return createObjectURL(data, \"image/png\", forceDataSchema);\n    }\n\n    // eslint-disable-next-line no-shadow\n    return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n      const kind =\n        imgData.kind === undefined ? ImageKind.GRAYSCALE_1BPP : imgData.kind;\n      return encode(imgData, kind, forceDataSchema, isMask);\n    };\n  })();\n\n  class SVGExtraState {\n    constructor() {\n      this.fontSizeScale = 1;\n      this.fontWeight = SVG_DEFAULTS.fontWeight;\n      this.fontSize = 0;\n\n      this.textMatrix = IDENTITY_MATRIX;\n      this.fontMatrix = FONT_IDENTITY_MATRIX;\n      this.leading = 0;\n      this.textRenderingMode = TextRenderingMode.FILL;\n      this.textMatrixScale = 1;\n\n      // Current point (in user coordinates)\n      this.x = 0;\n      this.y = 0;\n\n      // Start of text line (in text coordinates)\n      this.lineX = 0;\n      this.lineY = 0;\n\n      // Character and word spacing\n      this.charSpacing = 0;\n      this.wordSpacing = 0;\n      this.textHScale = 1;\n      this.textRise = 0;\n\n      // Default foreground and background colors\n      this.fillColor = SVG_DEFAULTS.fillColor;\n      this.strokeColor = \"#000000\";\n\n      this.fillAlpha = 1;\n      this.strokeAlpha = 1;\n      this.lineWidth = 1;\n      this.lineJoin = \"\";\n      this.lineCap = \"\";\n      this.miterLimit = 0;\n\n      this.dashArray = [];\n      this.dashPhase = 0;\n\n      this.dependencies = [];\n\n      // Clipping\n      this.activeClipUrl = null;\n      this.clipGroup = null;\n\n      this.maskId = \"\";\n    }\n\n    clone() {\n      return Object.create(this);\n    }\n\n    setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  }\n\n  // eslint-disable-next-line no-inner-declarations\n  function opListToTree(opList) {\n    let opTree = [];\n    const tmp = [];\n\n    for (const opListElement of opList) {\n      if (opListElement.fn === \"save\") {\n        opTree.push({ fnId: 92, fn: \"group\", items: [] });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opListElement.fn === \"restore\") {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opListElement);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Format a float number as a string.\n   *\n   * @param value {number} - The float number to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pf(value) {\n    if (Number.isInteger(value)) {\n      return value.toString();\n    }\n    const s = value.toFixed(10);\n    let i = s.length - 1;\n    if (s[i] !== \"0\") {\n      return s;\n    }\n\n    // Remove trailing zeros.\n    do {\n      i--;\n    } while (s[i] === \"0\");\n    return s.substring(0, s[i] === \".\" ? i : i + 1);\n  }\n\n  /**\n   * Format a transform matrix as a string. The standard rotation, scale and\n   * translation matrices are replaced by their shorter forms, and for\n   * identity matrices an empty string is returned to save memory.\n   *\n   * @param m {Array} - The transform matrix to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return \"\";\n        }\n        return `scale(${pf(m[0])} ${pf(m[3])})`;\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        const a = (Math.acos(m[0]) * 180) / Math.PI;\n        return `rotate(${pf(a)})`;\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return `translate(${pf(m[4])} ${pf(m[5])})`;\n      }\n    }\n    return (\n      `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` +\n      `${pf(m[5])})`\n    );\n  }\n\n  // The counts below are relevant for all pages, so they have to be global\n  // instead of being members of `SVGGraphics` (which is recreated for\n  // each page).\n  let clipCount = 0;\n  let maskCount = 0;\n  let shadingCount = 0;\n\n  // eslint-disable-next-line no-shadow\n  SVGGraphics = class SVGGraphics {\n    constructor(commonObjs, objs, forceDataSchema = false) {\n      this.svgFactory = new DOMSVGFactory();\n\n      this.current = new SVGExtraState();\n      this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n      this.transformStack = [];\n      this.extraStack = [];\n      this.commonObjs = commonObjs;\n      this.objs = objs;\n      this.pendingClip = null;\n      this.pendingEOFill = false;\n\n      this.embedFonts = false;\n      this.embeddedFonts = Object.create(null);\n      this.cssStyle = null;\n      this.forceDataSchema = !!forceDataSchema;\n\n      // In `src/shared/util.js` the operator names are mapped to IDs.\n      // The list below represents the reverse of that, i.e., it maps IDs\n      // to operator names.\n      this._operatorIdMapping = [];\n      for (const op in OPS) {\n        this._operatorIdMapping[OPS[op]] = op;\n      }\n    }\n\n    save() {\n      this.transformStack.push(this.transformMatrix);\n      const old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    }\n\n    restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n      this.pendingClip = null;\n      this.tgrp = null;\n    }\n\n    group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    }\n\n    loadDependencies(operatorList) {\n      const fnArray = operatorList.fnArray;\n      const argsArray = operatorList.argsArray;\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        if (fnArray[i] !== OPS.dependency) {\n          continue;\n        }\n\n        for (const obj of argsArray[i]) {\n          const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n          const promise = new Promise(resolve => {\n            objsPool.get(obj, resolve);\n          });\n          this.current.dependencies.push(promise);\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    }\n\n    transform(a, b, c, d, e, f) {\n      const transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = Util.transform(\n        this.transformMatrix,\n        transformMatrix\n      );\n      this.tgrp = null;\n    }\n\n    getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      const svgElement = this._initialize(viewport);\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = IDENTITY_MATRIX;\n        this.executeOpTree(this.convertOpList(operatorList));\n        return svgElement;\n      });\n    }\n\n    convertOpList(operatorList) {\n      const operatorIdMapping = this._operatorIdMapping;\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      const opList = [];\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        const fnId = fnArray[i];\n        opList.push({\n          fnId,\n          fn: operatorIdMapping[fnId],\n          args: argsArray[i],\n        });\n      }\n      return opListToTree(opList);\n    }\n\n    executeOpTree(opTree) {\n      for (const opTreeElement of opTree) {\n        const fn = opTreeElement.fn;\n        const fnId = opTreeElement.fnId;\n        const args = opTreeElement.args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.dependency:\n            // Handled in `loadDependencies`, so no warning should be shown.\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.setTextRise:\n            this.setTextRise(args[0]);\n            break;\n          case OPS.setTextRenderingMode:\n            this.setTextRenderingMode(args[0]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeColorN:\n            this.setStrokeColorN(args);\n            break;\n          case OPS.setFillColorN:\n            this.setFillColorN(args);\n            break;\n          case OPS.shadingFill:\n            this.shadingFill(args[0]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setRenderingIntent:\n            this.setRenderingIntent(args[0]);\n            break;\n          case OPS.setFlatness:\n            this.setFlatness(args[0]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip(\"nonzero\");\n            break;\n          case OPS.eoClip:\n            this.clip(\"evenodd\");\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.closeEOFillStroke:\n            this.closeEOFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTreeElement.items);\n            break;\n          default:\n            warn(`Unimplemented operator ${fn}`);\n            break;\n        }\n      }\n    }\n\n    setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    }\n\n    setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    }\n\n    nextLine() {\n      this.moveText(0, this.current.leading);\n    }\n\n    setTextMatrix(a, b, c, d, e, f) {\n      const current = this.current;\n      current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n      current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtElement.appendChild(current.tspan);\n    }\n\n    beginText() {\n      const current = this.current;\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.textMatrix = IDENTITY_MATRIX;\n      current.lineMatrix = IDENTITY_MATRIX;\n      current.textMatrixScale = 1;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    moveText(x, y) {\n      const current = this.current;\n      current.x = current.lineX += x;\n      current.y = current.lineY += y;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    }\n\n    showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      const fontSizeScale = current.fontSizeScale;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const vertical = font.vertical;\n      const spacingDir = vertical ? 1 : -1;\n      const defaultVMetrics = font.defaultVMetrics;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      let x = 0;\n      for (const glyph of glyphs) {\n        if (glyph === null) {\n          // Word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += (spacingDir * glyph * fontSize) / 1000;\n          continue;\n        }\n\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const character = glyph.fontChar;\n        let scaledX, scaledY;\n        let width = glyph.width;\n        if (vertical) {\n          let vx;\n          const vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          const vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (glyph.isInFont || font.missingFile) {\n          current.xcoords.push(current.x + scaledX);\n          if (vertical) {\n            current.ycoords.push(-current.y + scaledY);\n          }\n          current.tspan.textContent += character;\n        } else {\n          // TODO: To assist with text selection, we should replace the missing\n          // character with a space character if charWidth is not zero.\n          // But we cannot just do \"character = ' '\", because the ' ' character\n          // might actually map to a different glyph.\n        }\n\n        let charWidth;\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n\n        x += charWidth;\n      }\n      current.tspan.setAttributeNS(\n        null,\n        \"x\",\n        current.xcoords.map(pf).join(\" \")\n      );\n      if (vertical) {\n        current.tspan.setAttributeNS(\n          null,\n          \"y\",\n          current.ycoords.map(pf).join(\" \")\n        );\n      } else {\n        current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      }\n\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n      }\n\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n          current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n        }\n        if (current.fillAlpha < 1) {\n          current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        }\n      } else if (current.textRenderingMode === TextRenderingMode.ADD_TO_PATH) {\n        // Workaround for Firefox: We must set fill=\"transparent\" because\n        // fill=\"none\" would generate an empty clipping path.\n        current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n      } else {\n        current.tspan.setAttributeNS(null, \"fill\", \"none\");\n      }\n\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        const lineWidthScale = 1 / (current.textMatrixScale || 1);\n        this._setStrokeAttributes(current.tspan, lineWidthScale);\n      }\n\n      // Include the text rise in the text matrix since the `pm` function\n      // creates the SVG element's `translate` entry (work on a copy to avoid\n      // altering the original text matrix).\n      let textMatrix = current.textMatrix;\n      if (current.textRise !== 0) {\n        textMatrix = textMatrix.slice();\n        textMatrix[5] += current.textRise;\n      }\n\n      current.txtElement.setAttributeNS(\n        null,\n        \"transform\",\n        `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`\n      );\n      current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    }\n\n    setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    }\n\n    addFontStyle(fontObj) {\n      if (!fontObj.data) {\n        throw new Error(\n          \"addFontStyle: No font data available, \" +\n            'ensure that the \"fontExtraProperties\" API parameter is set.'\n        );\n      }\n      if (!this.cssStyle) {\n        this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n        this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      const url = createObjectURL(\n        fontObj.data,\n        fontObj.mimetype,\n        this.forceDataSchema\n      );\n      this.cssStyle.textContent +=\n        `@font-face { font-family: \"${fontObj.loadedName}\";` +\n        ` src: url(${url}); }\\n`;\n    }\n\n    setFont(details) {\n      const current = this.current;\n      const fontObj = this.commonObjs.get(details[0]);\n      let size = details[1];\n      current.font = fontObj;\n\n      if (\n        this.embedFonts &&\n        !fontObj.missingFile &&\n        !this.embeddedFonts[fontObj.loadedName]\n      ) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n\n      current.fontMatrix = fontObj.fontMatrix\n        ? fontObj.fontMatrix\n        : FONT_IDENTITY_MATRIX;\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    endText() {\n      const current = this.current;\n      if (\n        current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG &&\n        current.txtElement &&\n        current.txtElement.hasChildNodes()\n      ) {\n        // If no glyphs are shown (i.e. no child nodes), no clipping occurs.\n        current.element = current.txtElement;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    // Path properties\n    setLineWidth(width) {\n      if (width > 0) {\n        this.current.lineWidth = width;\n      }\n    }\n\n    setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    }\n\n    setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    }\n\n    setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    }\n\n    setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    }\n\n    setStrokeRGBColor(r, g, b) {\n      this.current.strokeColor = Util.makeCssRgb(r, g, b);\n    }\n\n    setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    }\n\n    setFillRGBColor(r, g, b) {\n      this.current.fillColor = Util.makeCssRgb(r, g, b);\n      this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      this.current.xcoords = [];\n      this.current.ycoords = [];\n    }\n\n    setStrokeColorN(args) {\n      this.current.strokeColor = this._makeColorN_Pattern(args);\n    }\n\n    setFillColorN(args) {\n      this.current.fillColor = this._makeColorN_Pattern(args);\n    }\n\n    shadingFill(args) {\n      const width = this.viewport.width;\n      const height = this.viewport.height;\n      const inv = Util.inverseTransform(this.transformMatrix);\n      const bl = Util.applyTransform([0, 0], inv);\n      const br = Util.applyTransform([0, height], inv);\n      const ul = Util.applyTransform([width, 0], inv);\n      const ur = Util.applyTransform([width, height], inv);\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", x0);\n      rect.setAttributeNS(null, \"y\", y0);\n      rect.setAttributeNS(null, \"width\", x1 - x0);\n      rect.setAttributeNS(null, \"height\", y1 - y0);\n      rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n      if (this.current.fillAlpha < 1) {\n        rect.setAttributeNS(null, \"fill-opacity\", this.current.fillAlpha);\n      }\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    /**\n     * @private\n     */\n    _makeColorN_Pattern(args) {\n      if (args[0] === \"TilingPattern\") {\n        return this._makeTilingPattern(args);\n      }\n      return this._makeShadingPattern(args);\n    }\n\n    /**\n     * @private\n     */\n    _makeTilingPattern(args) {\n      const color = args[1];\n      const operatorList = args[2];\n      const matrix = args[3] || IDENTITY_MATRIX;\n      const [x0, y0, x1, y1] = args[4];\n      const xstep = args[5];\n      const ystep = args[6];\n      const paintType = args[7];\n\n      const tilingId = `shading${shadingCount++}`;\n      const [tx0, ty0] = Util.applyTransform([x0, y0], matrix);\n      const [tx1, ty1] = Util.applyTransform([x1, y1], matrix);\n      const [xscale, yscale] = Util.singularValueDecompose2dScale(matrix);\n      const txstep = xstep * xscale;\n      const tystep = ystep * yscale;\n\n      const tiling = this.svgFactory.createElement(\"svg:pattern\");\n      tiling.setAttributeNS(null, \"id\", tilingId);\n      tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n      tiling.setAttributeNS(null, \"width\", txstep);\n      tiling.setAttributeNS(null, \"height\", tystep);\n      tiling.setAttributeNS(null, \"x\", `${tx0}`);\n      tiling.setAttributeNS(null, \"y\", `${ty0}`);\n\n      // Save current state.\n      const svg = this.svg;\n      const transformMatrix = this.transformMatrix;\n      const fillColor = this.current.fillColor;\n      const strokeColor = this.current.strokeColor;\n\n      const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n      this.svg = bbox;\n      this.transformMatrix = matrix;\n      if (paintType === 2) {\n        const cssColor = Util.makeCssRgb(...color);\n        this.current.fillColor = cssColor;\n        this.current.strokeColor = cssColor;\n      }\n      this.executeOpTree(this.convertOpList(operatorList));\n\n      // Restore saved state.\n      this.svg = svg;\n      this.transformMatrix = transformMatrix;\n      this.current.fillColor = fillColor;\n      this.current.strokeColor = strokeColor;\n\n      tiling.appendChild(bbox.childNodes[0]);\n      this.defs.appendChild(tiling);\n      return `url(#${tilingId})`;\n    }\n\n    /**\n     * @private\n     */\n    _makeShadingPattern(args) {\n      switch (args[0]) {\n        case \"RadialAxial\":\n          const shadingId = `shading${shadingCount++}`;\n          const colorStops = args[3];\n          let gradient;\n\n          switch (args[1]) {\n            case \"axial\":\n              const point0 = args[4];\n              const point1 = args[5];\n              gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"x1\", point0[0]);\n              gradient.setAttributeNS(null, \"y1\", point0[1]);\n              gradient.setAttributeNS(null, \"x2\", point1[0]);\n              gradient.setAttributeNS(null, \"y2\", point1[1]);\n              break;\n            case \"radial\":\n              const focalPoint = args[4];\n              const circlePoint = args[5];\n              const focalRadius = args[6];\n              const circleRadius = args[7];\n              gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n              gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n              gradient.setAttributeNS(null, \"r\", circleRadius);\n              gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n              gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n              gradient.setAttributeNS(null, \"fr\", focalRadius);\n              break;\n            default:\n              throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n          }\n          for (const colorStop of colorStops) {\n            const stop = this.svgFactory.createElement(\"svg:stop\");\n            stop.setAttributeNS(null, \"offset\", colorStop[0]);\n            stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n            gradient.appendChild(stop);\n          }\n          this.defs.appendChild(gradient);\n          return `url(#${shadingId})`;\n        case \"Mesh\":\n          warn(\"Unimplemented pattern Mesh\");\n          return null;\n        case \"Dummy\":\n          return \"hotpink\";\n        default:\n          throw new Error(`Unknown IR type: ${args[0]}`);\n      }\n    }\n\n    setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    }\n\n    constructPath(ops, args) {\n      const current = this.current;\n      let x = current.x,\n        y = current.y;\n      let d = [];\n      let j = 0;\n\n      for (const op of ops) {\n        switch (op | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n            const xw = x + width;\n            const yh = y + height;\n            d.push(\n              \"M\",\n              pf(x),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(yh),\n              \"L\",\n              pf(x),\n              pf(yh),\n              \"Z\"\n            );\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"M\", pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"L\", pf(x), pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3]),\n              pf(x),\n              pf(y)\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            d.push(\n              \"C\",\n              pf(x),\n              pf(y),\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3])\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(x),\n              pf(y),\n              pf(x),\n              pf(y)\n            );\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push(\"Z\");\n            break;\n        }\n      }\n\n      d = d.join(\" \");\n\n      if (\n        current.path &&\n        ops.length > 0 &&\n        ops[0] !== OPS.rectangle &&\n        ops[0] !== OPS.moveTo\n      ) {\n        // If a path does not start with an OPS.rectangle or OPS.moveTo, it has\n        // probably been divided into two OPS.constructPath operators by\n        // OperatorList. Append the commands to the previous path element.\n        d = current.path.getAttributeNS(null, \"d\") + d;\n      } else {\n        current.path = this.svgFactory.createElement(\"svg:path\");\n        this._ensureTransformGroup().appendChild(current.path);\n      }\n\n      current.path.setAttributeNS(null, \"d\", d);\n      current.path.setAttributeNS(null, \"fill\", \"none\");\n\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    }\n\n    endPath() {\n      const current = this.current;\n\n      // Painting operators end a path.\n      current.path = null;\n\n      if (!this.pendingClip) {\n        return;\n      }\n      if (!current.element) {\n        this.pendingClip = null;\n        return;\n      }\n\n      // Add the current path to a clipping path.\n      const clipId = `clippath${clipCount++}`;\n      const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n      clipPath.setAttributeNS(null, \"id\", clipId);\n      clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n\n      // A deep clone is needed when text is used as a clipping path.\n      const clipElement = current.element.cloneNode(true);\n      if (this.pendingClip === \"evenodd\") {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n      } else {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n      }\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        // The previous clipping group content can go out of order -- resetting\n        // cached clipGroups.\n        current.clipGroup = null;\n        this.extraStack.forEach(function (prev) {\n          prev.clipGroup = null;\n        });\n        // Intersect with the previous clipping path.\n        clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n      }\n      current.activeClipUrl = `url(#${clipId})`;\n\n      this.tgrp = null;\n    }\n\n    clip(type) {\n      this.pendingClip = type;\n    }\n\n    closePath() {\n      const current = this.current;\n      if (current.path) {\n        const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n        current.path.setAttributeNS(null, \"d\", d);\n      }\n    }\n\n    setLeading(leading) {\n      this.current.leading = -leading;\n    }\n\n    setTextRise(textRise) {\n      this.current.textRise = textRise;\n    }\n\n    setTextRenderingMode(textRenderingMode) {\n      this.current.textRenderingMode = textRenderingMode;\n    }\n\n    setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    }\n\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setGState(states) {\n      for (const [key, value] of states) {\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value);\n            break;\n          case \"CA\":\n            this.setStrokeAlpha(value);\n            break;\n          case \"ca\":\n            this.setFillAlpha(value);\n            break;\n          default:\n            warn(`Unimplemented graphic state operator ${key}`);\n            break;\n        }\n      }\n    }\n\n    fill() {\n      const current = this.current;\n      if (current.element) {\n        current.element.setAttributeNS(null, \"fill\", current.fillColor);\n        current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        this.endPath();\n      }\n    }\n\n    stroke() {\n      const current = this.current;\n      if (current.element) {\n        this._setStrokeAttributes(current.element);\n        current.element.setAttributeNS(null, \"fill\", \"none\");\n        this.endPath();\n      }\n    }\n\n    /**\n     * @private\n     */\n    _setStrokeAttributes(element, lineWidthScale = 1) {\n      const current = this.current;\n      let dashArray = current.dashArray;\n      if (lineWidthScale !== 1 && dashArray.length > 0) {\n        dashArray = dashArray.map(function (value) {\n          return lineWidthScale * value;\n        });\n      }\n      element.setAttributeNS(null, \"stroke\", current.strokeColor);\n      element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n      element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n      element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n      element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n      element.setAttributeNS(\n        null,\n        \"stroke-width\",\n        pf(lineWidthScale * current.lineWidth) + \"px\"\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dasharray\",\n        dashArray.map(pf).join(\" \")\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dashoffset\",\n        pf(lineWidthScale * current.dashPhase) + \"px\"\n      );\n    }\n\n    eoFill() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fill();\n    }\n\n    fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    }\n\n    eoFillStroke() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fillStroke();\n    }\n\n    closeStroke() {\n      this.closePath();\n      this.stroke();\n    }\n\n    closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    }\n\n    closeEOFillStroke() {\n      this.closePath();\n      this.eoFillStroke();\n    }\n\n    paintSolidColorImageMask() {\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", \"1px\");\n      rect.setAttributeNS(null, \"height\", \"1px\");\n      rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    paintImageXObject(objId) {\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(`Dependent image with object ID ${objId} is not ready yet`);\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    }\n\n    paintInlineImageXObject(imgData, mask) {\n      const width = imgData.width;\n      const height = imgData.height;\n\n      const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n      const cliprect = this.svgFactory.createElement(\"svg:rect\");\n      cliprect.setAttributeNS(null, \"x\", \"0\");\n      cliprect.setAttributeNS(null, \"y\", \"0\");\n      cliprect.setAttributeNS(null, \"width\", pf(width));\n      cliprect.setAttributeNS(null, \"height\", pf(height));\n      this.current.element = cliprect;\n      this.clip(\"nonzero\");\n\n      const imgEl = this.svgFactory.createElement(\"svg:image\");\n      imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n      imgEl.setAttributeNS(null, \"x\", \"0\");\n      imgEl.setAttributeNS(null, \"y\", pf(-height));\n      imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n      imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n      imgEl.setAttributeNS(\n        null,\n        \"transform\",\n        `scale(${pf(1 / width)} ${pf(-1 / height)})`\n      );\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    }\n\n    paintImageMaskXObject(imgData) {\n      const current = this.current;\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = current.fillColor;\n\n      current.maskId = `mask${maskCount++}`;\n      const mask = this.svgFactory.createElement(\"svg:mask\");\n      mask.setAttributeNS(null, \"id\", current.maskId);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", pf(width));\n      rect.setAttributeNS(null, \"height\", pf(height));\n      rect.setAttributeNS(null, \"fill\", fillColor);\n      rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n\n      this.defs.appendChild(mask);\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    }\n\n    paintFormXObjectBegin(matrix, bbox) {\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform(\n          matrix[0],\n          matrix[1],\n          matrix[2],\n          matrix[3],\n          matrix[4],\n          matrix[5]\n        );\n      }\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n\n        const cliprect = this.svgFactory.createElement(\"svg:rect\");\n        cliprect.setAttributeNS(null, \"x\", bbox[0]);\n        cliprect.setAttributeNS(null, \"y\", bbox[1]);\n        cliprect.setAttributeNS(null, \"width\", pf(width));\n        cliprect.setAttributeNS(null, \"height\", pf(height));\n        this.current.element = cliprect;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    paintFormXObjectEnd() {}\n\n    /**\n     * @private\n     */\n    _initialize(viewport) {\n      const svg = this.svgFactory.create(viewport.width, viewport.height);\n\n      // Create the definitions element.\n      const definitions = this.svgFactory.createElement(\"svg:defs\");\n      svg.appendChild(definitions);\n      this.defs = definitions;\n\n      // Create the root group element, which acts a container for all other\n      // groups and applies the viewport transform.\n      const rootGroup = this.svgFactory.createElement(\"svg:g\");\n      rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n      svg.appendChild(rootGroup);\n\n      // For the construction of the SVG image we are only interested in the\n      // root group, so we expose it as the entry point of the SVG image for\n      // the other code in this class.\n      this.svg = rootGroup;\n\n      return svg;\n    }\n\n    /**\n     * @private\n     */\n    _ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        const clipGroup = this.svgFactory.createElement(\"svg:g\");\n        clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n      return this.current.clipGroup;\n    }\n\n    /**\n     * @private\n     */\n    _ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = this.svgFactory.createElement(\"svg:g\");\n        this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n      return this.tgrp;\n    }\n  };\n}\n\nexport { SVGGraphics };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n} from \"../shared/util.js\";\nimport {\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst fs = __non_webpack_require__(\"fs\");\nconst http = __non_webpack_require__(\"http\");\nconst https = __non_webpack_require__(\"https\");\nconst url = __non_webpack_require__(\"url\");\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  // Prepending 'file:///' to Windows absolute path.\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  // Changes protocol to 'file:' if url refers to filesystem.\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp =\n      this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    // Check if url refers to filesystem.\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader ? this._fullRequestReader._loaded : 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNodeStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = this.isFsUrl\n      ? new PDFNodeStreamFsFullReader(this)\n      : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl\n      ? new PDFNodeStreamFsRangeReader(this, start, end)\n      : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n    this._filename = null;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    this._headersCapability = createPromiseCapability();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers,\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n\n      const getResponseHeader = name => {\n        // Make sure that headers name are in lower case, as mentioned\n        // here: https://nodejs.org/api/http.html#http_message_headers.\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n      const {\n        allowRangeRequests,\n        suggestedLength,\n      } = validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n      this._isRangeSupported = allowRangeRequests;\n      // Setting right content length.\n      this._contentLength = suggestedLength || this._contentLength;\n\n      this._filename = extractFilenameFromHeader(getResponseHeader);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    // Note: `request.end(data)` is used to write `data` to request body\n    // and notify end of request. But one should always call `request.end()`\n    // even if there is no data to write -- (to notify the end of request).\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      // Setting right content length.\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    });\n  }\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    this._setReadableStream(fs.createReadStream(path, { start, end: end - 1 }));\n  }\n}\n\nexport { PDFNodeStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  MissingPDFException,\n  UnexpectedResponseException,\n} from \"../shared/util.js\";\nimport { getFilenameFromContentDispositionHeader } from \"./content_disposition.js\";\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange,\n}) {\n  assert(rangeChunkSize > 0, \"Range chunk size must be larger than zero\");\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch (ex) {}\n    }\n    if (/\\.pdf$/i.test(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || (status === 0 && url.startsWith(\"file:\"))) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(\n    \"Unexpected server response (\" +\n      status +\n      ') while retrieving PDF \"' +\n      url +\n      '\".',\n    status\n  );\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This getFilenameFromContentDispositionHeader function is adapted from\n// https://github.com/Rob--W/open-in-browser/blob/7e2e35a38b8b4e981b11da7b2f01df0149049e92/extension/content-disposition.js\n// with the following changes:\n// - Modified to conform to PDF.js's coding style.\n// - Support UTF-8 decoding when TextDecoder is unsupported.\n// - Move return to the end of the function to prevent Babel from dropping the\n//   function declarations.\n\n/**\n * Extract file name from the Content-Disposition HTTP response header.\n *\n * @param {string} contentDisposition\n * @returns {string} Filename, if found in the Content-Disposition header.\n */\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n\n  // filename*=ext-value (\"ext-value\" from RFC 5987, referenced by RFC 6266).\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // Continuations (RFC 2231 section 3, referenced by RFC 5987 section 3.1).\n  // filename*n*=part\n  // filename*n=part\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    // RFC 2047, section\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  // filename=value (RFC 5987, section 4.1).\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // After this line there are only function declarations. We cannot put\n  // \"return\" here for readability because babel would then drop the function\n  // declarations...\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\n      \"(?:^|;)\\\\s*\" +\n        attributePattern +\n        \"\\\\s*=\\\\s*\" +\n        // Captures: value = token | quoted-string\n        // (RFC 2616, section 3.6 and referenced by RFC 6266 4.1)\n        \"(\" +\n        '[^\";\\\\s][^;\\\\s]*' +\n        \"|\" +\n        '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' +\n        \")\",\n      flags\n    );\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const bytes = Array.from(value, function (ch) {\n          return ch.charCodeAt(0) & 0xff;\n        });\n        value = decoder.decode(new Uint8Array(bytes));\n        needsEncodingFixup = false;\n      } catch (e) {\n        // TextDecoder constructor threw - unrecognized encoding.\n        // Or TextDecoder API is not available (in IE / Edge).\n        if (/^utf-?8$/i.test(encoding)) {\n          // UTF-8 is commonly used, try to support it in another way:\n          try {\n            value = decodeURIComponent(escape(value));\n            needsEncodingFixup = false;\n          } catch (err) {}\n        }\n      }\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      // Maybe multi-byte UTF-8.\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        // Try iso-8859-1 encoding.\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    // Iterate over all filename*n= and filename*n*= with n being an integer\n    // of at least zero. Any non-zero number must not start with '0'.\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match; // eslint-disable-line prefer-const\n      n = parseInt(n, 10);\n      if (n in matches) {\n        // Ignore anything after the invalid second filename*0.\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        // Numbers must be consecutive. Truncate when there is a hole.\n        break;\n      }\n      let [quot, part] = matches[n]; // eslint-disable-line prefer-const\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      // Find the first unescaped \" and terminate there.\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1; // Truncates and stop the iteration.\n        }\n        parts[i] = parts[i].replace(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    // Decodes \"ext-value\" from RFC 5987.\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      // Some servers send \"filename*=\" without encoding 'language' prefix,\n      // e.g. in https://github.com/Rob--W/open-in-browser/issues/26\n      // Let's accept the value like Firefox (57) (Chrome 62 rejects it).\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    // Ignore language (RFC 5987 section 3.2.1, and RFC 6266 section 4.1 ).\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    // RFC 2047-decode the result. Firefox tried to drop support for it, but\n    // backed out because some servers use it - https://bugzil.la/875615\n    // Firefox's condition for decoding is here: https://searchfox.org/mozilla-central/rev/4a590a5a15e35d88a3b23dd6ac3c471cf85b04a8/netwerk/mime/nsMIMEHeaderParamImpl.cpp#742-748\n\n    // We are more strict and only recognize RFC 2047-encoding if the value\n    // starts with \"=?\", since then it is likely that the full value is\n    // RFC 2047-encoded.\n\n    // Firefox also decodes words even where RFC 2047 section 5 states:\n    // \"An 'encoded-word' MUST NOT appear within a 'quoted-string'.\"\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    // RFC 2047, section 2.4\n    // encoded-word = \"=?\" charset \"?\" encoding \"?\" encoded-text \"?=\"\n    // charset = token (but let's restrict to characters that denote a\n    //       possibly valid encoding).\n    // encoding = q or b\n    // encoded-text = any printable ASCII character other than ? or space.\n    //        ... but Firefox permits ? and space.\n    return value.replace(\n      /=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,\n      function (matches, charset, encoding, text) {\n        if (encoding === \"q\" || encoding === \"Q\") {\n          // RFC 2047 section 4.2.\n          text = text.replace(/_/g, \" \");\n          text = text.replace(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n            return String.fromCharCode(parseInt(hex, 16));\n          });\n          return textdecode(charset, text);\n        } // else encoding is b or B - base64 (RFC 2047 section 4.1)\n        try {\n          text = atob(text);\n        } catch (e) {}\n        return textdecode(charset, text);\n      }\n    );\n  }\n\n  return \"\";\n}\n\nexport { getFilenameFromContentDispositionHeader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  assert,\n  createPromiseCapability,\n  stringToBytes,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./network.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  const array = stringToBytes(data);\n  return array.buffer;\n}\n\nclass NetworkManager {\n  constructor(url, args) {\n    this.url = url;\n    args = args || {};\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = (this.isHttp && args.httpHeaders) || {};\n    this.withCredentials = args.withCredentials || false;\n    this.getXhr =\n      args.getXhr ||\n      function NetworkManager_getXhr() {\n        return new XMLHttpRequest();\n      };\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end,\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = this.getXhr();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = (this.pendingRequests[xhrId] = {\n      xhr,\n    });\n\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    if (pendingRequest.onProgress) {\n      pendingRequest.onProgress(evt);\n    }\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request.\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // Success status == 0 can be on ftp, file and other protocols.\n    if (xhr.status === 0 && this.isHttp) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    const ok_response_on_range_request =\n      xhrStatus === OK_RESPONSE &&\n      pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (\n      !ok_response_on_range_request &&\n      xhrStatus !== pendingRequest.expectedStatus\n    ) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk,\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else if (pendingRequest.onError) {\n      pendingRequest.onError(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\n\n/** @implements {IPDFStream} */\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials,\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNetworkStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(\n      this._manager,\n      this._source\n    );\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(\n      this._manager,\n      begin,\n      end\n    );\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length; // Optional\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n    const {\n      allowRangeRequests,\n      suggestedLength,\n    } = validateRangeRequestCapabilities({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange,\n    });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    this._filename = extractFilenameFromHeader(getResponseHeader);\n\n    if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range requests.\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  }\n\n  _onDone(args) {\n    if (args) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: args.chunk, done: false });\n      } else {\n        this._cachedChunks.push(args.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n  }\n\n  _onError(status) {\n    const url = this._url;\n    const exception = createResponseStatusError(status, url);\n    this._storedError = exception;\n    this._headersReceivedCapability.reject(exception);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.reject(exception);\n    });\n    this._requests = [];\n    this._cachedChunks = [];\n  }\n\n  _onProgress(data) {\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: data.loaded,\n        total: data.lengthComputable ? data.total : this._contentLength,\n      });\n    }\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    if (this.onClosed) {\n      this.onClosed(this);\n    }\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    this._close();\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported && this.onProgress) {\n      this.onProgress({\n        loaded: evt.loaded,\n      });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\nexport { PDFNetworkStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./fetch_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController && abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\",\n  };\n}\n\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (typeof value === \"undefined\") {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\n\n/** @implements {IPDFStream} */\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader ? this._fullRequestReader._loaded : 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFFetchStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._reader = response.body.getReader();\n        this._headersCapability.resolve();\n\n        const getResponseHeader = name => {\n          return response.headers.get(name);\n        };\n        const {\n          allowRangeRequests,\n          suggestedLength,\n        } = validateRangeRequestCapabilities({\n          getResponseHeader,\n          isHttp: this._stream.isHttp,\n          rangeChunkSize: this._rangeChunkSize,\n          disableRange: this._disableRange,\n        });\n\n        this._isRangeSupported = allowRangeRequests;\n        // Setting right content length.\n        this._contentLength = suggestedLength || this._contentLength;\n\n        this._filename = extractFilenameFromHeader(getResponseHeader);\n\n        // We need to stop reading when range is supported and streaming is\n        // disabled.\n        if (!this._isStreamingSupported && this._isRangeSupported) {\n          this.cancel(new AbortException(\"Streaming is disabled.\"));\n        }\n      })\n      .catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = createPromiseCapability();\n    this._isStreamingSupported = !source.disableStream;\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._readCapability.resolve();\n        this._reader = response.body.getReader();\n      })\n      .catch(reason => {\n        if (reason && reason.name === \"AbortError\") {\n          return;\n        }\n        throw reason;\n      });\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\nexport { PDFFetchStream };\n","// As defined on the list of supported events: https://reactjs.org/docs/events.html\nexport var clipboardEvents = ['onCopy', 'onCut', 'onPaste'];\nexport var compositionEvents = ['onCompositionEnd', 'onCompositionStart', 'onCompositionUpdate'];\nexport var keyboardEvents = ['onKeyDown', 'onKeyPress', 'onKeyUp'];\nexport var focusEvents = ['onFocus', 'onBlur'];\nexport var formEvents = ['onChange', 'onInput', 'onInvalid', 'onReset', 'onSubmit'];\nexport var genericEvents = ['onError', 'onLoad'];\nexport var mouseEvents = ['onClick', 'onContextMenu', 'onDoubleClick', 'onDrag', 'onDragEnd', 'onDragEnter', 'onDragExit', 'onDragLeave', 'onDragOver', 'onDragStart', 'onDrop', 'onMouseDown', 'onMouseEnter', 'onMouseLeave', 'onMouseMove', 'onMouseOut', 'onMouseOver', 'onMouseUp'];\nexport var pointerEvents = ['onPointerDown', 'onPointerMove', 'onPointerUp', 'onPointerCancel', 'onGotPointerCapture', 'onLostPointerCapture', 'onPointerEnter', 'onPointerLeave', 'onPointerOver', 'onPointerOut'];\nexport var selectionEvents = ['onSelect'];\nexport var touchEvents = ['onTouchCancel', 'onTouchEnd', 'onTouchMove', 'onTouchStart'];\nexport var uiEvents = ['onScroll'];\nexport var wheelEvents = ['onWheel'];\nexport var mediaEvents = ['onAbort', 'onCanPlay', 'onCanPlayThrough', 'onDurationChange', 'onEmptied', 'onEncrypted', 'onEnded', 'onError', 'onLoadedData', 'onLoadedMetadata', 'onLoadStart', 'onPause', 'onPlay', 'onPlaying', 'onProgress', 'onRateChange', 'onSeeked', 'onSeeking', 'onStalled', 'onSuspend', 'onTimeUpdate', 'onVolumeChange', 'onWaiting'];\nexport var imageEvents = ['onLoad', 'onError'];\nexport var animationEvents = ['onAnimationStart', 'onAnimationEnd', 'onAnimationIteration'];\nexport var transitionEvents = ['onTransitionEnd'];\nexport var otherEvents = ['onToggle'];\nexport var allEvents = [].concat(clipboardEvents, compositionEvents, keyboardEvents, focusEvents, formEvents, genericEvents, mouseEvents, pointerEvents, selectionEvents, touchEvents, uiEvents, wheelEvents, mediaEvents, imageEvents, animationEvents, transitionEvents, otherEvents);\n/**\n * Returns an object with on-event callback props curried with provided args.\n * @param {Object} props Props passed to a component.\n * @param {Function=} getArgs A function that returns argument(s) on-event callbacks\n *   shall be curried with.\n */\n\nvar makeEventProps = function makeEventProps(props, getArgs) {\n  var eventProps = {};\n  allEvents.forEach(function (eventName) {\n    if (!(eventName in props)) {\n      return;\n    }\n\n    if (!getArgs) {\n      eventProps[eventName] = props[eventName];\n      return;\n    }\n\n    eventProps[eventName] = function (event) {\n      return props[eventName](event, getArgs(eventName));\n    };\n  });\n  return eventProps;\n};\n\nexport default makeEventProps;","export default function makeCancellablePromise(promise) {\n  var isCancelled = false;\n  var wrappedPromise = new Promise(function (resolve, reject) {\n    promise.then(function () {\n      return !isCancelled && resolve.apply(void 0, arguments);\n    })[\"catch\"](function (error) {\n      return !isCancelled && reject(error);\n    });\n  });\n  return {\n    promise: wrappedPromise,\n    cancel: function cancel() {\n      isCancelled = true;\n    }\n  };\n}","export default function mergeClassNames() {\n  return Array.prototype.slice.call(arguments).reduce(function (classList, arg) {\n    return classList.concat(arg);\n  }, []).filter(function (arg) {\n    return typeof arg === 'string';\n  }).join(' ');\n}","import { createContext } from 'react';\nexport default /*#__PURE__*/createContext(null);","import React from 'react';\nimport PropTypes from 'prop-types';\nexport default function Message(_ref) {\n  var children = _ref.children,\n      type = _ref.type;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-pdf__message react-pdf__message--\".concat(type)\n  }, children);\n}\nMessage.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.oneOf(['error', 'loading', 'no-data']).isRequired\n};","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\n/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable class-methods-use-this, no-empty-function */\nvar SimpleLinkService = /*#__PURE__*/function () {\n  function SimpleLinkService() {\n    _classCallCheck(this, SimpleLinkService);\n\n    this.externalLinkTarget = null;\n    this.externalLinkRel = null;\n    this.externalLinkEnabled = true;\n  }\n\n  _createClass(SimpleLinkService, [{\n    key: \"setDocument\",\n    value: function setDocument(pdfDocument) {\n      this.pdfDocument = pdfDocument;\n    }\n  }, {\n    key: \"setViewer\",\n    value: function setViewer(pdfViewer) {\n      this.pdfViewer = pdfViewer;\n    }\n  }, {\n    key: \"setHistory\",\n    value: function setHistory() {}\n  }, {\n    key: \"goToDestination\",\n    value: function () {\n      var _goToDestination = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dest) {\n        var destRef, pageNumber, pageIndex;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                destRef = dest[0];\n\n                if (!(destRef instanceof Object)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.prev = 2;\n                _context.next = 5;\n                return this.pdfDocument.getPageIndex(destRef);\n\n              case 5:\n                pageIndex = _context.sent;\n                pageNumber = pageIndex + 1;\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n                throw new Error(\"\\\"\".concat(destRef, \"\\\" is not a valid destination reference.\"));\n\n              case 12:\n                _context.next = 19;\n                break;\n\n              case 14:\n                if (!(typeof destRef === 'number')) {\n                  _context.next = 18;\n                  break;\n                }\n\n                pageNumber = destRef + 1;\n                _context.next = 19;\n                break;\n\n              case 18:\n                throw new Error(\"\\\"\".concat(destRef, \"\\\" is not a valid destination reference.\"));\n\n              case 19:\n                if (!(!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount)) {\n                  _context.next = 21;\n                  break;\n                }\n\n                throw new Error(\"\\\"\".concat(pageNumber, \"\\\" is not a valid page number.\"));\n\n              case 21:\n                this.pdfViewer.scrollPageIntoView({\n                  pageNumber: pageNumber\n                });\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n\n      function goToDestination(_x) {\n        return _goToDestination.apply(this, arguments);\n      }\n\n      return goToDestination;\n    }()\n  }, {\n    key: \"navigateTo\",\n    value: function navigateTo(dest) {\n      this.goToDestination(dest);\n    }\n  }, {\n    key: \"goToPage\",\n    value: function goToPage() {}\n  }, {\n    key: \"getDestinationHash\",\n    value: function getDestinationHash() {\n      return '#';\n    }\n  }, {\n    key: \"getAnchorUrl\",\n    value: function getAnchorUrl() {\n      return '#';\n    }\n  }, {\n    key: \"setHash\",\n    value: function setHash() {}\n  }, {\n    key: \"executeNamedAction\",\n    value: function executeNamedAction() {}\n  }, {\n    key: \"cachePageRef\",\n    value: function cachePageRef() {}\n  }, {\n    key: \"isPageVisible\",\n    value: function isPageVisible() {\n      return true;\n    }\n  }, {\n    key: \"isPageCached\",\n    value: function isPageCached() {\n      return true;\n    }\n  }, {\n    key: \"pagesCount\",\n    get: function get() {\n      return this.pdfDocument ? this.pdfDocument.numPages : 0;\n    }\n  }, {\n    key: \"page\",\n    get: function get() {\n      return this.pdfViewer.currentPageNumber;\n    },\n    set: function set(value) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }, {\n    key: \"rotation\",\n    get: function get() {\n      return 0;\n    },\n    set: function set(value) {}\n  }]);\n\n  return SimpleLinkService;\n}();\n\nexport { SimpleLinkService as default };","// As defined in https://github.com/mozilla/pdf.js/blob/master/src/shared/util.js#L378-L381\nvar PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nexport default PasswordResponses;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/**\n * Checks if we're running in a browser environment.\n */\nexport var isBrowser = typeof window !== 'undefined';\n/**\n * Checks whether we're running from a local file system.\n */\n\nexport var isLocalFileSystem = isBrowser && window.location.protocol === 'file:';\n/**\n * Checks whether we're running on a production build or not.\n */\n\nexport var isProduction = process.env.NODE_ENV === 'production';\n/**\n * Checks whether a variable is defined.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isDefined(variable) {\n  return typeof variable !== 'undefined';\n}\n/**\n * Checks whether a variable is defined and not null.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isProvided(variable) {\n  return isDefined(variable) && variable !== null;\n}\n/**\n * Checkes whether a variable provided is a string.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isString(variable) {\n  return typeof variable === 'string';\n}\n/**\n * Checks whether a variable provided is an ArrayBuffer.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isArrayBuffer(variable) {\n  return variable instanceof ArrayBuffer;\n}\n/**\n * Checkes whether a variable provided is a Blob.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isBlob(variable) {\n  if (!isBrowser) {\n    throw new Error('Attempted to check if a variable is a Blob on a non-browser environment.');\n  }\n\n  return variable instanceof Blob;\n}\n/**\n * Checkes whether a variable provided is a File.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isFile(variable) {\n  if (!isBrowser) {\n    throw new Error('Attempted to check if a variable is a File on a non-browser environment.');\n  }\n\n  return variable instanceof File;\n}\n/**\n * Checks whether a string provided is a data URI.\n *\n * @param {string} str String to check\n */\n\nexport function isDataURI(str) {\n  return isString(str) && /^data:/.test(str);\n}\nexport function dataURItoByteString(dataURI) {\n  if (!isDataURI(dataURI)) {\n    throw new Error('Invalid data URI.');\n  }\n\n  var _dataURI$split = dataURI.split(','),\n      _dataURI$split2 = _slicedToArray(_dataURI$split, 2),\n      headersString = _dataURI$split2[0],\n      dataString = _dataURI$split2[1];\n\n  var headers = headersString.split(';');\n\n  if (headers.indexOf('base64') !== -1) {\n    return atob(dataString);\n  }\n\n  return unescape(dataString);\n}\nexport function getPixelRatio() {\n  return isBrowser && window.devicePixelRatio || 1;\n}\n\nfunction consoleOnDev(method) {\n  if (!isProduction) {\n    var _console;\n\n    for (var _len = arguments.length, message = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      message[_key - 1] = arguments[_key];\n    }\n\n    // eslint-disable-next-line no-console\n    (_console = console)[method].apply(_console, message);\n  }\n}\n\nexport function warnOnDev() {\n  for (var _len2 = arguments.length, message = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    message[_key2] = arguments[_key2];\n  }\n\n  consoleOnDev.apply(void 0, ['warn'].concat(message));\n}\nexport function errorOnDev() {\n  for (var _len3 = arguments.length, message = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    message[_key3] = arguments[_key3];\n  }\n\n  consoleOnDev.apply(void 0, ['error'].concat(message));\n}\nexport function displayCORSWarning() {\n  if (isLocalFileSystem) {\n    warnOnDev('Loading PDF as base64 strings/URLs might not work on protocols other than HTTP/HTTPS. On Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes.');\n  }\n}\nexport function cancelRunningTask(runningTask) {\n  if (runningTask && runningTask.cancel) runningTask.cancel();\n}\nexport function makePageCallback(page, scale) {\n  Object.defineProperty(page, 'width', {\n    get: function get() {\n      return this.view[2] * scale;\n    },\n    configurable: true\n  });\n  Object.defineProperty(page, 'height', {\n    get: function get() {\n      return this.view[3] * scale;\n    },\n    configurable: true\n  });\n  Object.defineProperty(page, 'originalWidth', {\n    get: function get() {\n      return this.view[2];\n    },\n    configurable: true\n  });\n  Object.defineProperty(page, 'originalHeight', {\n    get: function get() {\n      return this.view[3];\n    },\n    configurable: true\n  });\n  return page;\n}\nexport function isCancelException(error) {\n  return error.name === 'RenderingCancelledException';\n}\nexport function loadFromFile(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return resolve(new Uint8Array(reader.result));\n    };\n\n    reader.onerror = function (event) {\n      switch (event.target.error.code) {\n        case event.target.error.NOT_FOUND_ERR:\n          return reject(new Error('Error while reading a file: File not found.'));\n\n        case event.target.error.NOT_READABLE_ERR:\n          return reject(new Error('Error while reading a file: File not readable.'));\n\n        case event.target.error.SECURITY_ERR:\n          return reject(new Error('Error while reading a file: Security error.'));\n\n        case event.target.error.ABORT_ERR:\n          return reject(new Error('Error while reading a file: Aborted.'));\n\n        default:\n          return reject(new Error('Error while reading a file.'));\n      }\n    };\n\n    reader.readAsArrayBuffer(file);\n    return null;\n  });\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport PropTypes from 'prop-types';\nimport { mouseEvents, touchEvents, keyboardEvents } from 'make-event-props';\nimport { isDefined } from './utils';\nimport LinkService from '../LinkService';\nexport var eventProps = function () {\n  var result = {};\n  [].concat(_toConsumableArray(mouseEvents), _toConsumableArray(touchEvents), _toConsumableArray(keyboardEvents)).forEach(function (eventName) {\n    result[eventName] = PropTypes.func;\n  });\n  return result;\n}();\n/* eslint-disable react/forbid-prop-types */\n\nvar fileTypes = [PropTypes.string, PropTypes.instanceOf(ArrayBuffer), PropTypes.shape({\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  httpHeaders: PropTypes.object,\n  range: PropTypes.object,\n  url: PropTypes.string,\n  withCredentials: PropTypes.bool\n})];\n\nif (typeof File !== 'undefined') {\n  fileTypes.push(PropTypes.instanceOf(File));\n}\n\nif (typeof Blob !== 'undefined') {\n  fileTypes.push(PropTypes.instanceOf(Blob));\n}\n\nexport var isClassName = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]);\nexport var isFile = PropTypes.oneOfType(fileTypes);\nexport var isLinkService = PropTypes.instanceOf(LinkService);\nexport var isLinkTarget = PropTypes.oneOf(['_self', '_blank', '_parent', '_top']);\nexport var isPage = PropTypes.shape({\n  _transport: PropTypes.shape({\n    fontLoader: PropTypes.object.isRequired\n  }).isRequired,\n  commonObjs: PropTypes.shape({\n    _objs: PropTypes.object.isRequired\n  }).isRequired,\n  getAnnotations: PropTypes.func.isRequired,\n  getTextContent: PropTypes.func.isRequired,\n  getViewport: PropTypes.func.isRequired,\n  render: PropTypes.func.isRequired\n});\nexport var isPageIndex = function isPageIndex(props, propName, componentName) {\n  var pageIndex = props[propName],\n      pageNumber = props.pageNumber,\n      pdf = props.pdf;\n\n  if (!isDefined(pdf)) {\n    return null;\n  }\n\n  if (isDefined(pageIndex)) {\n    if (typeof pageIndex !== 'number') {\n      return new Error(\"`\".concat(propName, \"` of type `\").concat(_typeof(pageIndex), \"` supplied to `\").concat(componentName, \"`, expected `number`.\"));\n    }\n\n    if (pageIndex < 0) {\n      return new Error(\"Expected `\".concat(propName, \"` to be greater or equal to 0.\"));\n    }\n\n    var numPages = pdf.numPages;\n\n    if (pageIndex + 1 > numPages) {\n      return new Error(\"Expected `\".concat(propName, \"` to be less or equal to \").concat(numPages - 1, \".\"));\n    }\n  } else if (!isDefined(pageNumber)) {\n    return new Error(\"`\".concat(propName, \"` not supplied. Either pageIndex or pageNumber must be supplied to `\").concat(componentName, \"`.\"));\n  } // Everything is fine\n\n\n  return null;\n};\nexport var isPageNumber = function isPageNumber(props, propName, componentName) {\n  var pageNumber = props[propName],\n      pageIndex = props.pageIndex,\n      pdf = props.pdf;\n\n  if (!isDefined(pdf)) {\n    return null;\n  }\n\n  if (isDefined(pageNumber)) {\n    if (typeof pageNumber !== 'number') {\n      return new Error(\"`\".concat(propName, \"` of type `\").concat(_typeof(pageNumber), \"` supplied to `\").concat(componentName, \"`, expected `number`.\"));\n    }\n\n    if (pageNumber < 1) {\n      return new Error(\"Expected `\".concat(propName, \"` to be greater or equal to 1.\"));\n    }\n\n    var numPages = pdf.numPages;\n\n    if (pageNumber > numPages) {\n      return new Error(\"Expected `\".concat(propName, \"` to be less or equal to \").concat(numPages, \".\"));\n    }\n  } else if (!isDefined(pageIndex)) {\n    return new Error(\"`\".concat(propName, \"` not supplied. Either pageIndex or pageNumber must be supplied to `\").concat(componentName, \"`.\"));\n  } // Everything is fine\n\n\n  return null;\n};\nexport var isPdf = PropTypes.oneOfType([PropTypes.shape({\n  getDestination: PropTypes.func.isRequired,\n  getOutline: PropTypes.func.isRequired,\n  getPage: PropTypes.func.isRequired,\n  numPages: PropTypes.number.isRequired\n}), PropTypes.bool]);\nexport var isRef = PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n  current: PropTypes.any\n})]);\nexport var isRenderMode = PropTypes.oneOf(['canvas', 'none', 'svg']);\nexport var isRotate = PropTypes.oneOf([0, 90, 180, 270]);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * Loads a PDF document. Passes it to all children.\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeEventProps from 'make-event-props';\nimport makeCancellable from 'make-cancellable-promise';\nimport mergeClassNames from 'merge-class-names';\nimport * as pdfjs from 'pdfjs-dist';\nimport DocumentContext from './DocumentContext';\nimport Message from './Message';\nimport LinkService from './LinkService';\nimport PasswordResponses from './PasswordResponses';\nimport { cancelRunningTask, dataURItoByteString, displayCORSWarning, errorOnDev, isArrayBuffer, isBlob, isBrowser, isDataURI, isFile, loadFromFile, warnOnDev } from './shared/utils';\nimport { eventProps, isClassName, isFile as isFileProp, isRef } from './shared/propTypes';\nvar PDFDataRangeTransport = pdfjs.PDFDataRangeTransport;\n\nvar Document = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Document, _PureComponent);\n\n  var _super = _createSuper(Document);\n\n  function Document() {\n    var _this;\n\n    _classCallCheck(this, Document);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      pdf: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"viewer\", {\n      scrollPageIntoView: function scrollPageIntoView(_ref) {\n        var pageNumber = _ref.pageNumber;\n        // Handling jumping to internal links target\n        var onItemClick = _this.props.onItemClick; // First, check if custom handling of onItemClick was provided\n\n        if (onItemClick) {\n          onItemClick({\n            pageNumber: pageNumber\n          });\n          return;\n        } // If not, try to look for target page within the <Document>.\n\n\n        var page = _this.pages[pageNumber - 1];\n\n        if (page) {\n          // Scroll to the page automatically\n          page.scrollIntoView();\n          return;\n        }\n\n        warnOnDev(\"Warning: An internal link leading to page \".concat(pageNumber, \" was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.\"));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"linkService\", new LinkService());\n\n    _defineProperty(_assertThisInitialized(_this), \"loadDocument\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var source, _this$props, options, onLoadProgress, onPassword, cancellable, pdf;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              source = null;\n              _context.prev = 1;\n              _context.next = 4;\n              return _this.findDocumentSource();\n\n            case 4:\n              source = _context.sent;\n\n              _this.onSourceSuccess();\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n\n              _this.onSourceError(_context.t0);\n\n            case 11:\n              if (source) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              _this.setState(function (prevState) {\n                if (!prevState.pdf) {\n                  return null;\n                }\n\n                return {\n                  pdf: null\n                };\n              });\n\n              _this$props = _this.props, options = _this$props.options, onLoadProgress = _this$props.onLoadProgress, onPassword = _this$props.onPassword;\n              _context.prev = 15;\n              // If another rendering is in progress, let's cancel it\n              cancelRunningTask(_this.runningTask); // If another loading is in progress, let's destroy it\n\n              if (_this.loadingTask) _this.loadingTask.destroy();\n              _this.loadingTask = pdfjs.getDocument(_objectSpread(_objectSpread({}, source), options));\n              _this.loadingTask.onPassword = onPassword;\n\n              if (onLoadProgress) {\n                _this.loadingTask.onProgress = onLoadProgress;\n              }\n\n              cancellable = makeCancellable(_this.loadingTask.promise);\n              _this.runningTask = cancellable;\n              _context.next = 25;\n              return cancellable.promise;\n\n            case 25:\n              pdf = _context.sent;\n\n              _this.setState(function (prevState) {\n                if (prevState.pdf && prevState.pdf.fingerprint === pdf.fingerprint) {\n                  return null;\n                }\n\n                return {\n                  pdf: pdf\n                };\n              }, _this.onLoadSuccess);\n\n              _context.next = 32;\n              break;\n\n            case 29:\n              _context.prev = 29;\n              _context.t1 = _context[\"catch\"](15);\n\n              _this.onLoadError(_context.t1);\n\n            case 32:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8], [15, 29]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"setupLinkService\", function () {\n      _this.linkService.setViewer(_this.viewer);\n\n      var documentInstance = _assertThisInitialized(_this);\n\n      Object.defineProperty(_this.linkService, 'externalLinkTarget', {\n        get: function get() {\n          var externalLinkTarget = documentInstance.props.externalLinkTarget;\n\n          switch (externalLinkTarget) {\n            case '_self':\n              return 1;\n\n            case '_blank':\n              return 2;\n\n            case '_parent':\n              return 3;\n\n            case '_top':\n              return 4;\n\n            default:\n              return 0;\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSourceSuccess\", function () {\n      var onSourceSuccess = _this.props.onSourceSuccess;\n      if (onSourceSuccess) onSourceSuccess();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSourceError\", function (error) {\n      errorOnDev(error);\n      var onSourceError = _this.props.onSourceError;\n      if (onSourceError) onSourceError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onLoadSuccess = _this.props.onLoadSuccess;\n      var pdf = _this.state.pdf;\n      if (onLoadSuccess) onLoadSuccess(pdf);\n      _this.pages = new Array(pdf.numPages);\n\n      _this.linkService.setDocument(pdf);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        pdf: false\n      });\n\n      errorOnDev(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"findDocumentSource\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var file, fileByteString, url, otherParams, _fileByteString;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              file = _this.props.file;\n\n              if (file) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", null);\n\n            case 3:\n              if (!(typeof file === 'string')) {\n                _context2.next = 9;\n                break;\n              }\n\n              if (!isDataURI(file)) {\n                _context2.next = 7;\n                break;\n              }\n\n              fileByteString = dataURItoByteString(file);\n              return _context2.abrupt(\"return\", {\n                data: fileByteString\n              });\n\n            case 7:\n              displayCORSWarning();\n              return _context2.abrupt(\"return\", {\n                url: file\n              });\n\n            case 9:\n              if (!(file instanceof PDFDataRangeTransport)) {\n                _context2.next = 11;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", {\n                range: file\n              });\n\n            case 11:\n              if (!isArrayBuffer(file)) {\n                _context2.next = 13;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", {\n                data: file\n              });\n\n            case 13:\n              if (!isBrowser) {\n                _context2.next = 19;\n                break;\n              }\n\n              if (!(isBlob(file) || isFile(file))) {\n                _context2.next = 19;\n                break;\n              }\n\n              _context2.next = 17;\n              return loadFromFile(file);\n\n            case 17:\n              _context2.t0 = _context2.sent;\n              return _context2.abrupt(\"return\", {\n                data: _context2.t0\n              });\n\n            case 19:\n              if (!(_typeof(file) !== 'object')) {\n                _context2.next = 21;\n                break;\n              }\n\n              throw new Error('Invalid parameter in file, need either Uint8Array, string or a parameter object');\n\n            case 21:\n              if (!(!file.url && !file.data && !file.range)) {\n                _context2.next = 23;\n                break;\n              }\n\n              throw new Error('Invalid parameter object: need either .data, .range or .url');\n\n            case 23:\n              if (!(typeof file.url === 'string')) {\n                _context2.next = 29;\n                break;\n              }\n\n              if (!isDataURI(file.url)) {\n                _context2.next = 28;\n                break;\n              }\n\n              url = file.url, otherParams = _objectWithoutProperties(file, [\"url\"]);\n              _fileByteString = dataURItoByteString(url);\n              return _context2.abrupt(\"return\", _objectSpread({\n                data: _fileByteString\n              }, otherParams));\n\n            case 28:\n              displayCORSWarning();\n\n            case 29:\n              return _context2.abrupt(\"return\", file);\n\n            case 30:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"registerPage\", function (pageIndex, ref) {\n      _this.pages[pageIndex] = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unregisterPage\", function (pageIndex) {\n      delete _this.pages[pageIndex];\n    });\n\n    return _this;\n  }\n\n  _createClass(Document, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadDocument();\n      this.setupLinkService();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var file = this.props.file;\n\n      if (file !== prevProps.file) {\n        this.loadDocument();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // If rendering is in progress, let's cancel it\n      cancelRunningTask(this.runningTask); // If loading is in progress, let's destroy it\n\n      if (this.loadingTask) this.loadingTask.destroy();\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var children = this.props.children;\n      return /*#__PURE__*/React.createElement(DocumentContext.Provider, {\n        value: this.childContext\n      }, children);\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var file = this.props.file;\n      var pdf = this.state.pdf;\n\n      if (!file) {\n        var noData = this.props.noData;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"no-data\"\n        }, typeof noData === 'function' ? noData() : noData);\n      }\n\n      if (pdf === null) {\n        var loading = this.props.loading;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"loading\"\n        }, typeof loading === 'function' ? loading() : loading);\n      }\n\n      if (pdf === false) {\n        var error = this.props.error;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"error\"\n        }, typeof error === 'function' ? error() : error);\n      }\n\n      return this.renderChildren();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          className = _this$props2.className,\n          inputRef = _this$props2.inputRef;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: mergeClassNames('react-pdf__Document', className),\n        ref: inputRef\n      }, this.eventProps), this.renderContent());\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      var linkService = this.linkService,\n          registerPage = this.registerPage,\n          unregisterPage = this.unregisterPage;\n      var _this$props3 = this.props,\n          imageResourcesPath = _this$props3.imageResourcesPath,\n          renderMode = _this$props3.renderMode,\n          rotate = _this$props3.rotate;\n      var pdf = this.state.pdf;\n      return {\n        imageResourcesPath: imageResourcesPath,\n        linkService: linkService,\n        pdf: pdf,\n        registerPage: registerPage,\n        renderMode: renderMode,\n        rotate: rotate,\n        unregisterPage: unregisterPage\n      };\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this;\n\n      // eslint-disable-next-line react/destructuring-assignment\n      return makeEventProps(this.props, function () {\n        return _this2.state.pdf;\n      });\n    }\n    /**\n     * Called when a document source is resolved correctly\n     */\n\n  }]);\n\n  return Document;\n}(PureComponent);\n\nexport { Document as default };\nDocument.defaultProps = {\n  error: 'Failed to load PDF file.',\n  loading: 'Loading PDF…',\n  noData: 'No PDF file specified.',\n  onPassword: function onPassword(callback, reason) {\n    switch (reason) {\n      case PasswordResponses.NEED_PASSWORD:\n        {\n          // eslint-disable-next-line no-alert\n          var password = prompt('Enter the password to open this PDF file.');\n          callback(password);\n          break;\n        }\n\n      case PasswordResponses.INCORRECT_PASSWORD:\n        {\n          // eslint-disable-next-line no-alert\n          var _password = prompt('Invalid password. Please try again.');\n\n          callback(_password);\n          break;\n        }\n\n      default:\n    }\n  }\n};\nvar isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nDocument.propTypes = _objectSpread(_objectSpread({}, eventProps), {}, {\n  children: PropTypes.node,\n  className: isClassName,\n  error: isFunctionOrNode,\n  file: isFileProp,\n  imageResourcesPath: PropTypes.string,\n  inputRef: isRef,\n  loading: isFunctionOrNode,\n  noData: isFunctionOrNode,\n  onItemClick: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadProgress: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  onPassword: PropTypes.func,\n  onSourceError: PropTypes.func,\n  onSourceSuccess: PropTypes.func,\n  rotate: PropTypes.number\n});","import { createContext } from 'react';\nexport default /*#__PURE__*/createContext(null);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nvar Ref = /*#__PURE__*/function () {\n  function Ref(_ref) {\n    var num = _ref.num,\n        gen = _ref.gen;\n\n    _classCallCheck(this, Ref);\n\n    this.num = num;\n    this.gen = gen;\n  }\n\n  _createClass(Ref, [{\n    key: \"toString\",\n    value: function toString() {\n      var str = \"\".concat(this.num, \"R\");\n\n      if (this.gen !== 0) {\n        str += this.gen;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Ref;\n}();\n\nexport { Ref as default };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport DocumentContext from './DocumentContext';\nimport OutlineContext from './OutlineContext';\nimport Ref from './Ref';\nimport { isDefined } from './shared/utils';\nimport { isPdf } from './shared/propTypes';\nexport var OutlineItemInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(OutlineItemInternal, _PureComponent);\n\n  var _super = _createSuper(OutlineItemInternal);\n\n  function OutlineItemInternal() {\n    var _this;\n\n    _classCallCheck(this, OutlineItemInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"getDestination\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$props, item, pdf;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, item = _this$props.item, pdf = _this$props.pdf;\n\n              if (isDefined(_this.destination)) {\n                _context.next = 9;\n                break;\n              }\n\n              if (!(typeof item.dest === 'string')) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 5;\n              return pdf.getDestination(item.dest);\n\n            case 5:\n              _this.destination = _context.sent;\n              _context.next = 9;\n              break;\n\n            case 8:\n              _this.destination = item.dest;\n\n            case 9:\n              return _context.abrupt(\"return\", _this.destination);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"getPageIndex\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var pdf, destination, _destination, ref;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              pdf = _this.props.pdf;\n\n              if (isDefined(_this.pageIndex)) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.next = 4;\n              return _this.getDestination();\n\n            case 4:\n              destination = _context2.sent;\n\n              if (!destination) {\n                _context2.next = 10;\n                break;\n              }\n\n              _destination = _slicedToArray(destination, 1), ref = _destination[0];\n              _context2.next = 9;\n              return pdf.getPageIndex(new Ref(ref));\n\n            case 9:\n              _this.pageIndex = _context2.sent;\n\n            case 10:\n              return _context2.abrupt(\"return\", _this.pageIndex);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"getPageNumber\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (isDefined(_this.pageNumber)) {\n                _context3.next = 5;\n                break;\n              }\n\n              _context3.next = 3;\n              return _this.getPageIndex();\n\n            case 3:\n              _context3.t0 = _context3.sent;\n              _this.pageNumber = _context3.t0 + 1;\n\n            case 5:\n              return _context3.abrupt(\"return\", _this.pageNumber);\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event) {\n        var onClick, pageIndex, pageNumber;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                onClick = _this.props.onClick;\n                event.preventDefault();\n                _context4.next = 4;\n                return _this.getPageIndex();\n\n              case 4:\n                pageIndex = _context4.sent;\n                _context4.next = 7;\n                return _this.getPageNumber();\n\n              case 7:\n                pageNumber = _context4.sent;\n\n                if (onClick) {\n                  onClick({\n                    pageIndex: pageIndex,\n                    pageNumber: pageNumber\n                  });\n                }\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  _createClass(OutlineItemInternal, [{\n    key: \"renderSubitems\",\n    value: function renderSubitems() {\n      var _this$props2 = this.props,\n          item = _this$props2.item,\n          otherProps = _objectWithoutProperties(_this$props2, [\"item\"]);\n\n      if (!item.items || !item.items.length) {\n        return null;\n      }\n\n      var subitems = item.items;\n      return /*#__PURE__*/React.createElement(\"ul\", null, subitems.map(function (subitem, subitemIndex) {\n        return /*#__PURE__*/React.createElement(OutlineItemInternal, _extends({\n          key: typeof subitem.destination === 'string' ? subitem.destination : subitemIndex,\n          item: subitem\n        }, otherProps));\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var item = this.props.item;\n      /* eslint-disable jsx-a11y/anchor-is-valid */\n\n      return /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.onClick\n      }, item.title), this.renderSubitems());\n    }\n  }]);\n\n  return OutlineItemInternal;\n}(PureComponent);\nvar isDestination = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.any)]);\nOutlineItemInternal.propTypes = {\n  item: PropTypes.shape({\n    dest: isDestination,\n    items: PropTypes.arrayOf(PropTypes.shape({\n      dest: isDestination,\n      title: PropTypes.string\n    })),\n    title: PropTypes.string\n  }).isRequired,\n  onClick: PropTypes.func,\n  pdf: isPdf.isRequired\n};\n\nvar OutlineItem = function OutlineItem(props) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (documentContext) {\n    return /*#__PURE__*/React.createElement(OutlineContext.Consumer, null, function (outlineContext) {\n      return /*#__PURE__*/React.createElement(OutlineItemInternal, _extends({}, documentContext, outlineContext, props));\n    });\n  });\n};\n\nexport default OutlineItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport mergeClassNames from 'merge-class-names';\nimport DocumentContext from './DocumentContext';\nimport OutlineContext from './OutlineContext';\nimport OutlineItem from './OutlineItem';\nimport { cancelRunningTask, errorOnDev } from './shared/utils';\nimport { eventProps, isClassName, isPdf, isRef } from './shared/propTypes';\nexport var OutlineInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(OutlineInternal, _PureComponent);\n\n  var _super = _createSuper(OutlineInternal);\n\n  function OutlineInternal() {\n    var _this;\n\n    _classCallCheck(this, OutlineInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      outline: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadOutline\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var pdf, cancellable, outline;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pdf = _this.props.pdf;\n\n              _this.setState(function (prevState) {\n                if (!prevState.outline) {\n                  return null;\n                }\n\n                return {\n                  outline: null\n                };\n              });\n\n              _context.prev = 2;\n              cancellable = makeCancellable(pdf.getOutline());\n              _this.runningTask = cancellable;\n              _context.next = 7;\n              return cancellable.promise;\n\n            case 7:\n              outline = _context.sent;\n\n              _this.setState({\n                outline: outline\n              }, _this.onLoadSuccess);\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n\n              _this.onLoadError(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onLoadSuccess = _this.props.onLoadSuccess;\n      var outline = _this.state.outline;\n      if (onLoadSuccess) onLoadSuccess(outline);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        outline: false\n      });\n\n      errorOnDev(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onItemClick\", function (_ref2) {\n      var pageIndex = _ref2.pageIndex,\n          pageNumber = _ref2.pageNumber;\n      var onItemClick = _this.props.onItemClick;\n\n      if (onItemClick) {\n        onItemClick({\n          pageIndex: pageIndex,\n          pageNumber: pageNumber\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(OutlineInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pdf = this.props.pdf;\n\n      if (!pdf) {\n        throw new Error('Attempted to load an outline, but no document was specified.');\n      }\n\n      this.loadOutline();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pdf = this.props.pdf;\n\n      if (prevProps.pdf && pdf !== prevProps.pdf) {\n        this.loadOutline();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"renderOutline\",\n    value: function renderOutline() {\n      var outline = this.state.outline;\n      return /*#__PURE__*/React.createElement(\"ul\", null, outline.map(function (item, itemIndex) {\n        return /*#__PURE__*/React.createElement(OutlineItem, {\n          key: typeof item.destination === 'string' ? item.destination : itemIndex,\n          item: item\n        });\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pdf = this.props.pdf;\n      var outline = this.state.outline;\n\n      if (!pdf || !outline) {\n        return null;\n      }\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          inputRef = _this$props.inputRef;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: mergeClassNames('react-pdf__Outline', className),\n        ref: inputRef\n      }, this.eventProps), /*#__PURE__*/React.createElement(OutlineContext.Provider, {\n        value: this.childContext\n      }, this.renderOutline()));\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      return {\n        onClick: this.onItemClick\n      };\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this;\n\n      // eslint-disable-next-line react/destructuring-assignment\n      return makeEventProps(this.props, function () {\n        return _this2.state.outline;\n      });\n    }\n    /**\n     * Called when an outline is read successfully\n     */\n\n  }]);\n\n  return OutlineInternal;\n}(PureComponent);\nOutlineInternal.propTypes = _objectSpread({\n  className: isClassName,\n  inputRef: isRef,\n  onItemClick: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  pdf: isPdf\n}, eventProps);\n\nfunction Outline(props, ref) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(OutlineInternal, _extends({\n      ref: ref\n    }, context, props));\n  });\n}\n\nexport default /*#__PURE__*/React.forwardRef(Outline);","/**\n * A function that merges React refs into one.\n * Supports both functions and ref objects created using createRef() and useRef().\n *\n * Usage:\n * ```jsx\n * <div ref={mergeRefs(ref1, ref2, ref3)} />\n * ```\n *\n * @param {...Array<Function|object>} inputRefs Array of refs\n * @returns {Function} Merged refs\n */\nexport default function mergeRefs() {\n  for (var _len = arguments.length, inputRefs = new Array(_len), _key = 0; _key < _len; _key++) {\n    inputRefs[_key] = arguments[_key];\n  }\n\n  var filteredInputRefs = inputRefs.filter(Boolean);\n\n  if (filteredInputRefs.length <= 1) {\n    return filteredInputRefs[0];\n  }\n\n  return function mergedRefs(ref) {\n    filteredInputRefs.forEach(function (inputRef) {\n      if (typeof inputRef === 'function') {\n        inputRef(ref);\n      } else {\n        // eslint-disable-next-line no-param-reassign\n        inputRef.current = ref;\n      }\n    });\n  };\n}","import { createContext } from 'react';\nexport default /*#__PURE__*/createContext(null);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport mergeRefs from 'merge-refs';\nimport PageContext from '../PageContext';\nimport { errorOnDev, getPixelRatio, isCancelException, makePageCallback } from '../shared/utils';\nimport { isPage, isRef, isRotate } from '../shared/propTypes';\nexport var PageCanvasInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PageCanvasInternal, _PureComponent);\n\n  var _super = _createSuper(PageCanvasInternal);\n\n  function PageCanvasInternal() {\n    var _this;\n\n    _classCallCheck(this, PageCanvasInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderSuccess\", function () {\n      _this.renderer = null;\n      var _this$props = _this.props,\n          onRenderSuccess = _this$props.onRenderSuccess,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      if (onRenderSuccess) onRenderSuccess(makePageCallback(page, scale));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderError\", function (error) {\n      if (isCancelException(error)) {\n        return;\n      }\n\n      errorOnDev(error);\n      var onRenderError = _this.props.onRenderError;\n      if (onRenderError) onRenderError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawPageOnCanvas\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          canvas = _assertThisInitialize.canvasLayer;\n\n      if (!canvas) {\n        return null;\n      }\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          renderViewport = _assertThisInitialize2.renderViewport,\n          viewport = _assertThisInitialize2.viewport;\n\n      var _this$props2 = _this.props,\n          page = _this$props2.page,\n          renderInteractiveForms = _this$props2.renderInteractiveForms;\n      canvas.width = renderViewport.width;\n      canvas.height = renderViewport.height;\n      canvas.style.width = \"\".concat(Math.floor(viewport.width), \"px\");\n      canvas.style.height = \"\".concat(Math.floor(viewport.height), \"px\");\n      var renderContext = {\n        get canvasContext() {\n          return canvas.getContext('2d');\n        },\n\n        viewport: renderViewport,\n        renderInteractiveForms: renderInteractiveForms\n      }; // If another render is in progress, let's cancel it\n\n      _this.cancelRenderingTask();\n\n      _this.renderer = page.render(renderContext);\n      return _this.renderer.promise.then(_this.onRenderSuccess)[\"catch\"](_this.onRenderError);\n    });\n\n    return _this;\n  }\n\n  _createClass(PageCanvasInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawPageOnCanvas();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props3 = this.props,\n          page = _this$props3.page,\n          renderInteractiveForms = _this$props3.renderInteractiveForms;\n\n      if (renderInteractiveForms !== prevProps.renderInteractiveForms) {\n        // Ensures the canvas will be re-rendered from scratch. Otherwise all form data will stay.\n        page.cleanup();\n        this.drawPageOnCanvas();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelRenderingTask();\n      /**\n       * Zeroing the width and height cause most browsers to release graphics\n       * resources immediately, which can greatly reduce memory consumption.\n       */\n\n      if (this.canvasLayer) {\n        this.canvasLayer.width = 0;\n        this.canvasLayer.height = 0;\n        this.canvasLayer = null;\n      }\n    }\n  }, {\n    key: \"cancelRenderingTask\",\n    value: function cancelRenderingTask() {\n      if (this.renderer) {\n        this.renderer.cancel();\n        this.renderer = null;\n      }\n    }\n    /**\n     * Called when a page is rendered successfully.\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var canvasRef = this.props.canvasRef;\n      return /*#__PURE__*/React.createElement(\"canvas\", {\n        className: \"react-pdf__Page__canvas\",\n        dir: \"ltr\",\n        ref: mergeRefs(canvasRef, function (ref) {\n          _this2.canvasLayer = ref;\n        }),\n        style: {\n          display: 'block',\n          userSelect: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"renderViewport\",\n    get: function get() {\n      var _this$props4 = this.props,\n          page = _this$props4.page,\n          rotate = _this$props4.rotate,\n          scale = _this$props4.scale;\n      var pixelRatio = getPixelRatio();\n      return page.getViewport({\n        scale: scale * pixelRatio,\n        rotation: rotate\n      });\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props5 = this.props,\n          page = _this$props5.page,\n          rotate = _this$props5.rotate,\n          scale = _this$props5.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }]);\n\n  return PageCanvasInternal;\n}(PureComponent);\nPageCanvasInternal.propTypes = {\n  canvasRef: isRef,\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  page: isPage.isRequired,\n  renderInteractiveForms: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number.isRequired\n};\nexport default function PageCanvas(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(PageCanvasInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport * as pdfjs from 'pdfjs-dist';\nimport PageContext from '../PageContext';\nimport { errorOnDev, isCancelException, makePageCallback } from '../shared/utils';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var PageSVGInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PageSVGInternal, _PureComponent);\n\n  var _super = _createSuper(PageSVGInternal);\n\n  function PageSVGInternal() {\n    var _this;\n\n    _classCallCheck(this, PageSVGInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      svg: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderSuccess\", function () {\n      _this.renderer = null;\n      var _this$props = _this.props,\n          onRenderSuccess = _this$props.onRenderSuccess,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      if (onRenderSuccess) onRenderSuccess(makePageCallback(page, scale));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderError\", function (error) {\n      if (isCancelException(error)) {\n        return;\n      }\n\n      errorOnDev(error);\n      var onRenderError = _this.props.onRenderError;\n      if (onRenderError) onRenderError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSVG\", function () {\n      var page = _this.props.page;\n      _this.renderer = page.getOperatorList();\n      return _this.renderer.then(function (operatorList) {\n        var svgGfx = new pdfjs.SVGGraphics(page.commonObjs, page.objs);\n        _this.renderer = svgGfx.getSVG(operatorList, _this.viewport).then(function (svg) {\n          _this.setState({\n            svg: svg\n          }, _this.onRenderSuccess);\n        })[\"catch\"](_this.onRenderError);\n      })[\"catch\"](_this.onRenderError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawPageOnContainer\", function (element) {\n      var svg = _this.state.svg;\n\n      if (!element || !svg) {\n        return;\n      } // Append SVG element to the main container, if this hasn't been done already\n\n\n      if (!element.firstElementChild) {\n        element.appendChild(svg);\n      }\n\n      var _this$viewport = _this.viewport,\n          width = _this$viewport.width,\n          height = _this$viewport.height;\n      svg.setAttribute('width', width);\n      svg.setAttribute('height', height);\n    });\n\n    return _this;\n  }\n\n  _createClass(PageSVGInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderSVG();\n    }\n    /**\n     * Called when a page is rendered successfully.\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$viewport2 = this.viewport,\n          width = _this$viewport2.width,\n          height = _this$viewport2.height;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-pdf__Page__svg\" // Note: This cannot be shortened, as we need this function to be called with each render.\n        ,\n        ref: function ref(_ref) {\n          return _this2.drawPageOnContainer(_ref);\n        },\n        style: {\n          display: 'block',\n          backgroundColor: 'white',\n          overflow: 'hidden',\n          width: width,\n          height: height,\n          userSelect: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate,\n          scale = _this$props2.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }]);\n\n  return PageSVGInternal;\n}(PureComponent);\nPageSVGInternal.propTypes = {\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  page: isPage.isRequired,\n  rotate: isRotate,\n  scale: PropTypes.number.isRequired\n};\nexport default function PageSVG(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(PageSVGInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport PageContext from '../PageContext';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var TextLayerItemInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(TextLayerItemInternal, _PureComponent);\n\n  var _super = _createSuper(TextLayerItemInternal);\n\n  function TextLayerItemInternal() {\n    var _this;\n\n    _classCallCheck(this, TextLayerItemInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"getElementWidth\", function (element) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          sideways = _assertThisInitialize.sideways;\n\n      return element.getBoundingClientRect()[sideways ? 'height' : 'width'];\n    });\n\n    return _this;\n  }\n\n  _createClass(TextLayerItemInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.alignTextItem();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.alignTextItem();\n    }\n  }, {\n    key: \"getFontData\",\n    value: function () {\n      var _getFontData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(fontName) {\n        var page, font;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                page = this.props.page;\n                _context.next = 3;\n                return new Promise(function (resolve) {\n                  page.commonObjs.get(fontName, resolve);\n                });\n\n              case 3:\n                font = _context.sent;\n                return _context.abrupt(\"return\", font);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getFontData(_x) {\n        return _getFontData.apply(this, arguments);\n      }\n\n      return getFontData;\n    }()\n  }, {\n    key: \"alignTextItem\",\n    value: function () {\n      var _alignTextItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var element, _this$props, fontName, scale, width, fontData, fallbackFontName, targetWidth, actualWidth, transform, ascent;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                element = this.item;\n\n                if (element) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                element.style.transform = '';\n                _this$props = this.props, fontName = _this$props.fontName, scale = _this$props.scale, width = _this$props.width;\n                element.style.fontFamily = \"\".concat(fontName, \", sans-serif\");\n                _context2.next = 8;\n                return this.getFontData(fontName);\n\n              case 8:\n                fontData = _context2.sent;\n                fallbackFontName = fontData ? fontData.fallbackName : 'sans-serif';\n                element.style.fontFamily = \"\".concat(fontName, \", \").concat(fallbackFontName);\n                targetWidth = width * scale;\n                actualWidth = this.getElementWidth(element);\n                transform = \"scaleX(\".concat(targetWidth / actualWidth, \")\");\n                ascent = fontData ? fontData.ascent : 0;\n\n                if (ascent) {\n                  transform += \" translateY(\".concat((1 - ascent) * 100, \"%)\");\n                }\n\n                element.style.transform = transform;\n                element.style.WebkitTransform = transform;\n\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function alignTextItem() {\n        return _alignTextItem.apply(this, arguments);\n      }\n\n      return alignTextItem;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var fontSize = this.fontSize,\n          top = this.top,\n          left = this.left;\n      var _this$props2 = this.props,\n          customTextRenderer = _this$props2.customTextRenderer,\n          scale = _this$props2.scale,\n          text = _this$props2.str;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: function ref(_ref) {\n          _this2.item = _ref;\n        },\n        style: {\n          height: '1em',\n          fontFamily: 'sans-serif',\n          fontSize: \"\".concat(fontSize * scale, \"px\"),\n          position: 'absolute',\n          top: \"\".concat(top * scale, \"px\"),\n          left: \"\".concat(left * scale, \"px\"),\n          transformOrigin: 'left bottom',\n          whiteSpace: 'pre',\n          pointerEvents: 'all'\n        }\n      }, customTextRenderer ? customTextRenderer(this.props) : text);\n    }\n  }, {\n    key: \"unrotatedViewport\",\n    get: function get() {\n      var _this$props3 = this.props,\n          page = _this$props3.page,\n          scale = _this$props3.scale;\n      return page.getViewport({\n        scale: scale\n      });\n    }\n    /**\n     * It might happen that the page is rotated by default. In such cases, we shouldn't rotate\n     * text content.\n     */\n\n  }, {\n    key: \"rotate\",\n    get: function get() {\n      var _this$props4 = this.props,\n          page = _this$props4.page,\n          rotate = _this$props4.rotate;\n      return rotate - page.rotate;\n    }\n  }, {\n    key: \"sideways\",\n    get: function get() {\n      var rotate = this.rotate;\n      return rotate % 180 !== 0;\n    }\n  }, {\n    key: \"defaultSideways\",\n    get: function get() {\n      var rotation = this.unrotatedViewport.rotation;\n      return rotation % 180 !== 0;\n    }\n  }, {\n    key: \"fontSize\",\n    get: function get() {\n      var transform = this.props.transform;\n      var defaultSideways = this.defaultSideways;\n\n      var _transform = _slicedToArray(transform, 2),\n          fontHeightPx = _transform[0],\n          fontWidthPx = _transform[1];\n\n      return defaultSideways ? fontWidthPx : fontHeightPx;\n    }\n  }, {\n    key: \"top\",\n    get: function get() {\n      var transform = this.props.transform;\n      var viewport = this.unrotatedViewport,\n          defaultSideways = this.defaultSideways;\n\n      var _transform2 = _slicedToArray(transform, 6),\n\n      /* fontHeightPx */\n\n      /* fontWidthPx */\n      offsetX = _transform2[2],\n          offsetY = _transform2[3],\n          x = _transform2[4],\n          y = _transform2[5];\n\n      var _viewport$viewBox = _slicedToArray(viewport.viewBox, 4),\n\n      /* xMin */\n      yMin = _viewport$viewBox[1],\n\n      /* xMax */\n      yMax = _viewport$viewBox[3];\n\n      return defaultSideways ? x + offsetX + yMin : yMax - (y + offsetY);\n    }\n  }, {\n    key: \"left\",\n    get: function get() {\n      var transform = this.props.transform;\n      var viewport = this.unrotatedViewport,\n          defaultSideways = this.defaultSideways;\n\n      var _transform3 = _slicedToArray(transform, 6),\n\n      /* fontHeightPx */\n\n      /* fontWidthPx */\n\n      /* offsetX */\n\n      /* offsetY */\n      x = _transform3[4],\n          y = _transform3[5];\n\n      var _viewport$viewBox2 = _slicedToArray(viewport.viewBox, 1),\n          xMin = _viewport$viewBox2[0];\n\n      return defaultSideways ? y - xMin : x - xMin;\n    }\n  }]);\n\n  return TextLayerItemInternal;\n}(PureComponent);\nTextLayerItemInternal.propTypes = {\n  customTextRenderer: PropTypes.func,\n  fontName: PropTypes.string.isRequired,\n  itemIndex: PropTypes.number.isRequired,\n  // eslint-disable-line react/no-unused-prop-types\n  page: isPage.isRequired,\n  rotate: isRotate,\n  scale: PropTypes.number,\n  str: PropTypes.string.isRequired,\n  transform: PropTypes.arrayOf(PropTypes.number).isRequired,\n  width: PropTypes.number.isRequired\n};\nexport default function TextLayerItem(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(TextLayerItemInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport PageContext from '../PageContext';\nimport TextLayerItem from './TextLayerItem';\nimport { cancelRunningTask, errorOnDev } from '../shared/utils';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var TextLayerInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(TextLayerInternal, _PureComponent);\n\n  var _super = _createSuper(TextLayerInternal);\n\n  function TextLayerInternal() {\n    var _this;\n\n    _classCallCheck(this, TextLayerInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      textItems: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadTextItems\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var page, cancellable, _yield$cancellable$pr, textItems;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              page = _this.props.page;\n              _context.prev = 1;\n              cancellable = makeCancellable(page.getTextContent());\n              _this.runningTask = cancellable;\n              _context.next = 6;\n              return cancellable.promise;\n\n            case 6:\n              _yield$cancellable$pr = _context.sent;\n              textItems = _yield$cancellable$pr.items;\n\n              _this.setState({\n                textItems: textItems\n              }, _this.onLoadSuccess);\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n\n              _this.onLoadError(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 11]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onGetTextSuccess = _this.props.onGetTextSuccess;\n      var textItems = _this.state.textItems;\n      if (onGetTextSuccess) onGetTextSuccess(textItems);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        textItems: false\n      });\n\n      errorOnDev(error);\n      var onGetTextError = _this.props.onGetTextError;\n      if (onGetTextError) onGetTextError(error);\n    });\n\n    return _this;\n  }\n\n  _createClass(TextLayerInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var page = this.props.page;\n\n      if (!page) {\n        throw new Error('Attempted to load page text content, but no page was specified.');\n      }\n\n      this.loadTextItems();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var page = this.props.page;\n\n      if (prevProps.page && page !== prevProps.page) {\n        this.loadTextItems();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"renderTextItems\",\n    value: function renderTextItems() {\n      var textItems = this.state.textItems;\n\n      if (!textItems) {\n        return null;\n      }\n\n      return textItems.map(function (textItem, itemIndex) {\n        return /*#__PURE__*/React.createElement(TextLayerItem // eslint-disable-next-line react/no-array-index-key\n        , _extends({\n          key: itemIndex,\n          itemIndex: itemIndex\n        }, textItem));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var viewport = this.unrotatedViewport,\n          rotate = this.rotate;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-pdf__Page__textContent\",\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          width: \"\".concat(viewport.width, \"px\"),\n          height: \"\".concat(viewport.height, \"px\"),\n          color: 'transparent',\n          transform: \"translate(-50%, -50%) rotate(\".concat(rotate, \"deg)\"),\n          WebkitTransform: \"translate(-50%, -50%) rotate(\".concat(rotate, \"deg)\"),\n          pointerEvents: 'none'\n        }\n      }, this.renderTextItems());\n    }\n  }, {\n    key: \"unrotatedViewport\",\n    get: function get() {\n      var _this$props = this.props,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      return page.getViewport({\n        scale: scale\n      });\n    }\n    /**\n     * It might happen that the page is rotated by default. In such cases, we shouldn't rotate\n     * text content.\n     */\n\n  }, {\n    key: \"rotate\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate;\n      return rotate - page.rotate;\n    }\n  }]);\n\n  return TextLayerInternal;\n}(PureComponent);\nTextLayerInternal.propTypes = {\n  onGetTextError: PropTypes.func,\n  onGetTextSuccess: PropTypes.func,\n  page: isPage.isRequired,\n  rotate: isRotate,\n  scale: PropTypes.number\n};\nexport default function TextLayer(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(TextLayerInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport * as pdfjs from 'pdfjs-dist';\nimport makeCancellable from 'make-cancellable-promise';\nimport DocumentContext from '../DocumentContext';\nimport PageContext from '../PageContext';\nimport { cancelRunningTask, errorOnDev } from '../shared/utils';\nimport { isLinkService, isPage, isRotate } from '../shared/propTypes';\nexport var AnnotationLayerInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(AnnotationLayerInternal, _PureComponent);\n\n  var _super = _createSuper(AnnotationLayerInternal);\n\n  function AnnotationLayerInternal() {\n    var _this;\n\n    _classCallCheck(this, AnnotationLayerInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      annotations: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadAnnotations\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var page, cancellable, annotations;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              page = _this.props.page;\n              _context.prev = 1;\n              cancellable = makeCancellable(page.getAnnotations());\n              _this.runningTask = cancellable;\n              _context.next = 6;\n              return cancellable.promise;\n\n            case 6:\n              annotations = _context.sent;\n\n              _this.setState({\n                annotations: annotations\n              }, _this.onLoadSuccess);\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](1);\n\n              _this.onLoadError(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 10]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onGetAnnotationsSuccess = _this.props.onGetAnnotationsSuccess;\n      var annotations = _this.state.annotations;\n      if (onGetAnnotationsSuccess) onGetAnnotationsSuccess(annotations);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        annotations: false\n      });\n\n      errorOnDev(error);\n      var onGetAnnotationsError = _this.props.onGetAnnotationsError;\n      if (onGetAnnotationsError) onGetAnnotationsError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderSuccess\", function () {\n      var onRenderAnnotationLayerSuccess = _this.props.onRenderAnnotationLayerSuccess;\n      if (onRenderAnnotationLayerSuccess) onRenderAnnotationLayerSuccess();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderError\", function (error) {\n      errorOnDev(error);\n      var onRenderAnnotationLayerError = _this.props.onRenderAnnotationLayerError;\n      if (onRenderAnnotationLayerError) onRenderAnnotationLayerError(error);\n    });\n\n    return _this;\n  }\n\n  _createClass(AnnotationLayerInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var page = this.props.page;\n\n      if (!page) {\n        throw new Error('Attempted to load page annotations, but no page was specified.');\n      }\n\n      this.loadAnnotations();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          page = _this$props.page,\n          renderInteractiveForms = _this$props.renderInteractiveForms;\n\n      if (prevProps.page && page !== prevProps.page || renderInteractiveForms !== prevProps.renderInteractiveForms) {\n        this.loadAnnotations();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"renderAnnotationLayer\",\n    value: function renderAnnotationLayer() {\n      var annotations = this.state.annotations;\n\n      if (!annotations) {\n        return;\n      }\n\n      var _this$props2 = this.props,\n          imageResourcesPath = _this$props2.imageResourcesPath,\n          linkService = _this$props2.linkService,\n          page = _this$props2.page,\n          renderInteractiveForms = _this$props2.renderInteractiveForms;\n      var viewport = this.viewport.clone({\n        dontFlip: true\n      });\n      var parameters = {\n        annotations: annotations,\n        div: this.annotationLayer,\n        imageResourcesPath: imageResourcesPath,\n        linkService: linkService,\n        page: page,\n        renderInteractiveForms: renderInteractiveForms,\n        viewport: viewport\n      };\n      this.annotationLayer.innerHTML = '';\n\n      try {\n        pdfjs.AnnotationLayer.render(parameters);\n        this.onRenderSuccess();\n      } catch (error) {\n        this.onRenderError(error);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-pdf__Page__annotations annotationLayer\",\n        ref: function ref(_ref2) {\n          _this2.annotationLayer = _ref2;\n        }\n      }, this.renderAnnotationLayer());\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props3 = this.props,\n          page = _this$props3.page,\n          rotate = _this$props3.rotate,\n          scale = _this$props3.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }]);\n\n  return AnnotationLayerInternal;\n}(PureComponent);\nAnnotationLayerInternal.propTypes = {\n  imageResourcesPath: PropTypes.string,\n  linkService: isLinkService.isRequired,\n  onGetAnnotationsError: PropTypes.func,\n  onGetAnnotationsSuccess: PropTypes.func,\n  onRenderAnnotationLayerError: PropTypes.func,\n  onRenderAnnotationLayerSuccess: PropTypes.func,\n  page: isPage,\n  renderInteractiveForms: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number\n};\n\nvar AnnotationLayer = function AnnotationLayer(props) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (documentContext) {\n    return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (pageContext) {\n      return /*#__PURE__*/React.createElement(AnnotationLayerInternal, _extends({}, documentContext, pageContext, props));\n    });\n  });\n};\n\nexport default AnnotationLayer;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport mergeClassNames from 'merge-class-names';\nimport mergeRefs from 'merge-refs';\nimport DocumentContext from './DocumentContext';\nimport PageContext from './PageContext';\nimport Message from './Message';\nimport PageCanvas from './Page/PageCanvas';\nimport PageSVG from './Page/PageSVG';\nimport TextLayer from './Page/TextLayer';\nimport AnnotationLayer from './Page/AnnotationLayer';\nimport { cancelRunningTask, errorOnDev, isProvided, makePageCallback } from './shared/utils';\nimport { eventProps, isClassName, isPageIndex, isPageNumber, isPdf, isRef, isRenderMode, isRotate } from './shared/propTypes';\nvar defaultScale = 1;\nexport var PageInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PageInternal, _PureComponent);\n\n  var _super = _createSuper(PageInternal);\n\n  function PageInternal() {\n    var _this;\n\n    _classCallCheck(this, PageInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      page: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var _this$props = _this.props,\n          onLoadSuccess = _this$props.onLoadSuccess,\n          registerPage = _this$props.registerPage;\n      var page = _this.state.page;\n      if (onLoadSuccess) onLoadSuccess(makePageCallback(page, _this.scale));\n      if (registerPage) registerPage(_this.pageIndex, _this.ref);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      errorOnDev(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadPage\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var pdf, pageNumber, cancellable, page;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pdf = _this.props.pdf;\n              pageNumber = _this.getPageNumber();\n\n              if (pageNumber) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 4:\n              _this.setState(function (prevState) {\n                if (!prevState.page) {\n                  return null;\n                }\n\n                return {\n                  page: null\n                };\n              });\n\n              _context.prev = 5;\n              cancellable = makeCancellable(pdf.getPage(pageNumber));\n              _this.runningTask = cancellable;\n              _context.next = 10;\n              return cancellable.promise;\n\n            case 10:\n              page = _context.sent;\n\n              _this.setState({\n                page: page\n              }, _this.onLoadSuccess);\n\n              _context.next = 18;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](5);\n\n              _this.setState({\n                page: false\n              });\n\n              _this.onLoadError(_context.t0);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 14]]);\n    })));\n\n    return _this;\n  }\n\n  _createClass(PageInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pdf = this.props.pdf;\n\n      if (!pdf) {\n        throw new Error('Attempted to load a page, but no document was specified.');\n      }\n\n      this.loadPage();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pdf = this.props.pdf;\n\n      if (prevProps.pdf && pdf !== prevProps.pdf || this.getPageNumber() !== this.getPageNumber(prevProps)) {\n        var unregisterPage = this.props.unregisterPage;\n        if (unregisterPage) unregisterPage(this.getPageIndex(prevProps));\n        this.loadPage();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var unregisterPage = this.props.unregisterPage;\n      if (unregisterPage) unregisterPage(this.pageIndex);\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"getPageIndex\",\n    value: function getPageIndex() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (isProvided(props.pageNumber)) {\n        return props.pageNumber - 1;\n      }\n\n      if (isProvided(props.pageIndex)) {\n        return props.pageIndex;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getPageNumber\",\n    value: function getPageNumber() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (isProvided(props.pageNumber)) {\n        return props.pageNumber;\n      }\n\n      if (isProvided(props.pageIndex)) {\n        return props.pageIndex + 1;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderMainLayer\",\n    value: function renderMainLayer() {\n      var _this$props2 = this.props,\n          canvasRef = _this$props2.canvasRef,\n          renderMode = _this$props2.renderMode;\n\n      switch (renderMode) {\n        case 'none':\n          return null;\n\n        case 'svg':\n          return /*#__PURE__*/React.createElement(PageSVG, {\n            key: \"\".concat(this.pageKeyNoScale, \"_svg\")\n          });\n\n        case 'canvas':\n        default:\n          return /*#__PURE__*/React.createElement(PageCanvas, {\n            key: \"\".concat(this.pageKey, \"_canvas\"),\n            canvasRef: canvasRef\n          });\n      }\n    }\n  }, {\n    key: \"renderTextLayer\",\n    value: function renderTextLayer() {\n      var renderTextLayer = this.props.renderTextLayer;\n\n      if (!renderTextLayer) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(TextLayer, {\n        key: \"\".concat(this.pageKey, \"_text\")\n      });\n    }\n  }, {\n    key: \"renderAnnotationLayer\",\n    value: function renderAnnotationLayer() {\n      var renderAnnotationLayer = this.props.renderAnnotationLayer;\n\n      if (!renderAnnotationLayer) {\n        return null;\n      }\n      /**\n       * As of now, PDF.js 2.0.943 returns warnings on unimplemented annotations in SVG mode.\n       * Therefore, as a fallback, we render \"traditional\" AnnotationLayer component.\n       */\n\n\n      return /*#__PURE__*/React.createElement(AnnotationLayer, {\n        key: \"\".concat(this.pageKey, \"_annotations\")\n      });\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var children = this.props.children;\n      return /*#__PURE__*/React.createElement(PageContext.Provider, {\n        value: this.childContext\n      }, this.renderMainLayer(), this.renderTextLayer(), this.renderAnnotationLayer(), children);\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var pageNumber = this.pageNumber;\n      var pdf = this.props.pdf;\n      var page = this.state.page;\n\n      if (!pageNumber) {\n        var noData = this.props.noData;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"no-data\"\n        }, typeof noData === 'function' ? noData() : noData);\n      }\n\n      if (pdf === null || page === null) {\n        var loading = this.props.loading;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"loading\"\n        }, typeof loading === 'function' ? loading() : loading);\n      }\n\n      if (pdf === false || page === false) {\n        var error = this.props.error;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"error\"\n        }, typeof error === 'function' ? error() : error);\n      }\n\n      return this.renderChildren();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pageNumber = this.pageNumber;\n      var _this$props3 = this.props,\n          className = _this$props3.className,\n          inputRef = _this$props3.inputRef;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: mergeClassNames('react-pdf__Page', className),\n        \"data-page-number\": pageNumber,\n        ref: mergeRefs(inputRef, this.ref),\n        style: {\n          position: 'relative'\n        }\n      }, this.eventProps), this.renderContent());\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      var page = this.state.page;\n\n      if (!page) {\n        return {};\n      }\n\n      var _this$props4 = this.props,\n          customTextRenderer = _this$props4.customTextRenderer,\n          onGetAnnotationsError = _this$props4.onGetAnnotationsError,\n          onGetAnnotationsSuccess = _this$props4.onGetAnnotationsSuccess,\n          onGetTextError = _this$props4.onGetTextError,\n          onGetTextSuccess = _this$props4.onGetTextSuccess,\n          onRenderAnnotationLayerError = _this$props4.onRenderAnnotationLayerError,\n          onRenderAnnotationLayerSuccess = _this$props4.onRenderAnnotationLayerSuccess,\n          onRenderError = _this$props4.onRenderError,\n          onRenderSuccess = _this$props4.onRenderSuccess,\n          renderInteractiveForms = _this$props4.renderInteractiveForms;\n      return {\n        customTextRenderer: customTextRenderer,\n        onGetAnnotationsError: onGetAnnotationsError,\n        onGetAnnotationsSuccess: onGetAnnotationsSuccess,\n        onGetTextError: onGetTextError,\n        onGetTextSuccess: onGetTextSuccess,\n        onRenderAnnotationLayerError: onRenderAnnotationLayerError,\n        onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccess,\n        onRenderError: onRenderError,\n        onRenderSuccess: onRenderSuccess,\n        page: page,\n        renderInteractiveForms: renderInteractiveForms,\n        rotate: this.rotate,\n        scale: this.scale\n      };\n    }\n    /**\n     * Called when a page is loaded successfully\n     */\n\n  }, {\n    key: \"pageIndex\",\n    get: function get() {\n      return this.getPageIndex();\n    }\n  }, {\n    key: \"pageNumber\",\n    get: function get() {\n      return this.getPageNumber();\n    }\n  }, {\n    key: \"rotate\",\n    get: function get() {\n      var rotate = this.props.rotate;\n\n      if (isProvided(rotate)) {\n        return rotate;\n      }\n\n      var page = this.state.page;\n\n      if (!page) {\n        return null;\n      }\n\n      return page.rotate;\n    }\n  }, {\n    key: \"scale\",\n    get: function get() {\n      var page = this.state.page;\n\n      if (!page) {\n        return null;\n      }\n\n      var _this$props5 = this.props,\n          scale = _this$props5.scale,\n          width = _this$props5.width,\n          height = _this$props5.height;\n      var rotate = this.rotate; // Be default, we'll render page at 100% * scale width.\n\n      var pageScale = 1; // Passing scale explicitly null would cause the page not to render\n\n      var scaleWithDefault = scale === null ? defaultScale : scale; // If width/height is defined, calculate the scale of the page so it could be of desired width.\n\n      if (width || height) {\n        var viewport = page.getViewport({\n          scale: 1,\n          rotation: rotate\n        });\n        pageScale = width ? width / viewport.width : height / viewport.height;\n      }\n\n      return scaleWithDefault * pageScale;\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this;\n\n      return makeEventProps(this.props, function () {\n        var page = _this2.state.page;\n\n        if (!page) {\n          return page;\n        }\n\n        return makePageCallback(page, _this2.scale);\n      });\n    }\n  }, {\n    key: \"pageKey\",\n    get: function get() {\n      var page = this.state.page;\n      return \"\".concat(page.pageIndex, \"@\").concat(this.scale, \"/\").concat(this.rotate);\n    }\n  }, {\n    key: \"pageKeyNoScale\",\n    get: function get() {\n      var page = this.state.page;\n      return \"\".concat(page.pageIndex, \"/\").concat(this.rotate);\n    }\n  }]);\n\n  return PageInternal;\n}(PureComponent);\nPageInternal.defaultProps = {\n  error: 'Failed to load the page.',\n  loading: 'Loading page…',\n  noData: 'No page specified.',\n  renderAnnotationLayer: true,\n  renderInteractiveForms: false,\n  renderMode: 'canvas',\n  renderTextLayer: true,\n  scale: defaultScale\n};\nvar isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nPageInternal.propTypes = _objectSpread(_objectSpread({}, eventProps), {}, {\n  children: PropTypes.node,\n  className: isClassName,\n  customTextRenderer: PropTypes.func,\n  error: isFunctionOrNode,\n  height: PropTypes.number,\n  imageResourcesPath: PropTypes.string,\n  inputRef: isRef,\n  loading: isFunctionOrNode,\n  noData: isFunctionOrNode,\n  onGetTextError: PropTypes.func,\n  onGetTextSuccess: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  pageIndex: isPageIndex,\n  pageNumber: isPageNumber,\n  pdf: isPdf,\n  registerPage: PropTypes.func,\n  renderAnnotationLayer: PropTypes.bool,\n  renderInteractiveForms: PropTypes.bool,\n  renderMode: isRenderMode,\n  renderTextLayer: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number,\n  unregisterPage: PropTypes.func,\n  width: PropTypes.number\n});\n\nfunction Page(props, ref) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(PageInternal, _extends({\n      ref: ref\n    }, context, props));\n  });\n}\n\nexport default /*#__PURE__*/React.forwardRef(Page);","import * as pdfjs from 'pdfjs-dist';\nimport Document from './Document';\nimport Outline from './Outline';\nimport Page from './Page';\nimport { isLocalFileSystem, warnOnDev } from './shared/utils';\n\nif (isLocalFileSystem) {\n  warnOnDev('You are running React-PDF from your local file system. PDF.js Worker may fail to load due to browser\\'s security policies. If you\\'re on Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes.');\n}\n\npdfjs.GlobalWorkerOptions.workerSrc = 'pdf.worker.js';\nexport { pdfjs, Document, Outline, Page };","import { useEffect, RefObject, useLayoutEffect } from 'react';\n\nexport const useOnEscape = (\n  handler: (event: KeyboardEvent) => void,\n  active = true\n) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = (event: KeyboardEvent) => {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler(event);\n    };\n    document.addEventListener('keyup', listener);\n\n    return () => {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\n\nexport const useRepositionOnResize = (handler: () => void, active = true) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = () => {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n\n    return () => {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\n\nexport const useOnClickOutside = (\n  ref: RefObject<HTMLElement> | RefObject<HTMLElement>[],\n  handler: (event: TouchEvent | MouseEvent) => void,\n  active = true\n) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = (event: TouchEvent | MouseEvent) => {\n      // Do nothing if clicking ref's element or descendent elements\n      const refs = Array.isArray(ref) ? ref : [ref];\n\n      let contains = false;\n      refs.forEach(r => {\n        if (!r.current || r.current.contains(event.target as Node)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n};\n\n// Make sure that user is not able TAB out of the Modal content on Open\nexport const useTabbing = (\n  contentRef: RefObject<HTMLElement>,\n  active = true\n) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = (event: KeyboardEvent) => {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        const els = contentRef?.current?.querySelectorAll(\n          'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]'\n        );\n\n        const focusableEls = Array.prototype.slice.call(els);\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        const firstFocusableEl = focusableEls[0];\n        const lastFocusableEl = focusableEls[focusableEls.length - 1];\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n\n    return () => {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\n\nexport const useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n","import React from 'react';\n\ntype PopupStyle = {\n  popupContent: {\n    tooltip: React.CSSProperties;\n    modal: React.CSSProperties;\n  };\n  popupArrow: React.CSSProperties;\n  overlay: {\n    tooltip: React.CSSProperties;\n    modal: React.CSSProperties;\n  };\n};\n\nconst Style: PopupStyle = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999,\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto',\n    },\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1,\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999,\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999,\n    },\n  },\n};\n\nexport default Style;\n","/* Algo to calculate position\n  1. center position for popup content : the center of the trigger will be the center of the content content\n      so the popup content position will be like this :\n      top => the y of the center for the trigger element : trigger.top + trigger.height/2\n      left => the x of the center for the trigger element : trigger.left + trigger.width/2\n\n  2. translate position according to the first  position attribute  passed  in the function argument\n      for example :\n        position = 'left top'\n        we need to handle the first argument in the position: 'left' => that's mean we need to translate the popup content according to the X axis by - content.width/2\n\n  3.translate position according to the first  position attribute  passed  in the function argument\n    for example :\n      position = 'left top'\n      the second argument 'top' => translate popup content by + content.height*4/5\n\n  4. check if calculated position is going out of bounds of wrapper box or not. If yes repeat 1-3 for next position enum. By default wrapper box is window element\n*/\nimport { PopupPosition } from './types';\n\nexport const POSITION_TYPES: PopupPosition[] = [\n  'top left',\n  'top center',\n  'top right',\n  'right top',\n  'right center',\n  'right bottom',\n  'bottom left',\n  'bottom center',\n  'bottom right',\n  'left top',\n  'left center',\n  'left bottom',\n  //'center center',\n];\n\ntype CordsType = {\n  top: number;\n  left: number;\n  transform: string;\n  arrowLeft: string;\n  arrowTop: string;\n};\n\nconst getCoordinatesForPosition = (\n  triggerBounding: DOMRect,\n  ContentBounding: DOMRect,\n  position: PopupPosition, //PopupPosition | PopupPosition[],\n  arrow: boolean,\n  { offsetX, offsetY }: { offsetX: number; offsetY: number }\n): CordsType => {\n  const margin = arrow ? 8 : 0;\n  const args = position.split(' ');\n  // the step N 1 : center the popup content => ok\n  const CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  const CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  const { height, width } = ContentBounding;\n  let top = CenterTop - height / 2;\n  let left = CenterLeft - width / 2;\n  let transform = '';\n  let arrowTop = '0%';\n  let arrowLeft = '0%';\n  // the  step N 2 : => ok\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(180deg)  translateX(50%)`;\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(0deg) translateY(-100%) translateX(-50%)`;\n      arrowLeft = '50%';\n      break;\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = ` rotate(90deg)  translateY(50%) translateX(-25%)`;\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = `rotate(-90deg)  translateY(-150%) translateX(25%)`;\n      arrowTop = '50%';\n      break;\n    default:\n  }\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = `${triggerBounding.height / 2}px`;\n      break;\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = `${height - triggerBounding.height / 2}px`;\n      break;\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = `${triggerBounding.width / 2}px`;\n      break;\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = `${width - triggerBounding.width / 2}px`;\n      break;\n    default:\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n\n  return { top, left, transform, arrowLeft, arrowTop };\n};\n\nexport const getTooltipBoundary = (keepTooltipInside: string | Boolean) => {\n  // add viewport\n  let boundingBox = {\n    top: 0,\n    left: 0,\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight,\n  };\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    const selector = document.querySelector(keepTooltipInside);\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null)\n        throw new Error(\n          `${keepTooltipInside} selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value`\n        );\n    }\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nconst calculatePosition = (\n  triggerBounding: DOMRect,\n  ContentBounding: DOMRect,\n  position: PopupPosition | PopupPosition[],\n  arrow: boolean,\n  { offsetX, offsetY }: { offsetX: number; offsetY: number },\n  keepTooltipInside: string | boolean\n): CordsType => {\n  let bestCoords: CordsType = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)',\n  };\n  let i = 0;\n  const wrapperBox = getTooltipBoundary(keepTooltipInside);\n  let positions = Array.isArray(position) ? position : [position];\n\n  // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n  if (keepTooltipInside || Array.isArray(position))\n    positions = [...positions, ...POSITION_TYPES];\n\n  // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(\n      triggerBounding,\n      ContentBounding,\n      positions[i],\n      arrow,\n      { offsetX, offsetY }\n    );\n\n    const contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height,\n    };\n\n    if (\n      contentBox.top <= wrapperBox.top ||\n      contentBox.left <= wrapperBox.left ||\n      contentBox.top + contentBox.height >=\n        wrapperBox.top + wrapperBox.height ||\n      contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width\n    ) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nexport default calculatePosition;\n","import React, {\n  useState,\n  useRef,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n} from 'react';\nimport ReactDOM from 'react-dom';\nimport { PopupProps, PopupActions } from './types';\nimport {\n  useOnEscape,\n  useRepositionOnResize,\n  useOnClickOutside,\n  useTabbing,\n  useIsomorphicLayoutEffect,\n} from './hooks';\n\nimport './index.css';\n\nimport styles from './styles';\nimport calculatePosition from './Utils';\n\nlet popupIdCounter = 0;\n\nconst getRootPopup = () => {\n  let PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nexport const Popup = forwardRef<PopupActions, PopupProps>(\n  (\n    {\n      trigger = null,\n      onOpen = () => {},\n      onClose = () => {},\n      defaultOpen = false,\n      open = undefined,\n      disabled = false,\n      nested = false,\n      closeOnDocumentClick = true,\n      repositionOnResize = true,\n      closeOnEscape = true,\n      on = ['click'],\n      contentStyle = {},\n      arrowStyle = {},\n      overlayStyle = {},\n      className = '',\n      position = 'bottom center',\n      modal = false,\n      lockScroll = false,\n      arrow = true,\n      offsetX = 0,\n      offsetY = 0,\n      mouseEnterDelay = 100,\n      mouseLeaveDelay = 100,\n      keepTooltipInside = false,\n      children,\n    },\n    ref\n  ) => {\n    const [isOpen, setIsOpen] = useState<boolean>(open || defaultOpen);\n    const triggerRef = useRef<HTMLElement>(null);\n    const contentRef = useRef<HTMLElement>(null);\n    const arrowRef = useRef<HTMLDivElement>(null);\n    const focusedElBeforeOpen = useRef<Element | null>(null);\n    const popupId = useRef<string>(`popup-${++popupIdCounter}`);\n\n    const isModal = modal ? true : !trigger;\n    const timeOut = useRef<any>(0);\n\n    useIsomorphicLayoutEffect(() => {\n      if (isOpen) {\n        focusedElBeforeOpen.current = document.activeElement;\n        setPosition();\n        focusContentOnOpen(); // for accessibility\n        lockScrolll();\n      } else {\n        resetScroll();\n      }\n      return () => {\n        clearTimeout(timeOut.current);\n      };\n    }, [isOpen]);\n\n    // for uncontrolled popup we need to sync isOpen with open prop\n    useEffect(() => {\n      if (typeof open === 'boolean') {\n        if (open) openPopup();\n        else closePopup();\n      }\n    }, [open, disabled]);\n\n    const openPopup = (event?: React.SyntheticEvent) => {\n      if (isOpen || disabled) return;\n      setIsOpen(true);\n      setTimeout(() => onOpen(event), 0);\n    };\n\n    const closePopup = (\n      event?: React.SyntheticEvent | KeyboardEvent | TouchEvent | MouseEvent\n    ) => {\n      if (!isOpen || disabled) return;\n      setIsOpen(false);\n      if (isModal) (focusedElBeforeOpen.current as HTMLElement)?.focus();\n      setTimeout(() => onClose(event), 0);\n    };\n\n    const togglePopup = (event?: React.SyntheticEvent) => {\n      event?.stopPropagation();\n      if (!isOpen) openPopup(event);\n      else closePopup(event);\n    };\n\n    const onMouseEnter = (event?: React.SyntheticEvent) => {\n      clearTimeout(timeOut.current);\n      timeOut.current = setTimeout(() => openPopup(event), mouseEnterDelay);\n    };\n\n    const onContextMenu = (event?: React.SyntheticEvent) => {\n      event?.preventDefault();\n      togglePopup();\n    };\n\n    const onMouseLeave = (event?: React.SyntheticEvent) => {\n      clearTimeout(timeOut.current);\n      timeOut.current = setTimeout(() => closePopup(event), mouseLeaveDelay);\n    };\n\n    const lockScrolll = () => {\n      if (isModal && lockScroll)\n        document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n    };\n\n    const resetScroll = () => {\n      if (isModal && lockScroll)\n        document.getElementsByTagName('body')[0].style.overflow = 'auto';\n    };\n    const focusContentOnOpen = () => {\n      const focusableEls = contentRef?.current?.querySelectorAll(\n        'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]'\n      );\n      const firstEl = Array.prototype.slice.call(focusableEls)[0];\n      firstEl?.focus();\n    };\n\n    useImperativeHandle(ref, () => ({\n      open: () => {\n        openPopup();\n      },\n      close: () => {\n        closePopup();\n      },\n      toggle: () => {\n        togglePopup();\n      },\n    }));\n\n    // set Position\n    const setPosition = () => {\n      if (isModal || !isOpen) return;\n      if (!triggerRef?.current || !triggerRef?.current || !contentRef?.current)\n        return; /// show error as one of ref is undefined\n      const trigger = triggerRef.current.getBoundingClientRect();\n      const content = contentRef.current.getBoundingClientRect();\n\n      const cords = calculatePosition(\n        trigger,\n        content,\n        position,\n        arrow,\n        {\n          offsetX,\n          offsetY,\n        },\n        keepTooltipInside\n      );\n      contentRef.current.style.top = `${cords.top + window.scrollY}px`;\n      contentRef.current.style.left = `${cords.left + window.scrollX}px`;\n      if (arrow && !!arrowRef.current) {\n        arrowRef.current.style.transform = cords.transform;\n        arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n        arrowRef.current.style.setProperty(\n          '-webkit-transform',\n          cords.transform\n        );\n        arrowRef.current.style.top =\n          arrowStyle.top?.toString() || cords.arrowTop;\n        arrowRef.current.style.left =\n          arrowStyle.left?.toString() || cords.arrowLeft;\n      }\n    };\n    // hooks\n    useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n    useTabbing(contentRef, isOpen && isModal);\n    useRepositionOnResize(setPosition, repositionOnResize);\n    useOnClickOutside(\n      !!trigger ? [contentRef, triggerRef] : [contentRef],\n      closePopup,\n      closeOnDocumentClick && !nested\n    ); // we need to add a ne\n    // render the trigger element and add events\n    const renderTrigger = () => {\n      const triggerProps: any = {\n        key: 'T',\n        ref: triggerRef,\n        'aria-describedby': popupId.current,\n      };\n      const onAsArray = Array.isArray(on) ? on : [on];\n      for (let i = 0, len = onAsArray.length; i < len; i++) {\n        switch (onAsArray[i]) {\n          case 'click':\n            triggerProps.onClick = togglePopup;\n            break;\n          case 'right-click':\n            triggerProps.onContextMenu = onContextMenu;\n            break;\n          case 'hover':\n            triggerProps.onMouseEnter = onMouseEnter;\n            triggerProps.onMouseLeave = onMouseLeave;\n            break;\n          case 'focus':\n            triggerProps.onFocus = onMouseEnter;\n            triggerProps.onBlur = onMouseLeave;\n            break;\n          default:\n        }\n      }\n\n      if (typeof trigger === 'function') {\n        const comp = trigger(isOpen);\n        return !!trigger && React.cloneElement(comp, triggerProps);\n      }\n\n      return !!trigger && React.cloneElement(trigger, triggerProps);\n    };\n\n    const addWarperAction = () => {\n      const popupContentStyle = isModal\n        ? styles.popupContent.modal\n        : styles.popupContent.tooltip;\n\n      const childrenElementProps: any = {\n        className: `popup-content ${\n          className !== ''\n            ? className\n                .split(' ')\n                .map(c => `${c}-content`)\n                .join(' ')\n            : ''\n        }`,\n        style: {\n          ...popupContentStyle,\n          ...contentStyle,\n          pointerEvents: 'auto', //closeOnDocumentClick && nested ? 'auto' : 'none',\n        },\n        ref: contentRef,\n        onClick: (e: any) => {\n          e.stopPropagation();\n        },\n      };\n      if (!modal && on.indexOf('hover') >= 0) {\n        childrenElementProps.onMouseEnter = onMouseEnter;\n        childrenElementProps.onMouseLeave = onMouseLeave;\n      }\n      return childrenElementProps;\n    };\n\n    const renderContent = () => {\n      return (\n        <div\n          {...addWarperAction()}\n          key=\"C\"\n          role={isModal ? 'dialog' : 'tooltip'}\n          id={popupId.current}\n        >\n          {arrow && !isModal && (\n            <div ref={arrowRef} style={styles.popupArrow}>\n              <svg\n                data-testid=\"arrow\"\n                className={`popup-arrow ${\n                  className !== ''\n                    ? className\n                        .split(' ')\n                        .map(c => `${c}-arrow`)\n                        .join(' ')\n                    : ''\n                }`}\n                viewBox=\"0 0 32 16\"\n                style={{\n                  position: 'absolute',\n                  ...arrowStyle,\n                }}\n              >\n                <path d=\"M16 0l16 16H0z\" fill=\"currentcolor\" />\n              </svg>\n            </div>\n          )}\n          {children && typeof children === 'function'\n            ? children(closePopup, isOpen)\n            : children}\n        </div>\n      );\n    };\n\n    const overlay = !(on.indexOf('hover') >= 0);\n    const ovStyle = isModal ? styles.overlay.modal : styles.overlay.tooltip;\n\n    const content = [\n      overlay && (\n        <div\n          key=\"O\"\n          data-testid=\"overlay\"\n          data-popup={isModal ? 'modal' : 'tooltip'}\n          className={`popup-overlay ${\n            className !== ''\n              ? className\n                  .split(' ')\n                  .map(c => `${c}-overlay`)\n                  .join(' ')\n              : ''\n          }`}\n          style={{\n            ...ovStyle,\n            ...overlayStyle,\n            pointerEvents:\n              (closeOnDocumentClick && nested) || isModal ? 'auto' : 'none',\n          }}\n          onClick={closeOnDocumentClick && nested ? closePopup : undefined}\n          tabIndex={-1}\n        >\n          {isModal && renderContent()}\n        </div>\n      ),\n\n      !isModal && renderContent(),\n    ];\n\n    return (\n      <>\n        {renderTrigger()}\n        {isOpen && ReactDOM.createPortal(content, getRootPopup())}\n      </>\n    );\n  }\n);\n\nexport default Popup;\n"],"names":["Point","x","y","this","module","exports","prototype","clone","add","p","_add","sub","_sub","multByPoint","_multByPoint","divByPoint","_divByPoint","mult","k","_mult","div","_div","rotate","a","_rotate","rotateAround","_rotateAround","matMult","m","_matMult","unit","_unit","perp","_perp","round","_round","mag","Math","sqrt","equals","other","dist","distSqr","dx","dy","angle","atan2","angleTo","b","angleWith","angleWithSep","cos","sin","convert","Array","isArray","has","Object","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","listener","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","call","slice","getOwnPropertySymbols","concat","listeners","handlers","i","l","length","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","arguments","removeListener","undefined","apply","j","on","removeAllListeners","off","prefixed","LoaderStatus","equal","constructor","keys","RegExp","source","flags","valueOf","toString","key","DEFAULT_ID","Loader","apiKey","authReferrerPolicy","channel","client","id","language","libraries","mapIds","nonce","region","retries","url","version","CALLBACK","callbacks","done","loading","errors","instance","isEqual","options","Error","JSON","stringify","FAILURE","SUCCESS","LOADING","INITIALIZED","join","script","document","getElementById","remove","loadPromise","Promise","resolve","reject","loadCallback","err","error","window","google","execute","callback","createUrl","createElement","type","src","onerror","loadErrorCallback","bind","defer","async","head","appendChild","deleteScript","onerrorEvent","failed","reset","e","delay","console","log","setTimeout","setScript","__googleMapsCallback","forEach","cb","resetIfRetryingFailed","maps","warn","setCallback","style","width","height","left","top","margin","padding","position","GoogleMapMap","shouldComponentUpdate","n","render","React","ref","props","registerChild","Component","MarkerDispatcher","gmapInstance","_this","getChildren","children","getMousePosition","mouse_","getUpdateCounter","updateCounter_","dispose","omit","obj","rest","is","shallowEqual","objA","objB","keysA","keysB","mainStyle","backgroundColor","GoogleMapMarkers","_getState","dispatcher","updateCounter","_onChangeHandler","dimensionsCache_","prevChildCount","state","setState","_onMouseChangeHandler","_onChildClick","onChildClick","hoverChildProps_","hoverKey_","_onChildMouseDown","onChildMouseDown","_onChildMouseEnter","hoverKey","childProps","onChildMouseEnter","_onChildMouseLeave","onChildMouseLeave","_onMouseAllow","value","allowMouse_","_onMouseChangeHandlerRaf","mp","distances","hoverDistance","getHoverDistance","child","childIndex","latLng","lat","lng","childKey","distanceToMouse","sort","_getDimensions","componentDidMount","nextProps","nextState","experimental","componentWillUnmount","mainElementStyle","markers","$geoService","_this2","geoService","$onMouseAllow","$prerender","prerender","pt","insideMapPanes","fromLatLngToDivPixel","fromLatLngToCenterPixel","stylePtPos","seLatLng","seLat","seLng","sePt","containerPt","fromLatLngToContainerPixel","className","$markerHolderClassName","$hover","$getDimensions","$dimensionKey","propTypes","PropTypes","defaultProps","loader_","loadPromise_","resolveCustomPromise_","_customPromise","bootstrapURLKeys","heatmapLibrary","includes","restKeys","load","then","wrap","min","max","d","LatLng","isNaN","Transform","tileSize","minZoom","maxZoom","_minZoom","_maxZoom","latRange","zoom","center","zoomScale","pow","scaleZoom","scale","LN2","project","latlng","worldSize","lngX","latY","unproject","point","yLat","xLng","lon","o","PI","tan","atan","exp","locationPoint","centerPoint","pointLocation","p2","get","set","bearing","_zoom","zoomV","tileZoom","floor","zoomFraction","Geo","hasSize_","hasView_","transform_","setView","t","setViewSize","setMapCanvasProjection","mapCanvasProjection","maps_","mapCanvasProjection_","canProject","hasSize","ptLatLng","fromContainerPixelToLatLng","ptXY","ptxy","ptRes","getWidth","getHeight","getZoom","getCenter","getBounds","margins","roundFactor","bndT","bndR","bndB","bndL","topLeftCorner","bottomRightCorner","res","map","r","raf","requestAnimationFrame","nativeRaf","webkitRequestAnimationFrame","mozRequestAnimationFrame","log2","pick","reduce","result","isEmpty","val","objectToString","isNumber","detectBrowserResult_","detectBrowser","navigator","isExplorer","userAgent","indexOf","isFirefox","isOpera","toLowerCase","isChrome","isSafari","fnToString","Function","isPlainObject","proto","getPrototypeOf","addPassiveEventListener","element","eventName","func","capture","addEventListener","passiveSupported","defineProperty","removeEventListener","passive","_window","canUseDOM","self","cancel","attachEvent","stylesCreated","requestFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resetTriggers","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","offsetWidth","offsetHeight","scrollListener","__resizeRAF__","__resizeLast__","__resizeListeners__","animation","keyframeprefix","animationstartevent","domPrefixes","split","startEvents","elm","animationName","animationstring","animationKeyframes","animationStyle","IS_REACT_16","ReactDOM","createPortal","latLng2Obj","_checkMinZoom","GoogleMap","_getMinZoom","geoService_","tilesPerWidth","ceil","tilesPerHeight","maxTilesPerDim","_computeMinZoom","_mapDomResizeCallback","resetSizeOnIdle_","originalCenter","defaultCenter","currentCenter","map_","trigger","setCenter","resetBoundsOnResize","_setLayers","layerTypes","layerType","layers_","setMap","_renderPortal","_getHoverDistance","markersDispatcher_","_initMap","initialized_","propsCenter","defaultZoom","_onBoundsChanged","googleMapLoader","mounted_","centerLatLng","propsOptions","heatmap","positions","assign","visualization","HeatmapLayer","data","acc","weight","location","option","mapPlainObjects","draggableOptions","draggable","minZoom_","preMapOptions","overviewMapControl","streetViewControl","rotateControl","mapTypeControl","styles","featureType","elementType","stylers","visibility","defaultDraggableOption_","mapOptions","Map","googleMapDom_","versionMatch","match","mapsVersion","Number","this_","overlay","OverlayView","onAdd","K_MAX_WIDTH","screen","K_MAX_HEIGHT","overlayViewDivStyle","property","getPanes","overlayMouseTarget","getProjection","onRemove","renderedOverlay","draw","debounced","googleApiLoadedCalled_","_onGoogleApiLoaded","_onChildMouseMove","fireMouseEventOnIdle_","overlay_","onTilesLoaded","_onTilesLoaded","zoomAnimationInProgress_","_onZoomAnimationStart","Date","getTime","zoomControlClickTime_","_setViewSize","currMinZoom","setOptions","_onZoomAnimationEnd","dragTime_","mouseInMap_","_onDrag","idleListener","_onDragEnd","_onMapTypeIdChange","getMapTypeId","onGoogleApiLoaded","onDrag","onDragEnd","onMapTypeIdChange","onZoomAnimationStart","onZoomAnimationEnd","childMouseDownArgs_","_onChildMouseUp","onChildMouseUp","childMouseUpTime_","onChildMouseMove","fullscreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement","innerWidth","innerHeight","mapDom","clientWidth","clientHeight","_onWindowResize","_onMapMouseMove","currTime","mouseMoveTime_","boundingRect_","currentTarget","getBoundingClientRect","mousePosX","clientX","mousePosY","clientY","_onClick","onClick","_onMapClick","_onMapMouseDownNative","_onMapMouseDown","_onMapMouseDownCapture","_onKeyDownCapture","_isCenterDefined","callExtBoundsChange","gmC","onChange","onBoundsChange","bounds","arrayA","arrayB","eps","abs","prevBounds_","marginBounds","centerIsObject_","nw","se","sw","ne","size","_registerChild","parentNode","tempParentDiv","getComputedStyle","css","getElementsByTagName","styleSheet","cssText","createTextNode","innerHTML","componentDidUpdate","prevProps","_this3","prevCenter","panTo","setZoom","layerKey","setData","detachEvent","splice","removeChild","shouldUnregisterMapOnUnmount","scrollwheel","clearInstanceListeners","mapMarkerPrerender","GoogleMapMarkersPrerender","onMouseMove","onMouseDownCapture","yesIWantToUseGoogleMapApiInternals","mousePos","factory","modules","__w_pdfjs_require__","enumerable","require","isNodeJS","PDFNodeStream","setPDFNetworkStreamFactory","params","PDFFetchStream","PDFNetworkStream","isValidFetchUrl","target","rel","enabled","assert","urlNullRemoved","removeNullCharacters","link","title","targetStr","LinkTarget","NONE","SELF","BLANK","PARENT","TOP","DEFAULT_LINK_REL","anchor","query","end","substring","lastIndexOf","documentElement","details","SVG_NS","BaseCanvasFactory","unreachable","canvasAndContext","canvas","destroy","DOMCanvasFactory","ownerDocument","globalThis","_document","getContext","BaseCMapReaderFactory","baseUrl","isCompressed","compressionType","CMapCompressionType","BINARY","_fetchData","catch","reason","DOMCMapReaderFactory","isFetchSupported","baseURI","fetch","response","ok","statusText","Uint8Array","arrayBuffer","cMapData","stringToBytes","text","request","XMLHttpRequest","readyState","DONE","status","responseText","DOMSVGFactory","svg","createElementNS","PageViewport","viewBox","rotation","offsetX","offsetY","dontFlip","rotateD","offsetCanvasY","centerX","centerY","rotateA","rotateB","rotateC","offsetCanvasX","convertToViewportPoint","_util","transform","convertToViewportRectangle","topLeft","rect","bottomRight","convertToPdfPoint","RenderingCancelledException","msg","pdfDateStringRegex","StatTimer","time","started","now","timeEnd","start","outBuf","longest","times","duration","Response","ReadableStream","protocol","URL","ex","PDFDateString","input","isString","matches","exec","year","parseInt","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","UTC","arr","resultLength","arrayByteLength","pos","item","itemLength","byteLength","bytes","MAX_ARGUMENT_COUNT","String","fromCharCode","strBuf","chunkEnd","chunk","subarray","capability","isSettled","str","replace","date","buffer","getUTCFullYear","padStart","getUTCHours","getUTCMinutes","getUTCSeconds","verbosity","VerbosityLevel","INFOS","v","arr1","arr2","every","index","base","origin","otherUrl","absoluteUrl","_isValidProtocol","NullCharactersRegExp","isInteger","level","charCodeAt","code","PDFStringTranslateTable","charAt","decodeURIComponent","escape","unescape","encodeURIComponent","PRINT","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","MARKED","REVIEW","UNMARKED","ACCEPTED","REJECTED","CANCELLED","COMPLETED","GROUP","REPLY","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","SOLID","DASHED","BEVELED","INSET","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RLX","TYPE1","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","ERRORS","WARNINGS","STREAM","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","unknown","forms","javaScript","smask","shadingPattern","font","errorTilingPattern","errorExtGState","errorXObject","errorFontLoadType3","errorFontState","errorFontMissing","errorFontTranslate","errorColorSpace","errorOperatorList","errorFontToUnicode","errorFontLoadNative","errorFontGetPath","errorMarkedContent","NEED_PASSWORD","INCORRECT_PASSWORD","cond","configurable","writable","BaseException","message","PasswordException","UnknownErrorException","InvalidPDFException","MissingPDFException","UnexpectedResponseException","FormatError","AbortException","IsLittleEndianCached","shadow","buffer8","Uint32Array","isLittleEndian","IsEvalSupportedCached","isEvalSupported","rgbBuf","Util","g","m1","m2","p1","applyTransform","p3","p4","transpose","c","first","sx","sy","orderedX","rect1","rect2","compare","orderedY","normalizeRect","createObjectURL","digits","contentType","forceDataSchema","blob","Blob","ii","b1","b2","b3","d1","d2","d3","d4","process","versions","electron","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","DefaultCanvasFactory","_is_node","_display_utils","DefaultCMapReaderFactory","createPDFNetworkStream","pdfNetworkStreamFactory","task","PDFDocumentLoadingTask","isArrayBuffer","PDFDataRangeTransport","range","rangeTransport","worker","pdfBytes","href","rangeChunkSize","CMapReaderFactory","stopAtErrors","fontExtraProperties","pdfBug","maxImageSize","disableFontFace","apiCompatibilityParams","disableRange","disableStream","disableAutoFetch","setVerbosityLevel","workerParams","port","GlobalWorkerOptions","workerPort","PDFWorker","fromPort","docId","destroyed","workerIdPromise","_fetchDocument","networkStreamPromise","networkStream","initialData","progressiveDone","httpHeaders","withCredentials","all","workerId","messageHandler","postMessageTransfers","transport","WorkerTransport","_capability","pdfDataRangeTransport","apiVersion","password","docBaseUrl","ignoreErrors","nextDocumentId","promise","_transport","_worker","addRangeListener","addProgressListener","addProgressiveReadListener","addProgressiveDoneListener","onDataRange","_rangeListeners","onDataProgress","_progressListeners","total","onDataProgressiveRead","_progressiveReadListeners","onDataProgressiveDone","_progressiveDoneListeners","transportReady","requestDataRange","abort","PDFDocumentProxy","pdfInfo","_annotation_storage","_pdfInfo","numPages","fingerprint","getPage","pageNumber","getPageIndex","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getJavaScript","getOutline","getOptionalContentConfig","getPermissions","getMetadata","getData","getDownloadInfo","downloadInfoCapability","getStats","cleanup","startCleanup","loadingTask","loadingParams","saveDocument","annotationStorage","PDFPageProxy","pageIndex","pageInfo","commonObjs","PDFObjects","_pageIndex","_pageInfo","userUnit","view","getViewport","getAnnotations","intent","annotationsPromise","annotationsIntent","canvasContext","viewport","enableWebGL","renderInteractiveForms","imageLayer","canvasFactory","background","optionalContentConfigPromise","_stats","renderingIntent","intentState","_intentStates","streamReaderCancelTimeout","canvasFactoryInstance","_ownerDocument","webGLContext","enable","displayReadyCapability","fnArray","argsArray","lastChunk","getAll","complete","renderTasks","internalRenderTask","_tryCleanup","InternalRenderTask","objs","operatorList","useRequestAnimationFrame","_pdfBug","renderTask","transparency","optionalContentConfig","pendingCleanup","operatorListChanged","getOperatorList","opListTask","opListReadCapability","streamTextContent","normalizeWhitespace","disableCombineTextItems","TEXT_CONTENT_CHUNK_SIZE","sendWithStream","combineTextItems","highWaterMark","textContent","items","getTextContent","readableStream","reader","getReader","pump","_destroy","waitOn","force","completed","clear","resetStats","values","_startRenderPage","_renderPageChunk","operatorListChunk","_pumpOperatorList","_abortOperatorList","streamReader","LoopbackPort","postMessage","_defer","cloned","WeakMap","transfers","byteOffset","desc","getOwnPropertyDescriptor","cloneValue","_listeners","terminate","PDFWorkerClosure","pdfWorkerPorts","isWorkerDisabled","fallbackWorkerSrc","nextFakeWorkerId","fakeWorkerCapability","pdfjsFilePath","currentScript","workerSrc","deprecated","mainWorkerMessageHandler","pdfjsWorker","WorkerMessageHandler","loader","getMainThreadWorkerMessageHandler","eval","getWorkerSrc","loadScript","wrapper","_initialize","_readyCapability","_port","_messageHandler","_initializeFromPort","Worker","isSameOrigin","createCDNWrapper","terminateEarly","onWorkerError","_setupFakeWorker","_webWorker","supportTransfers","sendTest","testObj","info","setupFakeWorkerGlobal","workerHandler","onUnsupportedFeature","_onUnsupportedFeature","cMapUrl","cMapPacked","setupMessageHandler","destroyCapability","_passwordCapability","page","terminated","sendWithPromise","_networkStream","getFullReader","loaded","sink","close","readyReason","headersCapability","fullReader","_fullReader","isStreamingSupported","isRangeSupported","onProgress","_lastProgress","contentLength","rangeReader","begin","exception","onPassword","exportedData","_params","exportedError","fontRegistry","FontInspector","registerFont","imageData","pageProxy","fetched","builtInCMap","featureId","_numPages","pagePromises","filename","resetModified","results","metadata","contentDispositionFilename","_ensureObj","_objs","objId","resolved","RenderTask","_internalRenderTask","canvasInRendering","WeakSet","_continue","_scheduleNext","_next","initializeGraphics","cancelled","_canvas","StepperManager","stepper","getNextBreakPoint","graphicsReadyCallback","gfx","endDrawing","graphicsReady","running","_continueBound","onContinue","_scheduleNextBound","_useRequestAnimationFrame","executeOperatorList","operatorListIdx","build","FontLoader","BaseFontLoader","addNativeFontFace","nativeFontFace","insertRule","styleElement","sheet","cssRules","attached","missingFile","isFontLoadingAPISupported","createNativeFontFace","UNSUPPORTED_FEATURES","family","rule","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","supported","fonts","_prepareFontLoadEvent","requests","nextRequestId","loadingContext","otherRequest","shift","atob","offset","s","insert","ctx","called","loadTestFontId","_loadTestFont","XXXX_VALUE","checksum","int32","spliceString","string32","btoa","loadedName","span","getImageData","isFontReady","FontFaceObject","translatedData","FontFace","bytesToString","mimetype","getPathGenerator","compiledGlyphs","character","current","cmds","js","cmd","NodeCanvasFactory","NodeCMapReaderFactory","__non_webpack_require__","createCanvas","fs","AnnotationStorage","getOrCreateValue","_storage","defaultValue","setValue","_setModified","fromEntries","_modified","onSetModified","onResetModified","compatibilityParams","freeze","MAX_GROUP_SIZE","MIN_WIDTH_FACTOR","FULL_CHUNK_HEIGHT","mozCurrentTransform","translate","setTransform","_transformMatrix","f","ad_bc","bc_ad","old","_originalSave","prev","_transformStack","pop","_originalRestore","cosValue","sinValue","CachedCanvases","getCanvas","canvasEntry","cache","addContextCurrentTransform","CanvasExtraState","TextRenderingMode","setCurrentPoint","CanvasGraphics","canvasCtx","transferMaps","ImageData","imgData","destPos","elemsInThisChunk","transferMapGray","partialChunkHeight","fullChunks","totalChunks","chunkImgData","createImageData","srcPos","dest","transferMapRed","transferMapGreen","transferMapBlue","kind","ImageKind","srcLength","dest32","dest32DataLength","fullSrcDiff","white","black","thisChunkHeight","srcDiff","kEnd","kEndUnrolled","mask","srcByte","hasTransferMaps","elem","properties","sourceCtx","destCtx","setLineDash","getLineDash","lineDashOffset","alpha","r0","g0","b0","alpha_","maskData","transferMap","layerData","maskCtx","backdrop","isEnabled","composed","composeSMask","layer","layerCtx","subtype","composeFn","hasBackdrop","composeSMaskLuminosity","composeSMaskAlpha","chunkSize","row","chunkHeight","composeSMaskBackdrop","genericComposeSMask","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","beginDrawing","transparentCanvas","cachedCanvases","compositeCtx","resetCtxToDefault","beginLayout","executionStartIdx","argsArrayLen","fnId","chunkOperations","continueCallback","endTime","steps","nextBreakPoint","OPS","depObjId","objsPool","startsWith","activeSMask","endSMaskGroup","endLayout","limit","dashArray","dashPhase","states","stateStack","suspendSMaskGroup","beginSMaskGroup","drawnWidth","drawnHeight","cacheId","groupLevel","scratchCanvas","currentCtx","currentTransform","groupCtx","scaleY","mozCurrentTransformInverse","copyCtxState","groupStack","deltaTransform","resumeSMaskGroup","resumeSMaskCtx","ops","lineWidth","getSinglePixelWidth","xw","yh","consumePath","strokeColor","strokeAlpha","contentVisible","getPattern","fillAlpha","fillColor","needRestore","patternFill","baseTransform","pendingEOFill","lineX","lineY","paths","pendingTextPaths","beginPath","path","fontSize","spacing","leading","fontRefName","fontObj","fontMatrix","isType3Font","bold","italic","typeface","fallbackName","browserFontSize","mode","rise","paintChar","addToPath","textRenderingMode","fontSizeScale","fillStrokeMode","isAddToPathSet","patternTransform","glyphs","showType3Text","charSpacing","wordSpacing","fontDirection","textHScale","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","pattern","textMatrix","textRise","textMatrixScale","glyph","isNum","scaledAccentY","vy","restoreNeeded","fontChar","accent","vmetric","vx","scaledX","scaledY","remeasure","measuredWidth","measureText","isFontSubpixelAAEnabled","characterScaleX","isInFont","scaledAccentX","spacingLength","charProcOperatorList","operatorListId","xWidth","yWidth","urx","llx","ury","lly","getColorN_Pattern","IR","color","canvasGraphicsFactory","createCanvasGraphics","getShadingPatternFromIR","patternIR","inv","bl","br","ul","ur","x0","y0","x1","y1","matrix","bbox","baseTransformStack","group","isolated","knockout","canvasBounds","scaleX","smaskCounter","startTransformInverse","imageSmoothingEnabled","smaskStack","img","isPatternFill","processingType3","compiled","width1","points","POINT_TYPES","lineSize","data0","count","j0","sum","Int32Array","outlines","pp","coords","p0","step","kk","ll","compileType3Glyph","maskCanvas","putBinaryImageMask","skewX","skewY","images","image","w","h","tmpCanvas","widthScale","heightScale","HTMLElement","imgToPaint","tmpCtx","putBinaryImageData","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","getCanvasPosition","entry","tag","visible","isVisible","isContentVisible","pendingClip","_cachedGetSinglePixelWidth","inverse","markedContentStack","op","shadingIR","ShadingIRs","raw","fromIR","Path2D","colorStops","r1","grad","applyBoundingBox","createLinearGradient","createRadialGradient","createMeshCanvas","tmp","colors","rowSize","c1","c2","c3","x2","y2","x3","y3","cab","cbb","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","xb","cbr","cbg","x1_","x2_","ps","figure","cs","verticesPerRow","rows","cols","q","drawTriangle","boundsWidth","boundsHeight","combinesScale","paddedWidth","BORDER_SIZE","paddedHeight","drawFigures","figures","drawFigure","owner","matrixScale","temporaryPatternCanvas","createPattern","TilingPattern","PaintType","createPatternCanvas","xstep","ystep","paintType","tilingType","curMatrixScale","combinedScale","dimx","getSizeAndScale","dimy","graphics","maxSize","realOutputSize","clipBbox","bboxWidth","bboxHeight","setFillAndStrokeStyleToContext","fillStyle","strokeStyle","cssColor","CallbackKind","StreamKind","MessageHandler","sourceName","targetName","comObj","stream","callbackId","wrapReason","action","cbSourceName","cbTargetName","streamId","_onComObjOnMessage","ah","actionHandler","actionName","handler","send","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancelCapability","queueingStrategy","_createStreamSink","streamSink","enqueue","isCancelled","lastDesiredSize","sinkCapability","streamSinks","onPull","onCancel","ready","success","_processStreamMessage","streamControllers","allSettled","_postMessage","Metadata","_repair","xmlDocument","_xml_parser","parseFromString","codes","chars","_parse","rdf","nodeName","firstChild","nextSibling","hasChildNodes","childNodes","jj","trim","_metadataMap","XMLParserErrorCode","ch","XMLParserBase","_resolveEntities","entity","_parseContent","attributes","isWhitespace","skipWs","attrValue","attrName","attrEndChar","attrEndIndex","parsed","_parseProcessingInstruction","attrStart","parseXml","pi","q2","complexDoctype","doctypeContent","content","onResolveEntity","onPi","onComment","onCdata","onDoctype","onText","onBeginElement","onEndElement","onError","SimpleDOMNode","nodeValue","SimpleXMLParser","_errorCode","_currentFragment","isWhitespaceString","node","_stack","lastElement","OptionalContentGroup","OptionalContentConfig","creator","order","groups","baseState","_groups","expression","policy","ids","setVisibility","getOrder","_order","from","getGroups","getGroup","PDFDataTransportStream","_onProgressiveDone","_onReceiveData","_fullRequestReader","found","_rangeReaders","some","_begin","_loaded","_onProgress","firstReader","_removeRangeReader","queuedChunks","_queuedChunks","PDFDataTransportStreamReader","_progressiveDone","getRangeReader","_progressiveDataLength","PDFDataTransportStreamRangeReader","cancelAllRequests","readers","_enqueue","_done","_requests","requestCapability","_headersReady","_filename","_stream","_isRangeSupported","_isStreamingSupported","_contentLength","requestsCapability","_queuedChunk","WebGLContext","_enabled","WebGLUtils","tryInitGL","shader","gl","createShader","shaderType","getShaderParameter","COMPILE_STATUS","errorMsg","getShaderInfoLog","loadShader","VERTEX_SHADER","FRAGMENT_SHADER","program","createProgram","shaders","getProgramParameter","LINK_STATUS","getProgramInfoLog","textureId","texture","createTexture","CLAMP_TO_EDGE","NEAREST","currentCanvas","currentGL","premultipliedalpha","smaskCache","figuresCache","generateGL","createVertexShader","createFragmentShader","getUniformLocation","getAttribLocation","texCoordLocation","texLayerLocation","texMaskLocation","texCoordBuffer","createBuffer","Float32Array","STATIC_DRAW","initSmaskGL","drawingBufferHeight","TEXTURE0","maskTexture","TEXTURE1","positionLocation","BLEND","ONE_MINUS_SRC_ALPHA","COLOR_BUFFER_BIT","flush","initFiguresGL","coordsMap","colorsMap","pIndex","cIndex","col","coordsBuffer","colorsBuffer","colorLocation","AnnotationElementFactory","parameters","annotationType","AnnotationType","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","isRenderable","ignoreBorder","linkService","downloadManager","imageResourcesPath","svgFactory","_createContainer","container","borderStyle","AnnotationBorderStyleType","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","_createPopup","popup","PopupElement","modificationDate","contents","hideWrapper","addLinkAttributes","newWindow","externalLinkTarget","externalLinkRel","externalLinkEnabled","_bindLink","getDestinationHash","destination","_bindNamedAction","getAnchorUrl","hasPopup","hasAppearance","fieldValue","storage","multiLine","readOnly","fieldName","maxLen","comb","combWidth","textAlignment","_setTextStyle","fontFamily","checked","buttonValue","getElementsByName","radio","getAttribute","selectElement","combo","multiSelect","optionElement","displayValue","exportValue","parentType","selector","parentId","parentElement","querySelector","parentLeft","parseFloat","parentWidth","BACKGROUND_ENLIGHT","dateObject","toLocaleDateString","toLocaleTimeString","_formatContents","_toggle","_show","_hide","lines","line","pinned","pin","hideElement","hasAttribute","unpin","lineCoordinates","borderWidth","square","circle","containerClassName","vertices","coordinate","polyline","svgElementName","inkLists","inkList","file","getFilenameFromUrl","eventBus","stringToPDFString","_download","AnnotationLayer","sortedAnnotations","popupAnnotations","annotations","renderTextLayer","NonWhitespaceRegexp","textDiv","textDivProperties","canvasWidth","originalTransform","paddingBottom","paddingLeft","paddingRight","paddingTop","geom","test","tx","_viewport","fontName","fontHeight","fontAscent","ascent","descent","_fontInspectorEnabled","shouldScaleText","absScaleX","absScaleY","_textContentStream","_enhanceTextSelection","angleCos","angleSin","divWidth","divHeight","right","bottom","_canceled","textDivs","_textDivs","textDivsLength","ts","_bounds","expanded","boxes","box","x1New","x2New","expandBoundsLTR","expandBounds","divProperties","_textDivProperties","Float64Array","boxScale","findPositiveMin","horizon","Infinity","boundary","affectedBoundary","maxXNew","xNew","horizonPart","changedHorizon","lastBoundary","useBoundary","used","textContentStream","textContentItemsStr","enhanceTextSelection","_layoutTextCtx","TextLayerRenderTask","_reader","_renderTimer","_processItems","appendText","styleCache","_layoutText","_layoutTextLastFontFamily","_render","timeout","_textContent","textItems","textStyles","expandTextDivs","expandDivs","_renderingDone","transformBuf","paddingBuf","divProps","renderParameters","SVGGraphics","pf","toFixed","pm","acos","SVG_DEFAULTS","fontStyle","fontWeight","convertImgDataToPng","PNG_HEADER","crcTable","body","crc","crc32","literals","maxBlockLength","deflateBlocks","idat","adler","adler32","colorType","bitDepth","offsetLiterals","offsetBytes","isMask","ihdr","deflateSyncUncompressed","Buffer","output","deflateSync","pngLength","CHUNK_WRAPPER_SIZE","writePngChunk","encode","SVGExtraState","clipCount","maskCount","shadingCount","transformMatrix","transformStack","extraStack","loadDependencies","dependencies","getSVG","svgElement","convertOpList","operatorIdMapping","_operatorIdMapping","opList","opTree","opListElement","opListToTree","executeOpTree","opTreeElement","lineMatrix","tspan","xcoords","ycoords","lineWidthScale","txtElement","addFontStyle","cssStyle","embedFonts","embeddedFonts","setStrokeAlpha","setFillAlpha","_makeColorN_Pattern","_makeShadingPattern","_makeTilingPattern","tilingId","tx0","ty0","tx1","ty1","txstep","tystep","tiling","gradient","shadingId","point0","point1","focalPoint","circlePoint","focalRadius","circleRadius","colorStop","stop","getAttributeNS","clipId","clipPath","clipElement","cloneNode","activeClipUrl","_setStrokeAttributes","miterLimit","lineCap","lineJoin","imgSrc","cliprect","imgEl","maskId","definitions","rootGroup","_ensureClipGroup","clipGroup","_ensureTransformGroup","tgrp","http","https","fileUriRegex","parsedUrl","parse","sourceUrl","host","parseUrl","isHttp","isFsUrl","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","_rangeRequestReaders","BaseFullReader","_rangeChunkSize","_disableRange","_headersCapability","_readCapability","_storedError","_readableStream","read","_error","_setReadableStream","BaseRangeReader","auth","hostname","method","headers","handleResponse","statusCode","_url","getResponseHeader","validateRangeRequestCapabilities","allowRangeRequests","suggestedLength","extractFilenameFromHeader","createRequestOptions","stat","createReadStream","contentDisposition","getFilenameFromContentDispositionHeader","returnValues","needsEncodingFixup","toParamRegExp","rfc2616unquote","fixupEncoding","rfc2047decode","rfc5987decode","iter","contentDispositionStr","quot","part","parts","rfc2231getparam","decoder","TextDecoder","encoding","fatal","decode","textdecode","quotindex","encodingend","extvalue","charset","hex","NetworkManager","getXhr","requestRange","prop","requestFull","xhr","xhrId","currXhrId","pendingRequest","pendingRequests","onStateChange","onHeadersReceived","onDone","xhrStatus","expectedStatus","getArrayBuffer","rangeHeader","getRequestXhr","isPendingRequest","abortRequest","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","_manager","_source","PDFNetworkStreamRangeRequestReader","manager","_onHeadersReceived","_onDone","_onError","fullRequestXhrId","_fullRequestId","fullRequestXhr","_cachedChunks","createResponseStatusError","lengthComputable","_headersReceivedCapability","_close","onClosed","_requestId","signal","abortController","credentials","redirect","Headers","PDFFetchStreamReader","PDFFetchStreamRangeReader","AbortController","createHeaders","createFetchOptions","validateResponseStatus","_abortController","keyboardEvents","mouseEvents","touchEvents","allEvents","getArgs","eventProps","makeCancellablePromise","wrappedPromise","mergeClassNames","classList","arg","filter","createContext","Message","_ref","isRequired","SimpleLinkService","_classCallCheck","_createClass","pdfDocument","pdfViewer","_goToDestination","_asyncToGenerator","_regeneratorRuntime","_callee","destRef","_context","next","sent","t0","pagesCount","scrollPageIntoView","_x","goToDestination","currentPageNumber","isBrowser","isLocalFileSystem","isDefined","variable","isProvided","ArrayBuffer","isBlob","isFile","File","isDataURI","dataURItoByteString","dataURI","_dataURI$split","_dataURI$split2","_slicedToArray","headersString","dataString","consoleOnDev","warnOnDev","_len2","_key2","errorOnDev","_len3","_key3","displayCORSWarning","cancelRunningTask","runningTask","makePageCallback","isCancelException","loadFromFile","FileReader","onload","NOT_FOUND_ERR","NOT_READABLE_ERR","SECURITY_ERR","ABORT_ERR","readAsArrayBuffer","_toConsumableArray","fileTypes","isClassName","isLinkService","LinkService","isPage","fontLoader","isPdf","isRef","isRenderMode","isRotate","ownKeys","object","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","pdfjs","Document","_PureComponent","_inherits","_super","_len","_key","_assertThisInitialized","pdf","onItemClick","pages","scrollIntoView","_this$props","onLoadProgress","cancellable","findDocumentSource","onSourceSuccess","onSourceError","abrupt","prevState","makeCancellable","onLoadSuccess","t1","onLoadError","setViewer","viewer","documentInstance","setDocument","_callee2","fileByteString","otherParams","_fileByteString","_context2","_typeof","_objectWithoutProperties","loadDocument","setupLinkService","DocumentContext","childContext","noData","renderChildren","_this$props2","inputRef","_extends","renderContent","registerPage","unregisterPage","_this$props3","renderMode","makeEventProps","PureComponent","PasswordResponses","prompt","isFunctionOrNode","isFileProp","Ref","num","gen","OutlineItemInternal","_destination","_callee3","_context3","_ref4","_callee4","_context4","preventDefault","getPageNumber","otherProps","subitems","subitem","subitemIndex","renderSubitems","isDestination","documentContext","OutlineContext","Consumer","outlineContext","OutlineInternal","outline","_ref2","loadOutline","itemIndex","OutlineItem","Provider","renderOutline","mergeRefs","inputRefs","filteredInputRefs","Boolean","PageCanvasInternal","renderer","onRenderSuccess","onRenderError","canvasLayer","_assertThisInitialize2","renderViewport","renderContext","cancelRenderingTask","drawPageOnCanvas","canvasRef","dir","display","userSelect","_this$props4","pixelRatio","devicePixelRatio","_this$props5","PageCanvas","PageContext","PageSVGInternal","svgGfx","_this$viewport","setAttribute","renderSVG","_this$viewport2","drawPageOnContainer","overflow","PageSVG","TextLayerItemInternal","sideways","alignTextItem","_getFontData","_alignTextItem","fontData","fallbackFontName","targetWidth","actualWidth","getFontData","getElementWidth","WebkitTransform","customTextRenderer","transformOrigin","whiteSpace","pointerEvents","unrotatedViewport","defaultSideways","_transform","fontHeightPx","fontWidthPx","_transform2","_viewport$viewBox","yMin","yMax","_transform3","xMin","TextLayerItem","TextLayerInternal","_yield$cancellable$pr","onGetTextSuccess","onGetTextError","loadTextItems","textItem","renderTextItems","TextLayer","AnnotationLayerInternal","onGetAnnotationsSuccess","onGetAnnotationsError","onRenderAnnotationLayerSuccess","onRenderAnnotationLayerError","loadAnnotations","annotationLayer","renderAnnotationLayer","pageContext","PageInternal","loadPage","pageKeyNoScale","pageKey","renderMainLayer","pageScale","scaleWithDefault","Page","propName","componentName","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","Style","popupContent","tooltip","zIndex","modal","popupArrow","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","CenterTop","CenterLeft","arrowTop","arrowLeft","calculatePosition","keepTooltipInside","bestCoords","wrapperBox","boundingBox","getTooltipBoundary","contentBox","popupIdCounter","Popup","forwardRef","_ref$trigger","onOpen","_ref$onOpen","onClose","_ref$onClose","defaultOpen","_ref$defaultOpen","open","disabled","_ref$disabled","nested","_ref$nested","closeOnDocumentClick","_ref$closeOnDocumentC","repositionOnResize","_ref$repositionOnResi","closeOnEscape","_ref$closeOnEscape","_ref$on","contentStyle","_ref$contentStyle","arrowStyle","_ref$arrowStyle","overlayStyle","_ref$overlayStyle","_ref$className","_ref$position","_ref$modal","lockScroll","_ref$lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","mouseEnterDelay","_ref$mouseEnterDelay","mouseLeaveDelay","_ref$mouseLeaveDelay","_ref$keepTooltipInsid","useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","activeElement","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","focus","togglePopup","stopPropagation","onMouseEnter","onContextMenu","onMouseLeave","focusableEls","_contentRef$current","querySelectorAll","firstEl","useImperativeHandle","toggle","active","cords","scrollY","scrollX","setProperty","keyCode","els","firstFocusableEl","lastFocusableEl","shiftKey","useTabbing","useRepositionOnResize","refs","contains","useOnClickOutside","popupContentStyle","childrenElementProps","addWarperAction","role","ovStyle","tabIndex","triggerProps","onAsArray","onFocus","onBlur","comp","renderTrigger","PopupRoot","getRootPopup"],"sourceRoot":""}