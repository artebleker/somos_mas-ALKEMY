{"version":3,"file":"static/js/715.e2972e25.chunk.js","mappings":"wNA6GA,UAvGkB,WACjB,IAAMA,GAAUC,EAAAA,EAAAA,MAChB,OACC,oBAASC,UAAU,gBAAnB,UACC,SAAC,KAAD,CACCC,cAAe,CACdC,MAAO,GACPC,SAAU,IAEXC,SAAQ,mCAAE,kGAASF,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,UAAcE,EAA9B,EAA8BA,aAA9B,mBAGWC,EAAAA,EAAAA,IAAU,CAAEJ,MAAAA,EAAOC,SAAAA,IAH9B,OAGFI,EAHE,QAIRC,EAAAA,EAAAA,GAAU,CACTC,KAAM,UACNC,MAAO,kBAGRC,OAAOC,aAAaC,QAAQ,QAASN,EAAKO,KAAKC,OACpB,IAA3BR,EAAKO,KAAKP,KAAKS,SAAiBlB,EAAQmB,KAAK,KAVrC,mDAYRT,EAAAA,EAAAA,GAAU,CACTC,KAAK,EAAD,GACJC,MAAO,qBACPQ,QACC,4DAhBM,0DAAF,wDAoBRC,SAAU,SAAAC,GACT,IAAMC,EAAS,GAuBf,OArBKD,EAAOlB,MAGV,mDAAmDoB,KACnDF,EAAOlB,SAGRmB,EAAOnB,MAAQ,+BANfmB,EAAOnB,MAAQ,0BAUXkB,EAAOjB,SAGV,+FAA+FmB,KAC/FF,EAAOjB,YAGRkB,EAAOlB,SACN,0HAPDkB,EAAOlB,SAAW,kCASZkB,GAjDT,SAoDE,gBAAGA,EAAH,EAAGA,OAAQE,EAAX,EAAWA,aAAcC,EAAzB,EAAyBA,WAAYC,EAArC,EAAqCA,aAAcL,EAAnD,EAAmDA,OAAnD,OACA,UAAC,KAAD,CAAMhB,SAAUqB,EAAczB,UAAU,iBAAxC,WACC,uCACA,iBAAKA,UAAU,mBAAf,WACC,SAAC,KAAD,CACCA,UAAU,cACVS,KAAK,OACLiB,KAAK,QACLC,YAAY,QACZC,MAAOR,EAAOlB,MACd2B,SAAUN,EACVO,OAAQN,KAET,SAAC,KAAD,CACCE,KAAK,QACLK,UAAW,kBACV,gBAAK/B,UAAU,qBAAf,SAAqCqB,EAAOnB,eAI/C,iBAAKF,UAAU,mBAAf,WACC,SAAC,KAAD,CACCA,UAAU,cACVS,KAAK,WACLiB,KAAK,WACLC,YAAY,gBACZC,MAAOR,EAAOjB,SACd0B,SAAUN,EACVO,OAAQN,KAET,SAAC,KAAD,CACCE,KAAK,WACLK,UAAW,kBACV,gBAAK/B,UAAU,qBAAf,SAAqCqB,EAAOlB,kBAI/C,mBAAQH,UAAU,aAAaS,KAAK,SAApC","sources":["Components/Auth/LoginForm.js"],"sourcesContent":["import { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport React from 'react';\r\nimport '../FormStyles.css';\r\nimport { loginUser } from '../../Services/UsersHTTPService';\r\nimport showAlert from '../../shared/showAlert';\r\nimport { useHistory } from 'react-router-dom';\r\nconst LoginForm = () => {\r\n\tconst history = useHistory();\r\n\treturn (\r\n\t\t<section className='form__section'>\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={async ({ email, password }, { resetForm }) => {\r\n\t\t\t\t\tresetForm();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst user = await loginUser({ email, password });\r\n\t\t\t\t\t\tshowAlert({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\ttitle: 'Login exitoso',\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\twindow.localStorage.setItem('token', user.data.token);\r\n\t\t\t\t\t\tuser.data.user.role_id === 1 && history.push('/');\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tshowAlert({\r\n\t\t\t\t\t\t\ttype: err,\r\n\t\t\t\t\t\t\ttitle: 'Ups, hubo un error',\r\n\t\t\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\t\t'No has podido ingresar a tu cuenta, intentelo mas tarde',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tvalidate={values => {\r\n\t\t\t\t\tconst errors = {};\r\n\t\t\t\t\t// validate email\r\n\t\t\t\t\tif (!values.email) {\r\n\t\t\t\t\t\terrors.email = 'El email es obligatorio';\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t!/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/.test(\r\n\t\t\t\t\t\t\tvalues.email\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\terrors.email = 'Escriba un correo válido';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// validate password\r\n\t\t\t\t\tif (!values.password) {\r\n\t\t\t\t\t\terrors.password = 'La contraseña es obligatoria';\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&#.$($)$-$_])[A-Za-z\\d$@$!%*?&#.$($)$-$_]{6,15}$/.test(\r\n\t\t\t\t\t\t\tvalues.password\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\terrors.password =\r\n\t\t\t\t\t\t\t'La contraseña debe terner mínimo 6 caracteres, contener una mayúscula, un número y un carácter especial';\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn errors;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{({ errors, handleChange, handleBlur, handleSubmit, values }) => (\r\n\t\t\t\t\t<Form onSubmit={handleSubmit} className='form-container'>\r\n\t\t\t\t\t\t<header>Login</header>\r\n\t\t\t\t\t\t<div className='input__container'>\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tclassName='input-field'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\tvalue={values.email}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tcomponent={() => (\r\n\t\t\t\t\t\t\t\t\t<div className='error-message-form'>{errors.email}</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='input__container'>\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tclassName='input-field'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tplaceholder='Contraseña'\r\n\t\t\t\t\t\t\t\tvalue={values.password}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tcomponent={() => (\r\n\t\t\t\t\t\t\t\t\t<div className='error-message-form'>{errors.password}</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button className='submit-btn' type='submit'>\r\n\t\t\t\t\t\t\tLog In\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</Formik>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default LoginForm;\r\n"],"names":["history","useHistory","className","initialValues","email","password","onSubmit","resetForm","loginUser","user","showAlert","type","title","window","localStorage","setItem","data","token","role_id","push","message","validate","values","errors","test","handleChange","handleBlur","handleSubmit","name","placeholder","value","onChange","onBlur","component"],"sourceRoot":""}